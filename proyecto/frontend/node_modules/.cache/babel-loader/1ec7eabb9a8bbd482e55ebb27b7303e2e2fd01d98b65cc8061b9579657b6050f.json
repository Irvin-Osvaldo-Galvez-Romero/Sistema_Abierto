{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Sistema_Abierto\\\\proyecto\\\\frontend\\\\src\\\\pages\\\\StudentCreditsPage.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * Página de Créditos Complementarios (Estudiante)\r\n */\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Box, Button, Card, CardContent, CircularProgress, Container, Grid, Typography, Chip, Stack, Paper, Divider, TextField, FormControl, FormLabel, Alert, MenuItem, Select } from '@mui/material';\nimport { CloudUpload, Download, ArrowBack, CheckCircle, Info } from '@mui/icons-material';\nimport toast from 'react-hot-toast';\nimport CreditosService from '../services/creditos.service';\nimport { useAuthStore } from '../store/authStore';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ESTATUS_LABELS = {\n  PENDIENTE: {\n    label: 'Pendiente',\n    color: 'warning'\n  },\n  EN_REVISION: {\n    label: 'En revisión',\n    color: 'default'\n  },\n  VALIDADO: {\n    label: 'Validado',\n    color: 'success'\n  },\n  RECHAZADO: {\n    label: 'Rechazado',\n    color: 'error'\n  }\n};\nconst TIPO_LABELS = {\n  ACTIVIDADES_EXTRACURRICULARES: 'Actividades Extracurriculares',\n  CURSOS: 'Cursos',\n  TUTORIAS: 'Tutorías',\n  ACTIVIDADES_CULTURALES: 'Actividades Culturales'\n};\nconst TIPOS_DISPONIBLES = ['ACTIVIDADES_EXTRACURRICULARES', 'CURSOS', 'TUTORIAS', 'ACTIVIDADES_CULTURALES'];\nconst REGLAS_CREDITOS = ['Debes subir 5 créditos complementarios en total.', 'Puedes elegir cualquier combinación de tipos: Actividades Extracurriculares, Cursos, Tutorías y Actividades Culturales.', 'Puedes tener varios créditos del mismo tipo (ej: 3 cursos y 2 actividades extracurriculares).', 'Para CURSOS: Se requieren mínimo 60 horas de curso para completar 1 crédito complementario. Si tu curso tiene menos horas, puedes subir archivos adicionales hasta completar las 60 horas.', 'Debes proporcionar una descripción detallada del crédito que estás subiendo.', 'El archivo debe estar en formato PDF y no exceder 10MB.'];\nconst TOTAL_CREDITOS = 5;\nconst StudentCreditsPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    loadUser\n  } = useAuthStore();\n  const [creditos, setCreditos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [uploading, setUploading] = useState(null);\n  const [uploadingAdicional, setUploadingAdicional] = useState(null);\n  const [forms, setForms] = useState(new Map());\n  const [formsAdicionales, setFormsAdicionales] = useState(new Map());\n  const [errors, setErrors] = useState(new Map());\n  const [errorsAdicionales, setErrorsAdicionales] = useState(new Map());\n  const logoUrl = `${process.env.PUBLIC_URL}/logo-coordinacion.png`;\n  const creditosPorNumero = useMemo(() => {\n    const map = new Map();\n    creditos.forEach(credito => map.set(credito.numero, credito));\n    return map;\n  }, [creditos]);\n  const cargarCreditos = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await CreditosService.obtenerMisCreditos();\n      setCreditos(data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'No fue posible obtener tus créditos');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    loadUser();\n    cargarCreditos();\n  }, [cargarCreditos, loadUser]);\n  useEffect(() => {\n    if (user && user.rol !== 'ESTUDIANTE') {\n      navigate('/admin/dashboard');\n    }\n  }, [user, navigate]);\n\n  // Prellenar formularios para créditos rechazados\n  useEffect(() => {\n    creditos.forEach(credito => {\n      if (credito.estatus === 'RECHAZADO' && !forms.has(credito.numero)) {\n        setForms(prev => {\n          const newMap = new Map(prev);\n          newMap.set(credito.numero, {\n            tipo: credito.tipo,\n            titulo: credito.titulo,\n            descripcion: credito.descripcion,\n            horasCurso: credito.horasCurso ? String(credito.horasCurso) : '',\n            archivo: null\n          });\n          return newMap;\n        });\n      }\n    });\n  }, [creditos, forms]);\n  const updateForm = (numero, field, value) => {\n    setForms(prev => {\n      const newMap = new Map(prev);\n      const currentForm = newMap.get(numero) || {\n        tipo: '',\n        titulo: '',\n        descripcion: '',\n        horasCurso: '',\n        archivo: null\n      };\n      newMap.set(numero, {\n        ...currentForm,\n        [field]: value\n      });\n      return newMap;\n    });\n\n    // Limpiar error del campo\n    setErrors(prev => {\n      const newMap = new Map(prev);\n      const currentErrors = newMap.get(numero) || {};\n      delete currentErrors[field];\n      newMap.set(numero, currentErrors);\n      return newMap;\n    });\n  };\n  const validateForm = numero => {\n    const form = forms.get(numero) || {\n      tipo: '',\n      titulo: '',\n      descripcion: '',\n      horasCurso: '',\n      archivo: null\n    };\n    const newErrors = {};\n    if (!form.tipo) {\n      newErrors.tipo = 'Debes seleccionar un tipo de crédito';\n    }\n    if (!form.titulo.trim()) {\n      newErrors.titulo = 'El título es requerido';\n    }\n    if (!form.descripcion.trim()) {\n      newErrors.descripcion = 'La descripción es requerida';\n    }\n    if (form.tipo === 'CURSOS') {\n      if (!form.horasCurso || Number(form.horasCurso) <= 0) {\n        newErrors.horasCurso = 'Debes indicar las horas del curso';\n      }\n    }\n    if (!form.archivo) {\n      newErrors.archivo = 'Debes seleccionar un archivo PDF';\n    } else if (form.archivo.type !== 'application/pdf') {\n      newErrors.archivo = 'Solo se permiten archivos PDF';\n    } else if (form.archivo.size > 10 * 1024 * 1024) {\n      newErrors.archivo = 'El archivo no debe exceder 10MB';\n    }\n    setErrors(prev => {\n      const newMap = new Map(prev);\n      newMap.set(numero, newErrors);\n      return newMap;\n    });\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleSubmit = async numero => {\n    if (!validateForm(numero)) {\n      toast.error('Por favor completa todos los campos correctamente');\n      return;\n    }\n    const form = forms.get(numero);\n    if (!form || !form.archivo || !form.tipo) return;\n    try {\n      setUploading(numero);\n      const creditoExistente = creditosPorNumero.get(numero);\n      const esActualizacion = creditoExistente && creditoExistente.estatus === 'RECHAZADO';\n      await CreditosService.subirCredito({\n        numero: esActualizacion ? numero : undefined,\n        tipo: form.tipo,\n        titulo: form.titulo.trim(),\n        descripcion: form.descripcion.trim(),\n        horasCurso: form.tipo === 'CURSOS' ? Number(form.horasCurso) : undefined,\n        archivo: form.archivo\n      });\n      toast.success(`Crédito ${numero} enviado correctamente`);\n\n      // Limpiar formulario\n      setForms(prev => {\n        const newMap = new Map(prev);\n        newMap.delete(numero);\n        return newMap;\n      });\n      setErrors(prev => {\n        const newMap = new Map(prev);\n        newMap.delete(numero);\n        return newMap;\n      });\n      cargarCreditos();\n    } catch (error) {\n      var _error$response2, _error$response2$data, _error$response3, _error$response3$data, _error$response3$data2;\n      const message = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : (_error$response3$data2 = _error$response3$data.error) === null || _error$response3$data2 === void 0 ? void 0 : _error$response3$data2.message) || 'Error al subir el crédito';\n      toast.error(message);\n    } finally {\n      setUploading(null);\n    }\n  };\n  const updateFormAdicional = (creditoId, field, value) => {\n    setFormsAdicionales(prev => {\n      const newMap = new Map(prev);\n      const currentForm = newMap.get(creditoId) || {\n        horasCurso: '',\n        archivo: null\n      };\n      newMap.set(creditoId, {\n        ...currentForm,\n        [field]: value\n      });\n      return newMap;\n    });\n\n    // Limpiar error del campo\n    setErrorsAdicionales(prev => {\n      const newMap = new Map(prev);\n      const currentErrors = newMap.get(creditoId) || {};\n      delete currentErrors[field];\n      newMap.set(creditoId, currentErrors);\n      return newMap;\n    });\n  };\n  const validateFormAdicional = creditoId => {\n    const form = formsAdicionales.get(creditoId) || {\n      horasCurso: '',\n      archivo: null\n    };\n    const newErrors = {};\n    if (!form.horasCurso || Number(form.horasCurso) <= 0) {\n      newErrors.horasCurso = 'Debes indicar las horas de este archivo';\n    }\n    if (!form.archivo) {\n      newErrors.archivo = 'Debes seleccionar un archivo PDF';\n    } else if (form.archivo.type !== 'application/pdf') {\n      newErrors.archivo = 'Solo se permiten archivos PDF';\n    } else if (form.archivo.size > 10 * 1024 * 1024) {\n      newErrors.archivo = 'El archivo no debe exceder 10MB';\n    }\n    setErrorsAdicionales(prev => {\n      const newMap = new Map(prev);\n      newMap.set(creditoId, newErrors);\n      return newMap;\n    });\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleAgregarArchivoAdicional = async creditoId => {\n    if (!validateFormAdicional(creditoId)) {\n      toast.error('Por favor completa todos los campos correctamente');\n      return;\n    }\n    const form = formsAdicionales.get(creditoId);\n    if (!form || !form.archivo) return;\n    try {\n      setUploadingAdicional(creditoId);\n      await CreditosService.agregarArchivoAdicional(creditoId, Number(form.horasCurso), form.archivo);\n      toast.success('Archivo adicional agregado correctamente');\n\n      // Limpiar formulario\n      setFormsAdicionales(prev => {\n        const newMap = new Map(prev);\n        newMap.delete(creditoId);\n        return newMap;\n      });\n      setErrorsAdicionales(prev => {\n        const newMap = new Map(prev);\n        newMap.delete(creditoId);\n        return newMap;\n      });\n      cargarCreditos();\n    } catch (error) {\n      var _error$response4, _error$response4$data, _error$response5, _error$response5$data, _error$response5$data2;\n      const message = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : (_error$response5$data2 = _error$response5$data.error) === null || _error$response5$data2 === void 0 ? void 0 : _error$response5$data2.message) || 'Error al agregar archivo adicional';\n      toast.error(message);\n    } finally {\n      setUploadingAdicional(null);\n    }\n  };\n  const handleDescargar = async (creditoId, tipo) => {\n    try {\n      var _link$parentNode;\n      const response = await CreditosService.descargarArchivo(creditoId, tipo);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      const filename = tipo === 'original' ? `credito-original-${Date.now()}.pdf` : `constancia-firmada-${Date.now()}.pdf`;\n      link.setAttribute('download', filename);\n      document.body.appendChild(link);\n      link.click();\n      (_link$parentNode = link.parentNode) === null || _link$parentNode === void 0 ? void 0 : _link$parentNode.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      toast.error('No fue posible descargar el archivo');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: '#f5f7f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        background: 'linear-gradient(135deg, #006000 0%, #009e60 100%)',\n        color: '#FFFFFF',\n        py: 4,\n        mb: 5\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 2,\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              component: \"img\",\n              src: logoUrl,\n              alt: \"Coordinaci\\xF3n Sistema Abierto\",\n              sx: {\n                width: {\n                  xs: 70,\n                  sm: 90\n                },\n                height: {\n                  xs: 70,\n                  sm: 90\n                },\n                objectFit: 'contain',\n                borderRadius: '8px',\n                backgroundColor: 'rgba(255,255,255,0.15)',\n                p: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                fontWeight: 700,\n                lineHeight: 1.2,\n                children: \"Cr\\xE9ditos Complementarios\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                sx: {\n                  opacity: 0.85\n                },\n                children: \"Coord. de Sistema Abierto \\xB7 Modalidad Mixta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"inherit\",\n            startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 26\n            }, this),\n            onClick: () => navigate('/dashboard'),\n            sx: {\n              borderColor: '#ffffff',\n              color: '#ffffff',\n              '&:hover': {\n                borderColor: '#ffffff',\n                backgroundColor: 'rgba(255,255,255,0.1)'\n              }\n            },\n            children: \"Regresar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        pb: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: {\n            xs: 3,\n            md: 4\n          },\n          borderRadius: 3,\n          mb: 4,\n          backgroundColor: '#f5f5f5'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 1,\n          alignItems: \"center\",\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Info, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            fontWeight: 600,\n            sx: {\n              color: '#006000'\n            },\n            children: \"Reglas de los Cr\\xE9ditos Complementarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 1,\n          children: REGLAS_CREDITOS.map((regla, index) => /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 1,\n            alignItems: \"flex-start\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              sx: {\n                fontSize: 18,\n                color: 'success.main',\n                mt: 0.5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: regla\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: {\n            xs: 3,\n            md: 4\n          },\n          borderRadius: 3,\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            fontWeight: 600,\n            sx: {\n              color: '#006000'\n            },\n            children: [\"Estado de tus cr\\xE9ditos (\", creditos.length, \" / \", TOTAL_CREDITOS, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            color: \"text.secondary\",\n            children: \"Sube tus 5 cr\\xE9ditos complementarios en formato PDF. Puedes elegir cualquier combinaci\\xF3n de tipos. Desde aqu\\xED puedes monitorear si los acredit\\xF3 la coordinaci\\xF3n, revisar los comentarios y descargar la constancia firmada cuando est\\xE9 disponible.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: Array.from({\n              length: TOTAL_CREDITOS\n            }, (_, i) => i + 1).map(numero => {\n              const credito = creditosPorNumero.get(numero);\n              const estatusConfig = credito ? ESTATUS_LABELS[credito.estatus] : null;\n              const isUploading = uploading === numero;\n              const form = forms.get(numero) || {\n                tipo: '',\n                titulo: '',\n                descripcion: '',\n                horasCurso: '',\n                archivo: null\n              };\n              const formErrors = errors.get(numero) || {};\n              return /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  elevation: 2,\n                  sx: {\n                    borderRadius: 3,\n                    border: '1px solid rgba(0,0,0,0.08)',\n                    height: '100%',\n                    display: 'flex'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    sx: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      gap: 2,\n                      width: '100%'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h6\",\n                        fontWeight: 700,\n                        children: [\"Cr\\xE9dito \", numero]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 27\n                      }, this), estatusConfig && /*#__PURE__*/_jsxDEV(Chip, {\n                        label: estatusConfig.label,\n                        color: estatusConfig.color,\n                        sx: {\n                          fontWeight: 'bold'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 25\n                    }, this), credito && credito.estatus !== 'RECHAZADO' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"text.secondary\",\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Tipo:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 465,\n                          columnNumber: 31\n                        }, this), \" \", TIPO_LABELS[credito.tipo]]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 464,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"text.secondary\",\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"T\\xEDtulo:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 468,\n                          columnNumber: 31\n                        }, this), \" \", credito.titulo]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 467,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"text.secondary\",\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Descripci\\xF3n:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 471,\n                          columnNumber: 31\n                        }, this), \" \", credito.descripcion]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 470,\n                        columnNumber: 29\n                      }, this), credito.tipo === 'CURSOS' && /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          p: 2,\n                          borderRadius: 2,\n                          backgroundColor: credito.horasTotales && credito.horasTotales >= 60 ? '#e8f5e9' : '#fff3e0',\n                          border: `1px solid ${credito.horasTotales && credito.horasTotales >= 60 ? '#4caf50' : '#ff9800'}`\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"subtitle2\",\n                          fontWeight: \"bold\",\n                          sx: {\n                            mb: 1\n                          },\n                          children: \"Progreso de horas:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 482,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          children: [\"Horas del archivo original: \", credito.horasCurso || 0]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 485,\n                          columnNumber: 33\n                        }, this), credito.archivosAdicionales && credito.archivosAdicionales.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"body2\",\n                            children: [\"Archivos adicionales: \", credito.archivosAdicionales.length]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 490,\n                            columnNumber: 37\n                          }, this), credito.archivosAdicionales.map((arch, idx) => /*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"caption\",\n                            display: \"block\",\n                            sx: {\n                              ml: 2\n                            },\n                            children: [\"- Archivo \", idx + 1, \": \", arch.horas, \" horas\"]\n                          }, arch.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 494,\n                            columnNumber: 39\n                          }, this))]\n                        }, void 0, true), /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body1\",\n                          fontWeight: \"bold\",\n                          sx: {\n                            mt: 1\n                          },\n                          children: [\"Total: \", credito.horasTotales || credito.horasCurso || 0, \" / 60 horas\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 500,\n                          columnNumber: 33\n                        }, this), credito.horasTotales && credito.horasTotales < 60 && /*#__PURE__*/_jsxDEV(Alert, {\n                          severity: \"warning\",\n                          sx: {\n                            mt: 1\n                          },\n                          children: [\"A\\xFAn necesitas \", 60 - (credito.horasTotales || 0), \" horas para completar el cr\\xE9dito. Sube archivos adicionales.\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 504,\n                          columnNumber: 35\n                        }, this), credito.horasTotales && credito.horasTotales >= 60 && /*#__PURE__*/_jsxDEV(Alert, {\n                          severity: \"success\",\n                          sx: {\n                            mt: 1\n                          },\n                          children: \"\\xA1Has completado las 60 horas requeridas!\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 509,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 474,\n                        columnNumber: 31\n                      }, this), credito.tipo === 'CURSOS' && credito.horasTotales && credito.horasTotales < 60 && /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          p: 2,\n                          borderRadius: 2,\n                          backgroundColor: '#f5f5f5',\n                          border: '1px dashed #ccc'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"subtitle2\",\n                          fontWeight: \"bold\",\n                          sx: {\n                            mb: 1\n                          },\n                          children: \"Agregar archivo adicional:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 518,\n                          columnNumber: 33\n                        }, this), (() => {\n                          const formAdicional = formsAdicionales.get(credito.id) || {\n                            horasCurso: '',\n                            archivo: null\n                          };\n                          const errorsAdicional = errorsAdicionales.get(credito.id) || {};\n                          return /*#__PURE__*/_jsxDEV(Stack, {\n                            spacing: 2,\n                            children: [/*#__PURE__*/_jsxDEV(TextField, {\n                              label: \"Horas de este archivo *\",\n                              type: \"number\",\n                              value: formAdicional.horasCurso,\n                              onChange: e => updateFormAdicional(credito.id, 'horasCurso', e.target.value),\n                              error: !!errorsAdicional.horasCurso,\n                              helperText: errorsAdicional.horasCurso,\n                              fullWidth: true,\n                              size: \"small\",\n                              inputProps: {\n                                min: 1\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 526,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outlined\",\n                              component: \"label\",\n                              startIcon: /*#__PURE__*/_jsxDEV(CloudUpload, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 540,\n                                columnNumber: 52\n                              }, this),\n                              fullWidth: true,\n                              sx: {\n                                borderColor: '#008000',\n                                color: '#008000'\n                              },\n                              children: [formAdicional.archivo ? formAdicional.archivo.name : 'Seleccionar archivo PDF adicional', /*#__PURE__*/_jsxDEV(\"input\", {\n                                hidden: true,\n                                accept: \"application/pdf\",\n                                type: \"file\",\n                                onChange: e => {\n                                  var _e$target$files;\n                                  const file = ((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null;\n                                  updateFormAdicional(credito.id, 'archivo', file);\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 545,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 537,\n                              columnNumber: 39\n                            }, this), errorsAdicional.archivo && /*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"caption\",\n                              color: \"error\",\n                              children: errorsAdicional.archivo\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 556,\n                              columnNumber: 41\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"contained\",\n                              onClick: () => handleAgregarArchivoAdicional(credito.id),\n                              disabled: uploadingAdicional === credito.id,\n                              startIcon: uploadingAdicional === credito.id ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                                size: 20,\n                                color: \"inherit\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 564,\n                                columnNumber: 88\n                              }, this) : /*#__PURE__*/_jsxDEV(CloudUpload, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 564,\n                                columnNumber: 137\n                              }, this),\n                              fullWidth: true,\n                              sx: {\n                                backgroundColor: '#008000',\n                                '&:hover': {\n                                  backgroundColor: '#006f40'\n                                }\n                              },\n                              children: uploadingAdicional === credito.id ? 'Subiendo...' : 'Agregar archivo adicional'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 560,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 525,\n                            columnNumber: 37\n                          }, this);\n                        })()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 517,\n                        columnNumber: 31\n                      }, this), credito.motivoRechazo && /*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          borderRadius: 2,\n                          border: '1px solid',\n                          borderColor: 'error.light',\n                          backgroundColor: 'rgba(244, 67, 54, 0.08)',\n                          p: 2\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"subtitle2\",\n                          color: \"error\",\n                          fontWeight: 600,\n                          children: \"Motivo del rechazo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 589,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          color: \"error.dark\",\n                          children: credito.motivoRechazo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 592,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 580,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                        direction: {\n                          xs: 'column',\n                          sm: 'row'\n                        },\n                        spacing: 1.5,\n                        children: [credito.archivoOriginal && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outlined\",\n                          startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 602,\n                            columnNumber: 46\n                          }, this),\n                          onClick: () => handleDescargar(credito.id, 'original'),\n                          sx: {\n                            borderColor: '#008000',\n                            color: '#008000'\n                          },\n                          children: \"Ver original\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 600,\n                          columnNumber: 33\n                        }, this), credito.estatus === 'VALIDADO' && credito.archivoValidado && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outlined\",\n                          startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 613,\n                            columnNumber: 46\n                          }, this),\n                          onClick: () => handleDescargar(credito.id, 'firmado'),\n                          sx: {\n                            borderColor: '#006000',\n                            color: '#006000'\n                          },\n                          children: \"Constancia firmada\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 611,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 598,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(Stack, {\n                      spacing: 2,\n                      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                        fullWidth: true,\n                        error: !!formErrors.tipo,\n                        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                          children: \"Tipo de Cr\\xE9dito *\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 625,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Select, {\n                          value: form.tipo,\n                          onChange: e => updateForm(numero, 'tipo', e.target.value),\n                          size: \"small\",\n                          children: TIPOS_DISPONIBLES.map(tipo => /*#__PURE__*/_jsxDEV(MenuItem, {\n                            value: tipo,\n                            children: TIPO_LABELS[tipo]\n                          }, tipo, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 632,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 626,\n                          columnNumber: 31\n                        }, this), formErrors.tipo && /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"caption\",\n                          color: \"error\",\n                          sx: {\n                            mt: 0.5\n                          },\n                          children: formErrors.tipo\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 638,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 29\n                      }, this), form.tipo === 'CURSOS' && /*#__PURE__*/_jsxDEV(Alert, {\n                        severity: \"info\",\n                        children: \"Para cursos, se requieren m\\xEDnimo 60 horas para completar 1 cr\\xE9dito complementario. Si tu curso tiene menos horas, podr\\xE1s agregar archivos adicionales despu\\xE9s.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                        label: \"T\\xEDtulo del Cr\\xE9dito *\",\n                        value: form.titulo,\n                        onChange: e => updateForm(numero, 'titulo', e.target.value),\n                        error: !!formErrors.titulo,\n                        helperText: formErrors.titulo,\n                        fullWidth: true,\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 650,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                        label: \"Descripci\\xF3n del Cr\\xE9dito *\",\n                        value: form.descripcion,\n                        onChange: e => updateForm(numero, 'descripcion', e.target.value),\n                        error: !!formErrors.descripcion,\n                        helperText: formErrors.descripcion,\n                        multiline: true,\n                        rows: 3,\n                        fullWidth: true,\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 660,\n                        columnNumber: 29\n                      }, this), form.tipo === 'CURSOS' && /*#__PURE__*/_jsxDEV(TextField, {\n                        label: \"Horas del Curso *\",\n                        type: \"number\",\n                        value: form.horasCurso,\n                        onChange: e => updateForm(numero, 'horasCurso', e.target.value),\n                        error: !!formErrors.horasCurso,\n                        helperText: formErrors.horasCurso || 'Indica las horas de este archivo. Si no completas 60 horas, podrás agregar archivos adicionales después.',\n                        fullWidth: true,\n                        size: \"small\",\n                        inputProps: {\n                          min: 1\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 673,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outlined\",\n                        component: \"label\",\n                        startIcon: /*#__PURE__*/_jsxDEV(CloudUpload, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 689,\n                          columnNumber: 42\n                        }, this),\n                        fullWidth: true,\n                        sx: {\n                          borderColor: '#008000',\n                          color: '#008000'\n                        },\n                        children: [form.archivo ? form.archivo.name : 'Seleccionar archivo PDF', /*#__PURE__*/_jsxDEV(\"input\", {\n                          hidden: true,\n                          accept: \"application/pdf\",\n                          type: \"file\",\n                          onChange: e => {\n                            var _e$target$files2;\n                            const file = ((_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0]) || null;\n                            updateForm(numero, 'archivo', file);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 694,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 686,\n                        columnNumber: 29\n                      }, this), formErrors.archivo && /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        color: \"error\",\n                        sx: {\n                          mt: -1\n                        },\n                        children: formErrors.archivo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 705,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"contained\",\n                        onClick: () => handleSubmit(numero),\n                        disabled: isUploading,\n                        startIcon: isUploading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          size: 20,\n                          color: \"inherit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 714,\n                          columnNumber: 56\n                        }, this) : /*#__PURE__*/_jsxDEV(CloudUpload, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 714,\n                          columnNumber: 105\n                        }, this),\n                        fullWidth: true,\n                        sx: {\n                          backgroundColor: '#008000',\n                          '&:hover': {\n                            backgroundColor: '#006f40'\n                          }\n                        },\n                        children: isUploading ? 'Subiendo...' : 'Subir crédito'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 710,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 623,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this)\n              }, numero, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          py: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n          sx: {\n            color: '#008000',\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"Cargando informaci\\xF3n de tus cr\\xE9ditos...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentCreditsPage, \"MK8hvToQP0B8C2vMo9Ws4pPNsT4=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = StudentCreditsPage;\nexport default StudentCreditsPage;\nvar _c;\n$RefreshReg$(_c, \"StudentCreditsPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","Box","Button","Card","CardContent","CircularProgress","Container","Grid","Typography","Chip","Stack","Paper","Divider","TextField","FormControl","FormLabel","Alert","MenuItem","Select","CloudUpload","Download","ArrowBack","CheckCircle","Info","toast","CreditosService","useAuthStore","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","ESTATUS_LABELS","PENDIENTE","label","color","EN_REVISION","VALIDADO","RECHAZADO","TIPO_LABELS","ACTIVIDADES_EXTRACURRICULARES","CURSOS","TUTORIAS","ACTIVIDADES_CULTURALES","TIPOS_DISPONIBLES","REGLAS_CREDITOS","TOTAL_CREDITOS","StudentCreditsPage","_s","navigate","user","loadUser","creditos","setCreditos","loading","setLoading","uploading","setUploading","uploadingAdicional","setUploadingAdicional","forms","setForms","Map","formsAdicionales","setFormsAdicionales","errors","setErrors","errorsAdicionales","setErrorsAdicionales","logoUrl","process","env","PUBLIC_URL","creditosPorNumero","map","forEach","credito","set","numero","cargarCreditos","data","obtenerMisCreditos","error","_error$response","_error$response$data","response","message","rol","estatus","has","prev","newMap","tipo","titulo","descripcion","horasCurso","String","archivo","updateForm","field","value","currentForm","get","currentErrors","validateForm","form","newErrors","trim","Number","type","size","Object","keys","length","handleSubmit","creditoExistente","esActualizacion","subirCredito","undefined","success","delete","_error$response2","_error$response2$data","_error$response3","_error$response3$data","_error$response3$data2","updateFormAdicional","creditoId","validateFormAdicional","handleAgregarArchivoAdicional","agregarArchivoAdicional","_error$response4","_error$response4$data","_error$response5","_error$response5$data","_error$response5$data2","handleDescargar","_link$parentNode","descargarArchivo","url","window","URL","createObjectURL","Blob","link","document","createElement","href","filename","Date","now","setAttribute","body","appendChild","click","parentNode","removeChild","revokeObjectURL","sx","minHeight","backgroundColor","children","background","py","mb","maxWidth","direction","alignItems","justifyContent","spacing","component","src","alt","width","xs","sm","height","objectFit","borderRadius","p","fileName","_jsxFileName","lineNumber","columnNumber","variant","fontWeight","lineHeight","opacity","startIcon","onClick","borderColor","pb","elevation","md","regla","index","fontSize","mt","container","Array","from","_","i","estatusConfig","isUploading","formErrors","item","border","display","flexDirection","gap","horasTotales","archivosAdicionales","arch","idx","ml","horas","id","severity","formAdicional","errorsAdicional","onChange","e","target","helperText","fullWidth","inputProps","min","name","hidden","accept","_e$target$files","file","files","disabled","motivoRechazo","archivoOriginal","archivoValidado","multiline","rows","_e$target$files2","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/pages/StudentCreditsPage.tsx"],"sourcesContent":["/**\r\n * Página de Créditos Complementarios (Estudiante)\r\n */\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CircularProgress,\r\n  Container,\r\n  Grid,\r\n  Typography,\r\n  Chip,\r\n  Stack,\r\n  Paper,\r\n  Divider,\r\n  TextField,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  Alert,\r\n  MenuItem,\r\n  Select,\r\n} from '@mui/material';\r\nimport { CloudUpload, Download, ArrowBack, CheckCircle, Info } from '@mui/icons-material';\r\nimport toast from 'react-hot-toast';\r\nimport CreditosService from '../services/creditos.service';\r\nimport { CreditoComplementario, EstatusCreditoComplementario, TipoCreditoComplementario } from '../types/creditos.types';\r\nimport { useAuthStore } from '../store/authStore';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst ESTATUS_LABELS: Record<EstatusCreditoComplementario, { label: string; color: 'default' | 'success' | 'warning' | 'error' }> = {\r\n  PENDIENTE: { label: 'Pendiente', color: 'warning' },\r\n  EN_REVISION: { label: 'En revisión', color: 'default' },\r\n  VALIDADO: { label: 'Validado', color: 'success' },\r\n  RECHAZADO: { label: 'Rechazado', color: 'error' },\r\n};\r\n\r\nconst TIPO_LABELS: Record<TipoCreditoComplementario, string> = {\r\n  ACTIVIDADES_EXTRACURRICULARES: 'Actividades Extracurriculares',\r\n  CURSOS: 'Cursos',\r\n  TUTORIAS: 'Tutorías',\r\n  ACTIVIDADES_CULTURALES: 'Actividades Culturales',\r\n};\r\n\r\nconst TIPOS_DISPONIBLES: TipoCreditoComplementario[] = [\r\n  'ACTIVIDADES_EXTRACURRICULARES',\r\n  'CURSOS',\r\n  'TUTORIAS',\r\n  'ACTIVIDADES_CULTURALES',\r\n];\r\n\r\nconst REGLAS_CREDITOS = [\r\n  'Debes subir 5 créditos complementarios en total.',\r\n  'Puedes elegir cualquier combinación de tipos: Actividades Extracurriculares, Cursos, Tutorías y Actividades Culturales.',\r\n  'Puedes tener varios créditos del mismo tipo (ej: 3 cursos y 2 actividades extracurriculares).',\r\n  'Para CURSOS: Se requieren mínimo 60 horas de curso para completar 1 crédito complementario. Si tu curso tiene menos horas, puedes subir archivos adicionales hasta completar las 60 horas.',\r\n  'Debes proporcionar una descripción detallada del crédito que estás subiendo.',\r\n  'El archivo debe estar en formato PDF y no exceder 10MB.',\r\n];\r\n\r\ninterface FormData {\r\n  tipo: TipoCreditoComplementario | '';\r\n  titulo: string;\r\n  descripcion: string;\r\n  horasCurso: string;\r\n  archivo: File | null;\r\n}\r\n\r\nconst TOTAL_CREDITOS = 5;\r\n\r\nconst StudentCreditsPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { user, loadUser } = useAuthStore();\r\n  const [creditos, setCreditos] = useState<CreditoComplementario[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [uploading, setUploading] = useState<number | null>(null);\r\n  const [uploadingAdicional, setUploadingAdicional] = useState<string | null>(null);\r\n  const [forms, setForms] = useState<Map<number, FormData>>(new Map());\r\n  const [formsAdicionales, setFormsAdicionales] = useState<Map<string, { horasCurso: string; archivo: File | null }>>(new Map());\r\n  const [errors, setErrors] = useState<Map<number, Record<string, string>>>(new Map());\r\n  const [errorsAdicionales, setErrorsAdicionales] = useState<Map<string, Record<string, string>>>(new Map());\r\n  const logoUrl = `${process.env.PUBLIC_URL}/logo-coordinacion.png`;\r\n\r\n  const creditosPorNumero = useMemo(() => {\r\n    const map = new Map<number, CreditoComplementario>();\r\n    creditos.forEach((credito) => map.set(credito.numero, credito));\r\n    return map;\r\n  }, [creditos]);\r\n\r\n  const cargarCreditos = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await CreditosService.obtenerMisCreditos();\r\n      setCreditos(data);\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No fue posible obtener tus créditos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadUser();\r\n    cargarCreditos();\r\n  }, [cargarCreditos, loadUser]);\r\n\r\n  useEffect(() => {\r\n    if (user && user.rol !== 'ESTUDIANTE') {\r\n      navigate('/admin/dashboard');\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  // Prellenar formularios para créditos rechazados\r\n  useEffect(() => {\r\n    creditos.forEach((credito) => {\r\n      if (credito.estatus === 'RECHAZADO' && !forms.has(credito.numero)) {\r\n        setForms((prev) => {\r\n          const newMap = new Map(prev);\r\n          newMap.set(credito.numero, {\r\n            tipo: credito.tipo,\r\n            titulo: credito.titulo,\r\n            descripcion: credito.descripcion,\r\n            horasCurso: credito.horasCurso ? String(credito.horasCurso) : '',\r\n            archivo: null,\r\n          });\r\n          return newMap;\r\n        });\r\n      }\r\n    });\r\n  }, [creditos, forms]);\r\n\r\n  const updateForm = (numero: number, field: keyof FormData, value: string | File | null) => {\r\n    setForms((prev) => {\r\n      const newMap = new Map(prev);\r\n      const currentForm = newMap.get(numero) || { tipo: '', titulo: '', descripcion: '', horasCurso: '', archivo: null };\r\n      newMap.set(numero, { ...currentForm, [field]: value });\r\n      return newMap;\r\n    });\r\n\r\n    // Limpiar error del campo\r\n    setErrors((prev) => {\r\n      const newMap = new Map(prev);\r\n      const currentErrors = newMap.get(numero) || {};\r\n      delete currentErrors[field];\r\n      newMap.set(numero, currentErrors);\r\n      return newMap;\r\n    });\r\n  };\r\n\r\n  const validateForm = (numero: number): boolean => {\r\n    const form = forms.get(numero) || { tipo: '', titulo: '', descripcion: '', horasCurso: '', archivo: null };\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!form.tipo) {\r\n      newErrors.tipo = 'Debes seleccionar un tipo de crédito';\r\n    }\r\n\r\n    if (!form.titulo.trim()) {\r\n      newErrors.titulo = 'El título es requerido';\r\n    }\r\n\r\n    if (!form.descripcion.trim()) {\r\n      newErrors.descripcion = 'La descripción es requerida';\r\n    }\r\n\r\n    if (form.tipo === 'CURSOS') {\r\n      if (!form.horasCurso || Number(form.horasCurso) <= 0) {\r\n        newErrors.horasCurso = 'Debes indicar las horas del curso';\r\n      }\r\n    }\r\n\r\n    if (!form.archivo) {\r\n      newErrors.archivo = 'Debes seleccionar un archivo PDF';\r\n    } else if (form.archivo.type !== 'application/pdf') {\r\n      newErrors.archivo = 'Solo se permiten archivos PDF';\r\n    } else if (form.archivo.size > 10 * 1024 * 1024) {\r\n      newErrors.archivo = 'El archivo no debe exceder 10MB';\r\n    }\r\n\r\n    setErrors((prev) => {\r\n      const newMap = new Map(prev);\r\n      newMap.set(numero, newErrors);\r\n      return newMap;\r\n    });\r\n\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (numero: number) => {\r\n    if (!validateForm(numero)) {\r\n      toast.error('Por favor completa todos los campos correctamente');\r\n      return;\r\n    }\r\n\r\n    const form = forms.get(numero);\r\n    if (!form || !form.archivo || !form.tipo) return;\r\n\r\n    try {\r\n      setUploading(numero);\r\n      const creditoExistente = creditosPorNumero.get(numero);\r\n      const esActualizacion = creditoExistente && creditoExistente.estatus === 'RECHAZADO';\r\n      \r\n      await CreditosService.subirCredito({\r\n        numero: esActualizacion ? numero : undefined,\r\n        tipo: form.tipo as TipoCreditoComplementario,\r\n        titulo: form.titulo.trim(),\r\n        descripcion: form.descripcion.trim(),\r\n        horasCurso: form.tipo === 'CURSOS' ? Number(form.horasCurso) : undefined,\r\n        archivo: form.archivo,\r\n      });\r\n      toast.success(`Crédito ${numero} enviado correctamente`);\r\n      \r\n      // Limpiar formulario\r\n      setForms((prev) => {\r\n        const newMap = new Map(prev);\r\n        newMap.delete(numero);\r\n        return newMap;\r\n      });\r\n      setErrors((prev) => {\r\n        const newMap = new Map(prev);\r\n        newMap.delete(numero);\r\n        return newMap;\r\n      });\r\n      \r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      const message = error.response?.data?.message || error.response?.data?.error?.message || 'Error al subir el crédito';\r\n      toast.error(message);\r\n    } finally {\r\n      setUploading(null);\r\n    }\r\n  };\r\n\r\n  const updateFormAdicional = (creditoId: string, field: 'horasCurso' | 'archivo', value: string | File | null) => {\r\n    setFormsAdicionales((prev) => {\r\n      const newMap = new Map(prev);\r\n      const currentForm = newMap.get(creditoId) || { horasCurso: '', archivo: null };\r\n      newMap.set(creditoId, { ...currentForm, [field]: value });\r\n      return newMap;\r\n    });\r\n\r\n    // Limpiar error del campo\r\n    setErrorsAdicionales((prev) => {\r\n      const newMap = new Map(prev);\r\n      const currentErrors = newMap.get(creditoId) || {};\r\n      delete currentErrors[field];\r\n      newMap.set(creditoId, currentErrors);\r\n      return newMap;\r\n    });\r\n  };\r\n\r\n  const validateFormAdicional = (creditoId: string): boolean => {\r\n    const form = formsAdicionales.get(creditoId) || { horasCurso: '', archivo: null };\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!form.horasCurso || Number(form.horasCurso) <= 0) {\r\n      newErrors.horasCurso = 'Debes indicar las horas de este archivo';\r\n    }\r\n\r\n    if (!form.archivo) {\r\n      newErrors.archivo = 'Debes seleccionar un archivo PDF';\r\n    } else if (form.archivo.type !== 'application/pdf') {\r\n      newErrors.archivo = 'Solo se permiten archivos PDF';\r\n    } else if (form.archivo.size > 10 * 1024 * 1024) {\r\n      newErrors.archivo = 'El archivo no debe exceder 10MB';\r\n    }\r\n\r\n    setErrorsAdicionales((prev) => {\r\n      const newMap = new Map(prev);\r\n      newMap.set(creditoId, newErrors);\r\n      return newMap;\r\n    });\r\n\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleAgregarArchivoAdicional = async (creditoId: string) => {\r\n    if (!validateFormAdicional(creditoId)) {\r\n      toast.error('Por favor completa todos los campos correctamente');\r\n      return;\r\n    }\r\n\r\n    const form = formsAdicionales.get(creditoId);\r\n    if (!form || !form.archivo) return;\r\n\r\n    try {\r\n      setUploadingAdicional(creditoId);\r\n      await CreditosService.agregarArchivoAdicional(creditoId, Number(form.horasCurso), form.archivo);\r\n      toast.success('Archivo adicional agregado correctamente');\r\n      \r\n      // Limpiar formulario\r\n      setFormsAdicionales((prev) => {\r\n        const newMap = new Map(prev);\r\n        newMap.delete(creditoId);\r\n        return newMap;\r\n      });\r\n      setErrorsAdicionales((prev) => {\r\n        const newMap = new Map(prev);\r\n        newMap.delete(creditoId);\r\n        return newMap;\r\n      });\r\n      \r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      const message = error.response?.data?.message || error.response?.data?.error?.message || 'Error al agregar archivo adicional';\r\n      toast.error(message);\r\n    } finally {\r\n      setUploadingAdicional(null);\r\n    }\r\n  };\r\n\r\n  const handleDescargar = async (creditoId: string, tipo: 'original' | 'firmado') => {\r\n    try {\r\n      const response = await CreditosService.descargarArchivo(creditoId, tipo);\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      const filename = tipo === 'original' ? `credito-original-${Date.now()}.pdf` : `constancia-firmada-${Date.now()}.pdf`;\r\n      link.setAttribute('download', filename);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.parentNode?.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error: any) {\r\n      toast.error('No fue posible descargar el archivo');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', backgroundColor: '#f5f7f5' }}>\r\n      <Box\r\n        sx={{\r\n          background: 'linear-gradient(135deg, #006000 0%, #009e60 100%)',\r\n          color: '#FFFFFF',\r\n          py: 4,\r\n          mb: 5,\r\n        }}\r\n      >\r\n        <Container maxWidth=\"lg\">\r\n          <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" spacing={3}>\r\n            <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n              <Box\r\n                component=\"img\"\r\n                src={logoUrl}\r\n                alt=\"Coordinación Sistema Abierto\"\r\n                sx={{\r\n                  width: { xs: 70, sm: 90 },\r\n                  height: { xs: 70, sm: 90 },\r\n                  objectFit: 'contain',\r\n                  borderRadius: '8px',\r\n                  backgroundColor: 'rgba(255,255,255,0.15)',\r\n                  p: 1,\r\n                }}\r\n              />\r\n              <Box>\r\n                <Typography variant=\"h4\" fontWeight={700} lineHeight={1.2}>\r\n                  Créditos Complementarios\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" sx={{ opacity: 0.85 }}>\r\n                  Coord. de Sistema Abierto · Modalidad Mixta\r\n                </Typography>\r\n              </Box>\r\n            </Stack>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              startIcon={<ArrowBack />}\r\n              onClick={() => navigate('/dashboard')}\r\n              sx={{\r\n                borderColor: '#ffffff',\r\n                color: '#ffffff',\r\n                '&:hover': {\r\n                  borderColor: '#ffffff',\r\n                  backgroundColor: 'rgba(255,255,255,0.1)',\r\n                },\r\n              }}\r\n            >\r\n              Regresar\r\n            </Button>\r\n          </Stack>\r\n        </Container>\r\n      </Box>\r\n\r\n      <Container maxWidth=\"lg\" sx={{ pb: 6 }}>\r\n        {/* Reglas de los créditos */}\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            p: { xs: 3, md: 4 },\r\n            borderRadius: 3,\r\n            mb: 4,\r\n            backgroundColor: '#f5f5f5',\r\n          }}\r\n        >\r\n          <Stack direction=\"row\" spacing={1} alignItems=\"center\" sx={{ mb: 2 }}>\r\n            <Info color=\"primary\" />\r\n            <Typography variant=\"h6\" fontWeight={600} sx={{ color: '#006000' }}>\r\n              Reglas de los Créditos Complementarios\r\n            </Typography>\r\n          </Stack>\r\n          <Stack spacing={1}>\r\n            {REGLAS_CREDITOS.map((regla, index) => (\r\n              <Stack key={index} direction=\"row\" spacing={1} alignItems=\"flex-start\">\r\n                <CheckCircle sx={{ fontSize: 18, color: 'success.main', mt: 0.5 }} />\r\n                <Typography variant=\"body2\">{regla}</Typography>\r\n              </Stack>\r\n            ))}\r\n          </Stack>\r\n        </Paper>\r\n\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            p: { xs: 3, md: 4 },\r\n            borderRadius: 3,\r\n            mb: 4,\r\n          }}\r\n        >\r\n          <Stack spacing={2}>\r\n            <Typography variant=\"h5\" fontWeight={600} sx={{ color: '#006000' }}>\r\n              Estado de tus créditos ({creditos.length} / {TOTAL_CREDITOS})\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"text.secondary\">\r\n              Sube tus 5 créditos complementarios en formato PDF. Puedes elegir cualquier combinación de tipos.\r\n              Desde aquí puedes monitorear si los acreditó la coordinación, revisar los comentarios y descargar la constancia firmada cuando esté disponible.\r\n            </Typography>\r\n            <Divider />\r\n            <Grid container spacing={3}>\r\n              {Array.from({ length: TOTAL_CREDITOS }, (_, i) => i + 1).map((numero) => {\r\n                const credito = creditosPorNumero.get(numero);\r\n                const estatusConfig = credito ? ESTATUS_LABELS[credito.estatus] : null;\r\n                const isUploading = uploading === numero;\r\n                const form = forms.get(numero) || { tipo: '', titulo: '', descripcion: '', horasCurso: '', archivo: null };\r\n                const formErrors = errors.get(numero) || {};\r\n\r\n                return (\r\n                  <Grid item xs={12} md={6} key={numero}>\r\n                    <Card\r\n                      elevation={2}\r\n                      sx={{\r\n                        borderRadius: 3,\r\n                        border: '1px solid rgba(0,0,0,0.08)',\r\n                        height: '100%',\r\n                        display: 'flex',\r\n                      }}\r\n                    >\r\n                      <CardContent sx={{ display: 'flex', flexDirection: 'column', gap: 2, width: '100%' }}>\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                          <Typography variant=\"h6\" fontWeight={700}>\r\n                            Crédito {numero}\r\n                          </Typography>\r\n                          {estatusConfig && (\r\n                            <Chip label={estatusConfig.label} color={estatusConfig.color} sx={{ fontWeight: 'bold' }} />\r\n                          )}\r\n                        </Box>\r\n\r\n                        {credito && credito.estatus !== 'RECHAZADO' ? (\r\n                          <>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              <strong>Tipo:</strong> {TIPO_LABELS[credito.tipo]}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              <strong>Título:</strong> {credito.titulo}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              <strong>Descripción:</strong> {credito.descripcion}\r\n                            </Typography>\r\n                            {credito.tipo === 'CURSOS' && (\r\n                              <Box\r\n                                sx={{\r\n                                  p: 2,\r\n                                  borderRadius: 2,\r\n                                  backgroundColor: credito.horasTotales && credito.horasTotales >= 60 ? '#e8f5e9' : '#fff3e0',\r\n                                  border: `1px solid ${credito.horasTotales && credito.horasTotales >= 60 ? '#4caf50' : '#ff9800'}`,\r\n                                }}\r\n                              >\r\n                                <Typography variant=\"subtitle2\" fontWeight=\"bold\" sx={{ mb: 1 }}>\r\n                                  Progreso de horas:\r\n                                </Typography>\r\n                                <Typography variant=\"body2\">\r\n                                  Horas del archivo original: {credito.horasCurso || 0}\r\n                                </Typography>\r\n                                {credito.archivosAdicionales && credito.archivosAdicionales.length > 0 && (\r\n                                  <>\r\n                                    <Typography variant=\"body2\">\r\n                                      Archivos adicionales: {credito.archivosAdicionales.length}\r\n                                    </Typography>\r\n                                    {credito.archivosAdicionales.map((arch, idx) => (\r\n                                      <Typography key={arch.id} variant=\"caption\" display=\"block\" sx={{ ml: 2 }}>\r\n                                        - Archivo {idx + 1}: {arch.horas} horas\r\n                                      </Typography>\r\n                                    ))}\r\n                                  </>\r\n                                )}\r\n                                <Typography variant=\"body1\" fontWeight=\"bold\" sx={{ mt: 1 }}>\r\n                                  Total: {credito.horasTotales || credito.horasCurso || 0} / 60 horas\r\n                                </Typography>\r\n                                {credito.horasTotales && credito.horasTotales < 60 && (\r\n                                  <Alert severity=\"warning\" sx={{ mt: 1 }}>\r\n                                    Aún necesitas {60 - (credito.horasTotales || 0)} horas para completar el crédito. Sube archivos adicionales.\r\n                                  </Alert>\r\n                                )}\r\n                                {credito.horasTotales && credito.horasTotales >= 60 && (\r\n                                  <Alert severity=\"success\" sx={{ mt: 1 }}>\r\n                                    ¡Has completado las 60 horas requeridas!\r\n                                  </Alert>\r\n                                )}\r\n                              </Box>\r\n                            )}\r\n\r\n                            {credito.tipo === 'CURSOS' && credito.horasTotales && credito.horasTotales < 60 && (\r\n                              <Box sx={{ p: 2, borderRadius: 2, backgroundColor: '#f5f5f5', border: '1px dashed #ccc' }}>\r\n                                <Typography variant=\"subtitle2\" fontWeight=\"bold\" sx={{ mb: 1 }}>\r\n                                  Agregar archivo adicional:\r\n                                </Typography>\r\n                                {(() => {\r\n                                  const formAdicional = formsAdicionales.get(credito.id) || { horasCurso: '', archivo: null };\r\n                                  const errorsAdicional = errorsAdicionales.get(credito.id) || {};\r\n                                  return (\r\n                                    <Stack spacing={2}>\r\n                                      <TextField\r\n                                        label=\"Horas de este archivo *\"\r\n                                        type=\"number\"\r\n                                        value={formAdicional.horasCurso}\r\n                                        onChange={(e) => updateFormAdicional(credito.id, 'horasCurso', e.target.value)}\r\n                                        error={!!errorsAdicional.horasCurso}\r\n                                        helperText={errorsAdicional.horasCurso}\r\n                                        fullWidth\r\n                                        size=\"small\"\r\n                                        inputProps={{ min: 1 }}\r\n                                      />\r\n                                      <Button\r\n                                        variant=\"outlined\"\r\n                                        component=\"label\"\r\n                                        startIcon={<CloudUpload />}\r\n                                        fullWidth\r\n                                        sx={{ borderColor: '#008000', color: '#008000' }}\r\n                                      >\r\n                                        {formAdicional.archivo ? formAdicional.archivo.name : 'Seleccionar archivo PDF adicional'}\r\n                                        <input\r\n                                          hidden\r\n                                          accept=\"application/pdf\"\r\n                                          type=\"file\"\r\n                                          onChange={(e) => {\r\n                                            const file = e.target.files?.[0] || null;\r\n                                            updateFormAdicional(credito.id, 'archivo', file);\r\n                                          }}\r\n                                        />\r\n                                      </Button>\r\n                                      {errorsAdicional.archivo && (\r\n                                        <Typography variant=\"caption\" color=\"error\">\r\n                                          {errorsAdicional.archivo}\r\n                                        </Typography>\r\n                                      )}\r\n                                      <Button\r\n                                        variant=\"contained\"\r\n                                        onClick={() => handleAgregarArchivoAdicional(credito.id)}\r\n                                        disabled={uploadingAdicional === credito.id}\r\n                                        startIcon={uploadingAdicional === credito.id ? <CircularProgress size={20} color=\"inherit\" /> : <CloudUpload />}\r\n                                        fullWidth\r\n                                        sx={{\r\n                                          backgroundColor: '#008000',\r\n                                          '&:hover': { backgroundColor: '#006f40' },\r\n                                        }}\r\n                                      >\r\n                                        {uploadingAdicional === credito.id ? 'Subiendo...' : 'Agregar archivo adicional'}\r\n                                      </Button>\r\n                                    </Stack>\r\n                                  );\r\n                                })()}\r\n                              </Box>\r\n                            )}\r\n\r\n                            {credito.motivoRechazo && (\r\n                              <Box\r\n                                sx={{\r\n                                  borderRadius: 2,\r\n                                  border: '1px solid',\r\n                                  borderColor: 'error.light',\r\n                                  backgroundColor: 'rgba(244, 67, 54, 0.08)',\r\n                                  p: 2,\r\n                                }}\r\n                              >\r\n                                <Typography variant=\"subtitle2\" color=\"error\" fontWeight={600}>\r\n                                  Motivo del rechazo\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"error.dark\">\r\n                                  {credito.motivoRechazo}\r\n                                </Typography>\r\n                              </Box>\r\n                            )}\r\n\r\n                            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={1.5}>\r\n                              {credito.archivoOriginal && (\r\n                                <Button\r\n                                  variant=\"outlined\"\r\n                                  startIcon={<Download />}\r\n                                  onClick={() => handleDescargar(credito.id, 'original')}\r\n                                  sx={{ borderColor: '#008000', color: '#008000' }}\r\n                                >\r\n                                  Ver original\r\n                                </Button>\r\n                              )}\r\n\r\n                              {credito.estatus === 'VALIDADO' && credito.archivoValidado && (\r\n                                <Button\r\n                                  variant=\"outlined\"\r\n                                  startIcon={<Download />}\r\n                                  onClick={() => handleDescargar(credito.id, 'firmado')}\r\n                                  sx={{ borderColor: '#006000', color: '#006000' }}\r\n                                >\r\n                                  Constancia firmada\r\n                                </Button>\r\n                              )}\r\n                            </Stack>\r\n                          </>\r\n                        ) : (\r\n                          <Stack spacing={2}>\r\n                            <FormControl fullWidth error={!!formErrors.tipo}>\r\n                              <FormLabel>Tipo de Crédito *</FormLabel>\r\n                              <Select\r\n                                value={form.tipo}\r\n                                onChange={(e) => updateForm(numero, 'tipo', e.target.value)}\r\n                                size=\"small\"\r\n                              >\r\n                                {TIPOS_DISPONIBLES.map((tipo) => (\r\n                                  <MenuItem key={tipo} value={tipo}>\r\n                                    {TIPO_LABELS[tipo]}\r\n                                  </MenuItem>\r\n                                ))}\r\n                              </Select>\r\n                              {formErrors.tipo && (\r\n                                <Typography variant=\"caption\" color=\"error\" sx={{ mt: 0.5 }}>\r\n                                  {formErrors.tipo}\r\n                                </Typography>\r\n                              )}\r\n                            </FormControl>\r\n\r\n                            {form.tipo === 'CURSOS' && (\r\n                              <Alert severity=\"info\">\r\n                                Para cursos, se requieren mínimo 60 horas para completar 1 crédito complementario. Si tu curso tiene menos horas, podrás agregar archivos adicionales después.\r\n                              </Alert>\r\n                            )}\r\n\r\n                            <TextField\r\n                              label=\"Título del Crédito *\"\r\n                              value={form.titulo}\r\n                              onChange={(e) => updateForm(numero, 'titulo', e.target.value)}\r\n                              error={!!formErrors.titulo}\r\n                              helperText={formErrors.titulo}\r\n                              fullWidth\r\n                              size=\"small\"\r\n                            />\r\n\r\n                            <TextField\r\n                              label=\"Descripción del Crédito *\"\r\n                              value={form.descripcion}\r\n                              onChange={(e) => updateForm(numero, 'descripcion', e.target.value)}\r\n                              error={!!formErrors.descripcion}\r\n                              helperText={formErrors.descripcion}\r\n                              multiline\r\n                              rows={3}\r\n                              fullWidth\r\n                              size=\"small\"\r\n                            />\r\n\r\n                            {form.tipo === 'CURSOS' && (\r\n                              <TextField\r\n                                label=\"Horas del Curso *\"\r\n                                type=\"number\"\r\n                                value={form.horasCurso}\r\n                                onChange={(e) => updateForm(numero, 'horasCurso', e.target.value)}\r\n                                error={!!formErrors.horasCurso}\r\n                                helperText={formErrors.horasCurso || 'Indica las horas de este archivo. Si no completas 60 horas, podrás agregar archivos adicionales después.'}\r\n                                fullWidth\r\n                                size=\"small\"\r\n                                inputProps={{ min: 1 }}\r\n                              />\r\n                            )}\r\n\r\n                            <Button\r\n                              variant=\"outlined\"\r\n                              component=\"label\"\r\n                              startIcon={<CloudUpload />}\r\n                              fullWidth\r\n                              sx={{ borderColor: '#008000', color: '#008000' }}\r\n                            >\r\n                              {form.archivo ? form.archivo.name : 'Seleccionar archivo PDF'}\r\n                              <input\r\n                                hidden\r\n                                accept=\"application/pdf\"\r\n                                type=\"file\"\r\n                                onChange={(e) => {\r\n                                  const file = e.target.files?.[0] || null;\r\n                                  updateForm(numero, 'archivo', file);\r\n                                }}\r\n                              />\r\n                            </Button>\r\n                            {formErrors.archivo && (\r\n                              <Typography variant=\"caption\" color=\"error\" sx={{ mt: -1 }}>\r\n                                {formErrors.archivo}\r\n                              </Typography>\r\n                            )}\r\n\r\n                            <Button\r\n                              variant=\"contained\"\r\n                              onClick={() => handleSubmit(numero)}\r\n                              disabled={isUploading}\r\n                              startIcon={isUploading ? <CircularProgress size={20} color=\"inherit\" /> : <CloudUpload />}\r\n                              fullWidth\r\n                              sx={{\r\n                                backgroundColor: '#008000',\r\n                                '&:hover': { backgroundColor: '#006f40' },\r\n                              }}\r\n                            >\r\n                              {isUploading ? 'Subiendo...' : 'Subir crédito'}\r\n                            </Button>\r\n                          </Stack>\r\n                        )}\r\n                      </CardContent>\r\n                    </Card>\r\n                  </Grid>\r\n                );\r\n              })}\r\n            </Grid>\r\n          </Stack>\r\n        </Paper>\r\n\r\n        {loading && (\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', py: 8 }}>\r\n            <CircularProgress sx={{ color: '#008000', mb: 2 }} />\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Cargando información de tus créditos...\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default StudentCreditsPage;\r\n"],"mappings":";;AAAA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AACxE,SACEC,GAAG,EACHC,MAAM,EACNC,IAAI,EACJC,WAAW,EACXC,gBAAgB,EAChBC,SAAS,EACTC,IAAI,EACJC,UAAU,EACVC,IAAI,EACJC,KAAK,EACLC,KAAK,EACLC,OAAO,EACPC,SAAS,EACTC,WAAW,EACXC,SAAS,EAITC,KAAK,EACLC,QAAQ,EACRC,MAAM,QACD,eAAe;AACtB,SAASC,WAAW,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,IAAI,QAAQ,qBAAqB;AACzF,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAOC,eAAe,MAAM,8BAA8B;AAE1D,SAASC,YAAY,QAAQ,oBAAoB;AACjD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,cAA2H,GAAG;EAClIC,SAAS,EAAE;IAAEC,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAU,CAAC;EACnDC,WAAW,EAAE;IAAEF,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAU,CAAC;EACvDE,QAAQ,EAAE;IAAEH,KAAK,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAU,CAAC;EACjDG,SAAS,EAAE;IAAEJ,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAQ;AAClD,CAAC;AAED,MAAMI,WAAsD,GAAG;EAC7DC,6BAA6B,EAAE,+BAA+B;EAC9DC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,UAAU;EACpBC,sBAAsB,EAAE;AAC1B,CAAC;AAED,MAAMC,iBAA8C,GAAG,CACrD,+BAA+B,EAC/B,QAAQ,EACR,UAAU,EACV,wBAAwB,CACzB;AAED,MAAMC,eAAe,GAAG,CACtB,kDAAkD,EAClD,yHAAyH,EACzH,+FAA+F,EAC/F,4LAA4L,EAC5L,8EAA8E,EAC9E,yDAAyD,CAC1D;AAUD,MAAMC,cAAc,GAAG,CAAC;AAExB,MAAMC,kBAA4B,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzC,MAAMC,QAAQ,GAAGtB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEuB,IAAI;IAAEC;EAAS,CAAC,GAAGzB,YAAY,CAAC,CAAC;EACzC,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAGrD,QAAQ,CAA0B,EAAE,CAAC;EACrE,MAAM,CAACsD,OAAO,EAAEC,UAAU,CAAC,GAAGvD,QAAQ,CAAU,IAAI,CAAC;EACrD,MAAM,CAACwD,SAAS,EAAEC,YAAY,CAAC,GAAGzD,QAAQ,CAAgB,IAAI,CAAC;EAC/D,MAAM,CAAC0D,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG3D,QAAQ,CAAgB,IAAI,CAAC;EACjF,MAAM,CAAC4D,KAAK,EAAEC,QAAQ,CAAC,GAAG7D,QAAQ,CAAwB,IAAI8D,GAAG,CAAC,CAAC,CAAC;EACpE,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhE,QAAQ,CAA4D,IAAI8D,GAAG,CAAC,CAAC,CAAC;EAC9H,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGlE,QAAQ,CAAsC,IAAI8D,GAAG,CAAC,CAAC,CAAC;EACpF,MAAM,CAACK,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGpE,QAAQ,CAAsC,IAAI8D,GAAG,CAAC,CAAC,CAAC;EAC1G,MAAMO,OAAO,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,wBAAwB;EAEjE,MAAMC,iBAAiB,GAAG1E,OAAO,CAAC,MAAM;IACtC,MAAM2E,GAAG,GAAG,IAAIZ,GAAG,CAAgC,CAAC;IACpDV,QAAQ,CAACuB,OAAO,CAAEC,OAAO,IAAKF,GAAG,CAACG,GAAG,CAACD,OAAO,CAACE,MAAM,EAAEF,OAAO,CAAC,CAAC;IAC/D,OAAOF,GAAG;EACZ,CAAC,EAAE,CAACtB,QAAQ,CAAC,CAAC;EAEd,MAAM2B,cAAc,GAAGlF,WAAW,CAAC,YAAY;IAC7C,IAAI;MACF0D,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMyB,IAAI,GAAG,MAAMvD,eAAe,CAACwD,kBAAkB,CAAC,CAAC;MACvD5B,WAAW,CAAC2B,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOE,KAAU,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACnB5D,KAAK,CAAC0D,KAAK,CAAC,EAAAC,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBH,IAAI,cAAAI,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,qCAAqC,CAAC;IACrF,CAAC,SAAS;MACR/B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAENzD,SAAS,CAAC,MAAM;IACdqD,QAAQ,CAAC,CAAC;IACV4B,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACA,cAAc,EAAE5B,QAAQ,CAAC,CAAC;EAE9BrD,SAAS,CAAC,MAAM;IACd,IAAIoD,IAAI,IAAIA,IAAI,CAACqC,GAAG,KAAK,YAAY,EAAE;MACrCtC,QAAQ,CAAC,kBAAkB,CAAC;IAC9B;EACF,CAAC,EAAE,CAACC,IAAI,EAAED,QAAQ,CAAC,CAAC;;EAEpB;EACAnD,SAAS,CAAC,MAAM;IACdsD,QAAQ,CAACuB,OAAO,CAAEC,OAAO,IAAK;MAC5B,IAAIA,OAAO,CAACY,OAAO,KAAK,WAAW,IAAI,CAAC5B,KAAK,CAAC6B,GAAG,CAACb,OAAO,CAACE,MAAM,CAAC,EAAE;QACjEjB,QAAQ,CAAE6B,IAAI,IAAK;UACjB,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;UAC5BC,MAAM,CAACd,GAAG,CAACD,OAAO,CAACE,MAAM,EAAE;YACzBc,IAAI,EAAEhB,OAAO,CAACgB,IAAI;YAClBC,MAAM,EAAEjB,OAAO,CAACiB,MAAM;YACtBC,WAAW,EAAElB,OAAO,CAACkB,WAAW;YAChCC,UAAU,EAAEnB,OAAO,CAACmB,UAAU,GAAGC,MAAM,CAACpB,OAAO,CAACmB,UAAU,CAAC,GAAG,EAAE;YAChEE,OAAO,EAAE;UACX,CAAC,CAAC;UACF,OAAON,MAAM;QACf,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACvC,QAAQ,EAAEQ,KAAK,CAAC,CAAC;EAErB,MAAMsC,UAAU,GAAGA,CAACpB,MAAc,EAAEqB,KAAqB,EAAEC,KAA2B,KAAK;IACzFvC,QAAQ,CAAE6B,IAAI,IAAK;MACjB,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC5B,MAAMW,WAAW,GAAGV,MAAM,CAACW,GAAG,CAACxB,MAAM,CAAC,IAAI;QAAEc,IAAI,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,WAAW,EAAE,EAAE;QAAEC,UAAU,EAAE,EAAE;QAAEE,OAAO,EAAE;MAAK,CAAC;MAClHN,MAAM,CAACd,GAAG,CAACC,MAAM,EAAE;QAAE,GAAGuB,WAAW;QAAE,CAACF,KAAK,GAAGC;MAAM,CAAC,CAAC;MACtD,OAAOT,MAAM;IACf,CAAC,CAAC;;IAEF;IACAzB,SAAS,CAAEwB,IAAI,IAAK;MAClB,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC5B,MAAMa,aAAa,GAAGZ,MAAM,CAACW,GAAG,CAACxB,MAAM,CAAC,IAAI,CAAC,CAAC;MAC9C,OAAOyB,aAAa,CAACJ,KAAK,CAAC;MAC3BR,MAAM,CAACd,GAAG,CAACC,MAAM,EAAEyB,aAAa,CAAC;MACjC,OAAOZ,MAAM;IACf,CAAC,CAAC;EACJ,CAAC;EAED,MAAMa,YAAY,GAAI1B,MAAc,IAAc;IAChD,MAAM2B,IAAI,GAAG7C,KAAK,CAAC0C,GAAG,CAACxB,MAAM,CAAC,IAAI;MAAEc,IAAI,EAAE,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,WAAW,EAAE,EAAE;MAAEC,UAAU,EAAE,EAAE;MAAEE,OAAO,EAAE;IAAK,CAAC;IAC1G,MAAMS,SAAiC,GAAG,CAAC,CAAC;IAE5C,IAAI,CAACD,IAAI,CAACb,IAAI,EAAE;MACdc,SAAS,CAACd,IAAI,GAAG,sCAAsC;IACzD;IAEA,IAAI,CAACa,IAAI,CAACZ,MAAM,CAACc,IAAI,CAAC,CAAC,EAAE;MACvBD,SAAS,CAACb,MAAM,GAAG,wBAAwB;IAC7C;IAEA,IAAI,CAACY,IAAI,CAACX,WAAW,CAACa,IAAI,CAAC,CAAC,EAAE;MAC5BD,SAAS,CAACZ,WAAW,GAAG,6BAA6B;IACvD;IAEA,IAAIW,IAAI,CAACb,IAAI,KAAK,QAAQ,EAAE;MAC1B,IAAI,CAACa,IAAI,CAACV,UAAU,IAAIa,MAAM,CAACH,IAAI,CAACV,UAAU,CAAC,IAAI,CAAC,EAAE;QACpDW,SAAS,CAACX,UAAU,GAAG,mCAAmC;MAC5D;IACF;IAEA,IAAI,CAACU,IAAI,CAACR,OAAO,EAAE;MACjBS,SAAS,CAACT,OAAO,GAAG,kCAAkC;IACxD,CAAC,MAAM,IAAIQ,IAAI,CAACR,OAAO,CAACY,IAAI,KAAK,iBAAiB,EAAE;MAClDH,SAAS,CAACT,OAAO,GAAG,+BAA+B;IACrD,CAAC,MAAM,IAAIQ,IAAI,CAACR,OAAO,CAACa,IAAI,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,EAAE;MAC/CJ,SAAS,CAACT,OAAO,GAAG,iCAAiC;IACvD;IAEA/B,SAAS,CAAEwB,IAAI,IAAK;MAClB,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC5BC,MAAM,CAACd,GAAG,CAACC,MAAM,EAAE4B,SAAS,CAAC;MAC7B,OAAOf,MAAM;IACf,CAAC,CAAC;IAEF,OAAOoB,MAAM,CAACC,IAAI,CAACN,SAAS,CAAC,CAACO,MAAM,KAAK,CAAC;EAC5C,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOpC,MAAc,IAAK;IAC7C,IAAI,CAAC0B,YAAY,CAAC1B,MAAM,CAAC,EAAE;MACzBtD,KAAK,CAAC0D,KAAK,CAAC,mDAAmD,CAAC;MAChE;IACF;IAEA,MAAMuB,IAAI,GAAG7C,KAAK,CAAC0C,GAAG,CAACxB,MAAM,CAAC;IAC9B,IAAI,CAAC2B,IAAI,IAAI,CAACA,IAAI,CAACR,OAAO,IAAI,CAACQ,IAAI,CAACb,IAAI,EAAE;IAE1C,IAAI;MACFnC,YAAY,CAACqB,MAAM,CAAC;MACpB,MAAMqC,gBAAgB,GAAG1C,iBAAiB,CAAC6B,GAAG,CAACxB,MAAM,CAAC;MACtD,MAAMsC,eAAe,GAAGD,gBAAgB,IAAIA,gBAAgB,CAAC3B,OAAO,KAAK,WAAW;MAEpF,MAAM/D,eAAe,CAAC4F,YAAY,CAAC;QACjCvC,MAAM,EAAEsC,eAAe,GAAGtC,MAAM,GAAGwC,SAAS;QAC5C1B,IAAI,EAAEa,IAAI,CAACb,IAAiC;QAC5CC,MAAM,EAAEY,IAAI,CAACZ,MAAM,CAACc,IAAI,CAAC,CAAC;QAC1Bb,WAAW,EAAEW,IAAI,CAACX,WAAW,CAACa,IAAI,CAAC,CAAC;QACpCZ,UAAU,EAAEU,IAAI,CAACb,IAAI,KAAK,QAAQ,GAAGgB,MAAM,CAACH,IAAI,CAACV,UAAU,CAAC,GAAGuB,SAAS;QACxErB,OAAO,EAAEQ,IAAI,CAACR;MAChB,CAAC,CAAC;MACFzE,KAAK,CAAC+F,OAAO,CAAC,WAAWzC,MAAM,wBAAwB,CAAC;;MAExD;MACAjB,QAAQ,CAAE6B,IAAI,IAAK;QACjB,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;QAC5BC,MAAM,CAAC6B,MAAM,CAAC1C,MAAM,CAAC;QACrB,OAAOa,MAAM;MACf,CAAC,CAAC;MACFzB,SAAS,CAAEwB,IAAI,IAAK;QAClB,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;QAC5BC,MAAM,CAAC6B,MAAM,CAAC1C,MAAM,CAAC;QACrB,OAAOa,MAAM;MACf,CAAC,CAAC;MAEFZ,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOG,KAAU,EAAE;MAAA,IAAAuC,gBAAA,EAAAC,qBAAA,EAAAC,gBAAA,EAAAC,qBAAA,EAAAC,sBAAA;MACnB,MAAMvC,OAAO,GAAG,EAAAmC,gBAAA,GAAAvC,KAAK,CAACG,QAAQ,cAAAoC,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBzC,IAAI,cAAA0C,qBAAA,uBAApBA,qBAAA,CAAsBpC,OAAO,OAAAqC,gBAAA,GAAIzC,KAAK,CAACG,QAAQ,cAAAsC,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB3C,IAAI,cAAA4C,qBAAA,wBAAAC,sBAAA,GAApBD,qBAAA,CAAsB1C,KAAK,cAAA2C,sBAAA,uBAA3BA,sBAAA,CAA6BvC,OAAO,KAAI,2BAA2B;MACpH9D,KAAK,CAAC0D,KAAK,CAACI,OAAO,CAAC;IACtB,CAAC,SAAS;MACR7B,YAAY,CAAC,IAAI,CAAC;IACpB;EACF,CAAC;EAED,MAAMqE,mBAAmB,GAAGA,CAACC,SAAiB,EAAE5B,KAA+B,EAAEC,KAA2B,KAAK;IAC/GpC,mBAAmB,CAAE0B,IAAI,IAAK;MAC5B,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC5B,MAAMW,WAAW,GAAGV,MAAM,CAACW,GAAG,CAACyB,SAAS,CAAC,IAAI;QAAEhC,UAAU,EAAE,EAAE;QAAEE,OAAO,EAAE;MAAK,CAAC;MAC9EN,MAAM,CAACd,GAAG,CAACkD,SAAS,EAAE;QAAE,GAAG1B,WAAW;QAAE,CAACF,KAAK,GAAGC;MAAM,CAAC,CAAC;MACzD,OAAOT,MAAM;IACf,CAAC,CAAC;;IAEF;IACAvB,oBAAoB,CAAEsB,IAAI,IAAK;MAC7B,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC5B,MAAMa,aAAa,GAAGZ,MAAM,CAACW,GAAG,CAACyB,SAAS,CAAC,IAAI,CAAC,CAAC;MACjD,OAAOxB,aAAa,CAACJ,KAAK,CAAC;MAC3BR,MAAM,CAACd,GAAG,CAACkD,SAAS,EAAExB,aAAa,CAAC;MACpC,OAAOZ,MAAM;IACf,CAAC,CAAC;EACJ,CAAC;EAED,MAAMqC,qBAAqB,GAAID,SAAiB,IAAc;IAC5D,MAAMtB,IAAI,GAAG1C,gBAAgB,CAACuC,GAAG,CAACyB,SAAS,CAAC,IAAI;MAAEhC,UAAU,EAAE,EAAE;MAAEE,OAAO,EAAE;IAAK,CAAC;IACjF,MAAMS,SAAiC,GAAG,CAAC,CAAC;IAE5C,IAAI,CAACD,IAAI,CAACV,UAAU,IAAIa,MAAM,CAACH,IAAI,CAACV,UAAU,CAAC,IAAI,CAAC,EAAE;MACpDW,SAAS,CAACX,UAAU,GAAG,yCAAyC;IAClE;IAEA,IAAI,CAACU,IAAI,CAACR,OAAO,EAAE;MACjBS,SAAS,CAACT,OAAO,GAAG,kCAAkC;IACxD,CAAC,MAAM,IAAIQ,IAAI,CAACR,OAAO,CAACY,IAAI,KAAK,iBAAiB,EAAE;MAClDH,SAAS,CAACT,OAAO,GAAG,+BAA+B;IACrD,CAAC,MAAM,IAAIQ,IAAI,CAACR,OAAO,CAACa,IAAI,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,EAAE;MAC/CJ,SAAS,CAACT,OAAO,GAAG,iCAAiC;IACvD;IAEA7B,oBAAoB,CAAEsB,IAAI,IAAK;MAC7B,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC5BC,MAAM,CAACd,GAAG,CAACkD,SAAS,EAAErB,SAAS,CAAC;MAChC,OAAOf,MAAM;IACf,CAAC,CAAC;IAEF,OAAOoB,MAAM,CAACC,IAAI,CAACN,SAAS,CAAC,CAACO,MAAM,KAAK,CAAC;EAC5C,CAAC;EAED,MAAMgB,6BAA6B,GAAG,MAAOF,SAAiB,IAAK;IACjE,IAAI,CAACC,qBAAqB,CAACD,SAAS,CAAC,EAAE;MACrCvG,KAAK,CAAC0D,KAAK,CAAC,mDAAmD,CAAC;MAChE;IACF;IAEA,MAAMuB,IAAI,GAAG1C,gBAAgB,CAACuC,GAAG,CAACyB,SAAS,CAAC;IAC5C,IAAI,CAACtB,IAAI,IAAI,CAACA,IAAI,CAACR,OAAO,EAAE;IAE5B,IAAI;MACFtC,qBAAqB,CAACoE,SAAS,CAAC;MAChC,MAAMtG,eAAe,CAACyG,uBAAuB,CAACH,SAAS,EAAEnB,MAAM,CAACH,IAAI,CAACV,UAAU,CAAC,EAAEU,IAAI,CAACR,OAAO,CAAC;MAC/FzE,KAAK,CAAC+F,OAAO,CAAC,0CAA0C,CAAC;;MAEzD;MACAvD,mBAAmB,CAAE0B,IAAI,IAAK;QAC5B,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;QAC5BC,MAAM,CAAC6B,MAAM,CAACO,SAAS,CAAC;QACxB,OAAOpC,MAAM;MACf,CAAC,CAAC;MACFvB,oBAAoB,CAAEsB,IAAI,IAAK;QAC7B,MAAMC,MAAM,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;QAC5BC,MAAM,CAAC6B,MAAM,CAACO,SAAS,CAAC;QACxB,OAAOpC,MAAM;MACf,CAAC,CAAC;MAEFZ,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOG,KAAU,EAAE;MAAA,IAAAiD,gBAAA,EAAAC,qBAAA,EAAAC,gBAAA,EAAAC,qBAAA,EAAAC,sBAAA;MACnB,MAAMjD,OAAO,GAAG,EAAA6C,gBAAA,GAAAjD,KAAK,CAACG,QAAQ,cAAA8C,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBnD,IAAI,cAAAoD,qBAAA,uBAApBA,qBAAA,CAAsB9C,OAAO,OAAA+C,gBAAA,GAAInD,KAAK,CAACG,QAAQ,cAAAgD,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBrD,IAAI,cAAAsD,qBAAA,wBAAAC,sBAAA,GAApBD,qBAAA,CAAsBpD,KAAK,cAAAqD,sBAAA,uBAA3BA,sBAAA,CAA6BjD,OAAO,KAAI,oCAAoC;MAC7H9D,KAAK,CAAC0D,KAAK,CAACI,OAAO,CAAC;IACtB,CAAC,SAAS;MACR3B,qBAAqB,CAAC,IAAI,CAAC;IAC7B;EACF,CAAC;EAED,MAAM6E,eAAe,GAAG,MAAAA,CAAOT,SAAiB,EAAEnC,IAA4B,KAAK;IACjF,IAAI;MAAA,IAAA6C,gBAAA;MACF,MAAMpD,QAAQ,GAAG,MAAM5D,eAAe,CAACiH,gBAAgB,CAACX,SAAS,EAAEnC,IAAI,CAAC;MACxE,MAAM+C,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAAC,IAAIC,IAAI,CAAC,CAAC1D,QAAQ,CAACL,IAAI,CAAC,CAAC,CAAC;MACjE,MAAMgE,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAGR,GAAG;MACf,MAAMS,QAAQ,GAAGxD,IAAI,KAAK,UAAU,GAAG,oBAAoByD,IAAI,CAACC,GAAG,CAAC,CAAC,MAAM,GAAG,sBAAsBD,IAAI,CAACC,GAAG,CAAC,CAAC,MAAM;MACpHN,IAAI,CAACO,YAAY,CAAC,UAAU,EAAEH,QAAQ,CAAC;MACvCH,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,IAAI,CAAC;MAC/BA,IAAI,CAACU,KAAK,CAAC,CAAC;MACZ,CAAAjB,gBAAA,GAAAO,IAAI,CAACW,UAAU,cAAAlB,gBAAA,uBAAfA,gBAAA,CAAiBmB,WAAW,CAACZ,IAAI,CAAC;MAClCJ,MAAM,CAACC,GAAG,CAACgB,eAAe,CAAClB,GAAG,CAAC;IACjC,CAAC,CAAC,OAAOzD,KAAU,EAAE;MACnB1D,KAAK,CAAC0D,KAAK,CAAC,qCAAqC,CAAC;IACpD;EACF,CAAC;EAED,oBACErD,OAAA,CAAC5B,GAAG;IAAC6J,EAAE,EAAE;MAAEC,SAAS,EAAE,OAAO;MAAEC,eAAe,EAAE;IAAU,CAAE;IAAAC,QAAA,gBAC1DpI,OAAA,CAAC5B,GAAG;MACF6J,EAAE,EAAE;QACFI,UAAU,EAAE,mDAAmD;QAC/D/H,KAAK,EAAE,SAAS;QAChBgI,EAAE,EAAE,CAAC;QACLC,EAAE,EAAE;MACN,CAAE;MAAAH,QAAA,eAEFpI,OAAA,CAACvB,SAAS;QAAC+J,QAAQ,EAAC,IAAI;QAAAJ,QAAA,eACtBpI,OAAA,CAACnB,KAAK;UAAC4J,SAAS,EAAC,KAAK;UAACC,UAAU,EAAC,QAAQ;UAACC,cAAc,EAAC,eAAe;UAACC,OAAO,EAAE,CAAE;UAAAR,QAAA,gBACnFpI,OAAA,CAACnB,KAAK;YAAC4J,SAAS,EAAC,KAAK;YAACG,OAAO,EAAE,CAAE;YAACF,UAAU,EAAC,QAAQ;YAAAN,QAAA,gBACpDpI,OAAA,CAAC5B,GAAG;cACFyK,SAAS,EAAC,KAAK;cACfC,GAAG,EAAEtG,OAAQ;cACbuG,GAAG,EAAC,iCAA8B;cAClCd,EAAE,EAAE;gBACFe,KAAK,EAAE;kBAAEC,EAAE,EAAE,EAAE;kBAAEC,EAAE,EAAE;gBAAG,CAAC;gBACzBC,MAAM,EAAE;kBAAEF,EAAE,EAAE,EAAE;kBAAEC,EAAE,EAAE;gBAAG,CAAC;gBAC1BE,SAAS,EAAE,SAAS;gBACpBC,YAAY,EAAE,KAAK;gBACnBlB,eAAe,EAAE,wBAAwB;gBACzCmB,CAAC,EAAE;cACL;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACF1J,OAAA,CAAC5B,GAAG;cAAAgK,QAAA,gBACFpI,OAAA,CAACrB,UAAU;gBAACgL,OAAO,EAAC,IAAI;gBAACC,UAAU,EAAE,GAAI;gBAACC,UAAU,EAAE,GAAI;gBAAAzB,QAAA,EAAC;cAE3D;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eACb1J,OAAA,CAACrB,UAAU;gBAACgL,OAAO,EAAC,WAAW;gBAAC1B,EAAE,EAAE;kBAAE6B,OAAO,EAAE;gBAAK,CAAE;gBAAA1B,QAAA,EAAC;cAEvD;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eACR1J,OAAA,CAAC3B,MAAM;YACLsL,OAAO,EAAC,UAAU;YAClBrJ,KAAK,EAAC,SAAS;YACfyJ,SAAS,eAAE/J,OAAA,CAACR,SAAS;cAAA+J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAE;YACzBM,OAAO,EAAEA,CAAA,KAAM5I,QAAQ,CAAC,YAAY,CAAE;YACtC6G,EAAE,EAAE;cACFgC,WAAW,EAAE,SAAS;cACtB3J,KAAK,EAAE,SAAS;cAChB,SAAS,EAAE;gBACT2J,WAAW,EAAE,SAAS;gBACtB9B,eAAe,EAAE;cACnB;YACF,CAAE;YAAAC,QAAA,EACH;UAED;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC,eAEN1J,OAAA,CAACvB,SAAS;MAAC+J,QAAQ,EAAC,IAAI;MAACP,EAAE,EAAE;QAAEiC,EAAE,EAAE;MAAE,CAAE;MAAA9B,QAAA,gBAErCpI,OAAA,CAAClB,KAAK;QACJqL,SAAS,EAAE,CAAE;QACblC,EAAE,EAAE;UACFqB,CAAC,EAAE;YAAEL,EAAE,EAAE,CAAC;YAAEmB,EAAE,EAAE;UAAE,CAAC;UACnBf,YAAY,EAAE,CAAC;UACfd,EAAE,EAAE,CAAC;UACLJ,eAAe,EAAE;QACnB,CAAE;QAAAC,QAAA,gBAEFpI,OAAA,CAACnB,KAAK;UAAC4J,SAAS,EAAC,KAAK;UAACG,OAAO,EAAE,CAAE;UAACF,UAAU,EAAC,QAAQ;UAACT,EAAE,EAAE;YAAEM,EAAE,EAAE;UAAE,CAAE;UAAAH,QAAA,gBACnEpI,OAAA,CAACN,IAAI;YAACY,KAAK,EAAC;UAAS;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxB1J,OAAA,CAACrB,UAAU;YAACgL,OAAO,EAAC,IAAI;YAACC,UAAU,EAAE,GAAI;YAAC3B,EAAE,EAAE;cAAE3H,KAAK,EAAE;YAAU,CAAE;YAAA8H,QAAA,EAAC;UAEpE;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACR1J,OAAA,CAACnB,KAAK;UAAC+J,OAAO,EAAE,CAAE;UAAAR,QAAA,EACfpH,eAAe,CAAC6B,GAAG,CAAC,CAACwH,KAAK,EAAEC,KAAK,kBAChCtK,OAAA,CAACnB,KAAK;YAAa4J,SAAS,EAAC,KAAK;YAACG,OAAO,EAAE,CAAE;YAACF,UAAU,EAAC,YAAY;YAAAN,QAAA,gBACpEpI,OAAA,CAACP,WAAW;cAACwI,EAAE,EAAE;gBAAEsC,QAAQ,EAAE,EAAE;gBAAEjK,KAAK,EAAE,cAAc;gBAAEkK,EAAE,EAAE;cAAI;YAAE;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACrE1J,OAAA,CAACrB,UAAU;cAACgL,OAAO,EAAC,OAAO;cAAAvB,QAAA,EAAEiC;YAAK;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAa,CAAC;UAAA,GAFtCY,KAAK;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGV,CACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAER1J,OAAA,CAAClB,KAAK;QACJqL,SAAS,EAAE,CAAE;QACblC,EAAE,EAAE;UACFqB,CAAC,EAAE;YAAEL,EAAE,EAAE,CAAC;YAAEmB,EAAE,EAAE;UAAE,CAAC;UACnBf,YAAY,EAAE,CAAC;UACfd,EAAE,EAAE;QACN,CAAE;QAAAH,QAAA,eAEFpI,OAAA,CAACnB,KAAK;UAAC+J,OAAO,EAAE,CAAE;UAAAR,QAAA,gBAChBpI,OAAA,CAACrB,UAAU;YAACgL,OAAO,EAAC,IAAI;YAACC,UAAU,EAAE,GAAI;YAAC3B,EAAE,EAAE;cAAE3H,KAAK,EAAE;YAAU,CAAE;YAAA8H,QAAA,GAAC,6BAC1C,EAAC7G,QAAQ,CAAC6D,MAAM,EAAC,KAAG,EAACnE,cAAc,EAAC,GAC9D;UAAA;YAAAsI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACb1J,OAAA,CAACrB,UAAU;YAACgL,OAAO,EAAC,OAAO;YAACrJ,KAAK,EAAC,gBAAgB;YAAA8H,QAAA,EAAC;UAGnD;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACb1J,OAAA,CAACjB,OAAO;YAAAwK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACX1J,OAAA,CAACtB,IAAI;YAAC+L,SAAS;YAAC7B,OAAO,EAAE,CAAE;YAAAR,QAAA,EACxBsC,KAAK,CAACC,IAAI,CAAC;cAAEvF,MAAM,EAAEnE;YAAe,CAAC,EAAE,CAAC2J,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC,CAAChI,GAAG,CAAEI,MAAM,IAAK;cACvE,MAAMF,OAAO,GAAGH,iBAAiB,CAAC6B,GAAG,CAACxB,MAAM,CAAC;cAC7C,MAAM6H,aAAa,GAAG/H,OAAO,GAAG5C,cAAc,CAAC4C,OAAO,CAACY,OAAO,CAAC,GAAG,IAAI;cACtE,MAAMoH,WAAW,GAAGpJ,SAAS,KAAKsB,MAAM;cACxC,MAAM2B,IAAI,GAAG7C,KAAK,CAAC0C,GAAG,CAACxB,MAAM,CAAC,IAAI;gBAAEc,IAAI,EAAE,EAAE;gBAAEC,MAAM,EAAE,EAAE;gBAAEC,WAAW,EAAE,EAAE;gBAAEC,UAAU,EAAE,EAAE;gBAAEE,OAAO,EAAE;cAAK,CAAC;cAC1G,MAAM4G,UAAU,GAAG5I,MAAM,CAACqC,GAAG,CAACxB,MAAM,CAAC,IAAI,CAAC,CAAC;cAE3C,oBACEjD,OAAA,CAACtB,IAAI;gBAACuM,IAAI;gBAAChC,EAAE,EAAE,EAAG;gBAACmB,EAAE,EAAE,CAAE;gBAAAhC,QAAA,eACvBpI,OAAA,CAAC1B,IAAI;kBACH6L,SAAS,EAAE,CAAE;kBACblC,EAAE,EAAE;oBACFoB,YAAY,EAAE,CAAC;oBACf6B,MAAM,EAAE,4BAA4B;oBACpC/B,MAAM,EAAE,MAAM;oBACdgC,OAAO,EAAE;kBACX,CAAE;kBAAA/C,QAAA,eAEFpI,OAAA,CAACzB,WAAW;oBAAC0J,EAAE,EAAE;sBAAEkD,OAAO,EAAE,MAAM;sBAAEC,aAAa,EAAE,QAAQ;sBAAEC,GAAG,EAAE,CAAC;sBAAErC,KAAK,EAAE;oBAAO,CAAE;oBAAAZ,QAAA,gBACnFpI,OAAA,CAAC5B,GAAG;sBAAC6J,EAAE,EAAE;wBAAEkD,OAAO,EAAE,MAAM;wBAAExC,cAAc,EAAE,eAAe;wBAAED,UAAU,EAAE;sBAAS,CAAE;sBAAAN,QAAA,gBAClFpI,OAAA,CAACrB,UAAU;wBAACgL,OAAO,EAAC,IAAI;wBAACC,UAAU,EAAE,GAAI;wBAAAxB,QAAA,GAAC,aAChC,EAACnF,MAAM;sBAAA;wBAAAsG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACL,CAAC,EACZoB,aAAa,iBACZ9K,OAAA,CAACpB,IAAI;wBAACyB,KAAK,EAAEyK,aAAa,CAACzK,KAAM;wBAACC,KAAK,EAAEwK,aAAa,CAACxK,KAAM;wBAAC2H,EAAE,EAAE;0BAAE2B,UAAU,EAAE;wBAAO;sBAAE;wBAAAL,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAC5F;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC,EAEL3G,OAAO,IAAIA,OAAO,CAACY,OAAO,KAAK,WAAW,gBACzC3D,OAAA,CAAAE,SAAA;sBAAAkI,QAAA,gBACEpI,OAAA,CAACrB,UAAU;wBAACgL,OAAO,EAAC,OAAO;wBAACrJ,KAAK,EAAC,gBAAgB;wBAAA8H,QAAA,gBAChDpI,OAAA;0BAAAoI,QAAA,EAAQ;wBAAK;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CAAC,KAAC,EAAChJ,WAAW,CAACqC,OAAO,CAACgB,IAAI,CAAC;sBAAA;wBAAAwF,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACvC,CAAC,eACb1J,OAAA,CAACrB,UAAU;wBAACgL,OAAO,EAAC,OAAO;wBAACrJ,KAAK,EAAC,gBAAgB;wBAAA8H,QAAA,gBAChDpI,OAAA;0BAAAoI,QAAA,EAAQ;wBAAO;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CAAC,KAAC,EAAC3G,OAAO,CAACiB,MAAM;sBAAA;wBAAAuF,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC9B,CAAC,eACb1J,OAAA,CAACrB,UAAU;wBAACgL,OAAO,EAAC,OAAO;wBAACrJ,KAAK,EAAC,gBAAgB;wBAAA8H,QAAA,gBAChDpI,OAAA;0BAAAoI,QAAA,EAAQ;wBAAY;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CAAC,KAAC,EAAC3G,OAAO,CAACkB,WAAW;sBAAA;wBAAAsF,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxC,CAAC,EACZ3G,OAAO,CAACgB,IAAI,KAAK,QAAQ,iBACxB/D,OAAA,CAAC5B,GAAG;wBACF6J,EAAE,EAAE;0BACFqB,CAAC,EAAE,CAAC;0BACJD,YAAY,EAAE,CAAC;0BACflB,eAAe,EAAEpF,OAAO,CAACuI,YAAY,IAAIvI,OAAO,CAACuI,YAAY,IAAI,EAAE,GAAG,SAAS,GAAG,SAAS;0BAC3FJ,MAAM,EAAE,aAAanI,OAAO,CAACuI,YAAY,IAAIvI,OAAO,CAACuI,YAAY,IAAI,EAAE,GAAG,SAAS,GAAG,SAAS;wBACjG,CAAE;wBAAAlD,QAAA,gBAEFpI,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,WAAW;0BAACC,UAAU,EAAC,MAAM;0BAAC3B,EAAE,EAAE;4BAAEM,EAAE,EAAE;0BAAE,CAAE;0BAAAH,QAAA,EAAC;wBAEjE;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAY,CAAC,eACb1J,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,OAAO;0BAAAvB,QAAA,GAAC,8BACE,EAACrF,OAAO,CAACmB,UAAU,IAAI,CAAC;wBAAA;0BAAAqF,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAC1C,CAAC,EACZ3G,OAAO,CAACwI,mBAAmB,IAAIxI,OAAO,CAACwI,mBAAmB,CAACnG,MAAM,GAAG,CAAC,iBACpEpF,OAAA,CAAAE,SAAA;0BAAAkI,QAAA,gBACEpI,OAAA,CAACrB,UAAU;4BAACgL,OAAO,EAAC,OAAO;4BAAAvB,QAAA,GAAC,wBACJ,EAACrF,OAAO,CAACwI,mBAAmB,CAACnG,MAAM;0BAAA;4BAAAmE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAC/C,CAAC,EACZ3G,OAAO,CAACwI,mBAAmB,CAAC1I,GAAG,CAAC,CAAC2I,IAAI,EAAEC,GAAG,kBACzCzL,OAAA,CAACrB,UAAU;4BAAegL,OAAO,EAAC,SAAS;4BAACwB,OAAO,EAAC,OAAO;4BAAClD,EAAE,EAAE;8BAAEyD,EAAE,EAAE;4BAAE,CAAE;4BAAAtD,QAAA,GAAC,YAC/D,EAACqD,GAAG,GAAG,CAAC,EAAC,IAAE,EAACD,IAAI,CAACG,KAAK,EAAC,QACnC;0BAAA,GAFiBH,IAAI,CAACI,EAAE;4BAAArC,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAEZ,CACb,CAAC;wBAAA,eACF,CACH,eACD1J,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,OAAO;0BAACC,UAAU,EAAC,MAAM;0BAAC3B,EAAE,EAAE;4BAAEuC,EAAE,EAAE;0BAAE,CAAE;0BAAApC,QAAA,GAAC,SACpD,EAACrF,OAAO,CAACuI,YAAY,IAAIvI,OAAO,CAACmB,UAAU,IAAI,CAAC,EAAC,aAC1D;wBAAA;0BAAAqF,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAY,CAAC,EACZ3G,OAAO,CAACuI,YAAY,IAAIvI,OAAO,CAACuI,YAAY,GAAG,EAAE,iBAChDtL,OAAA,CAACb,KAAK;0BAAC0M,QAAQ,EAAC,SAAS;0BAAC5D,EAAE,EAAE;4BAAEuC,EAAE,EAAE;0BAAE,CAAE;0BAAApC,QAAA,GAAC,mBACzB,EAAC,EAAE,IAAIrF,OAAO,CAACuI,YAAY,IAAI,CAAC,CAAC,EAAC,iEAClD;wBAAA;0BAAA/B,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CACR,EACA3G,OAAO,CAACuI,YAAY,IAAIvI,OAAO,CAACuI,YAAY,IAAI,EAAE,iBACjDtL,OAAA,CAACb,KAAK;0BAAC0M,QAAQ,EAAC,SAAS;0BAAC5D,EAAE,EAAE;4BAAEuC,EAAE,EAAE;0BAAE,CAAE;0BAAApC,QAAA,EAAC;wBAEzC;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAO,CACR;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACE,CACN,EAEA3G,OAAO,CAACgB,IAAI,KAAK,QAAQ,IAAIhB,OAAO,CAACuI,YAAY,IAAIvI,OAAO,CAACuI,YAAY,GAAG,EAAE,iBAC7EtL,OAAA,CAAC5B,GAAG;wBAAC6J,EAAE,EAAE;0BAAEqB,CAAC,EAAE,CAAC;0BAAED,YAAY,EAAE,CAAC;0BAAElB,eAAe,EAAE,SAAS;0BAAE+C,MAAM,EAAE;wBAAkB,CAAE;wBAAA9C,QAAA,gBACxFpI,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,WAAW;0BAACC,UAAU,EAAC,MAAM;0BAAC3B,EAAE,EAAE;4BAAEM,EAAE,EAAE;0BAAE,CAAE;0BAAAH,QAAA,EAAC;wBAEjE;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAY,CAAC,EACZ,CAAC,MAAM;0BACN,MAAMoC,aAAa,GAAG5J,gBAAgB,CAACuC,GAAG,CAAC1B,OAAO,CAAC6I,EAAE,CAAC,IAAI;4BAAE1H,UAAU,EAAE,EAAE;4BAAEE,OAAO,EAAE;0BAAK,CAAC;0BAC3F,MAAM2H,eAAe,GAAGzJ,iBAAiB,CAACmC,GAAG,CAAC1B,OAAO,CAAC6I,EAAE,CAAC,IAAI,CAAC,CAAC;0BAC/D,oBACE5L,OAAA,CAACnB,KAAK;4BAAC+J,OAAO,EAAE,CAAE;4BAAAR,QAAA,gBAChBpI,OAAA,CAAChB,SAAS;8BACRqB,KAAK,EAAC,yBAAyB;8BAC/B2E,IAAI,EAAC,QAAQ;8BACbT,KAAK,EAAEuH,aAAa,CAAC5H,UAAW;8BAChC8H,QAAQ,EAAGC,CAAC,IAAKhG,mBAAmB,CAAClD,OAAO,CAAC6I,EAAE,EAAE,YAAY,EAAEK,CAAC,CAACC,MAAM,CAAC3H,KAAK,CAAE;8BAC/ElB,KAAK,EAAE,CAAC,CAAC0I,eAAe,CAAC7H,UAAW;8BACpCiI,UAAU,EAAEJ,eAAe,CAAC7H,UAAW;8BACvCkI,SAAS;8BACTnH,IAAI,EAAC,OAAO;8BACZoH,UAAU,EAAE;gCAAEC,GAAG,EAAE;8BAAE;4BAAE;8BAAA/C,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OACxB,CAAC,eACF1J,OAAA,CAAC3B,MAAM;8BACLsL,OAAO,EAAC,UAAU;8BAClBd,SAAS,EAAC,OAAO;8BACjBkB,SAAS,eAAE/J,OAAA,CAACV,WAAW;gCAAAiK,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAAE,CAAE;8BAC3B0C,SAAS;8BACTnE,EAAE,EAAE;gCAAEgC,WAAW,EAAE,SAAS;gCAAE3J,KAAK,EAAE;8BAAU,CAAE;8BAAA8H,QAAA,GAEhD0D,aAAa,CAAC1H,OAAO,GAAG0H,aAAa,CAAC1H,OAAO,CAACmI,IAAI,GAAG,mCAAmC,eACzFvM,OAAA;gCACEwM,MAAM;gCACNC,MAAM,EAAC,iBAAiB;gCACxBzH,IAAI,EAAC,MAAM;gCACXgH,QAAQ,EAAGC,CAAC,IAAK;kCAAA,IAAAS,eAAA;kCACf,MAAMC,IAAI,GAAG,EAAAD,eAAA,GAAAT,CAAC,CAACC,MAAM,CAACU,KAAK,cAAAF,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC,KAAI,IAAI;kCACxCzG,mBAAmB,CAAClD,OAAO,CAAC6I,EAAE,EAAE,SAAS,EAAEe,IAAI,CAAC;gCAClD;8BAAE;gCAAApD,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OACH,CAAC;4BAAA;8BAAAH,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OACI,CAAC,EACRqC,eAAe,CAAC3H,OAAO,iBACtBpE,OAAA,CAACrB,UAAU;8BAACgL,OAAO,EAAC,SAAS;8BAACrJ,KAAK,EAAC,OAAO;8BAAA8H,QAAA,EACxC2D,eAAe,CAAC3H;4BAAO;8BAAAmF,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OACd,CACb,eACD1J,OAAA,CAAC3B,MAAM;8BACLsL,OAAO,EAAC,WAAW;8BACnBK,OAAO,EAAEA,CAAA,KAAM5D,6BAA6B,CAACrD,OAAO,CAAC6I,EAAE,CAAE;8BACzDiB,QAAQ,EAAEhL,kBAAkB,KAAKkB,OAAO,CAAC6I,EAAG;8BAC5C7B,SAAS,EAAElI,kBAAkB,KAAKkB,OAAO,CAAC6I,EAAE,gBAAG5L,OAAA,CAACxB,gBAAgB;gCAACyG,IAAI,EAAE,EAAG;gCAAC3E,KAAK,EAAC;8BAAS;gCAAAiJ,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAAE,CAAC,gBAAG1J,OAAA,CAACV,WAAW;gCAAAiK,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAAE,CAAE;8BAChH0C,SAAS;8BACTnE,EAAE,EAAE;gCACFE,eAAe,EAAE,SAAS;gCAC1B,SAAS,EAAE;kCAAEA,eAAe,EAAE;gCAAU;8BAC1C,CAAE;8BAAAC,QAAA,EAEDvG,kBAAkB,KAAKkB,OAAO,CAAC6I,EAAE,GAAG,aAAa,GAAG;4BAA2B;8BAAArC,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAC1E,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACJ,CAAC;wBAEZ,CAAC,EAAE,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACD,CACN,EAEA3G,OAAO,CAAC+J,aAAa,iBACpB9M,OAAA,CAAC5B,GAAG;wBACF6J,EAAE,EAAE;0BACFoB,YAAY,EAAE,CAAC;0BACf6B,MAAM,EAAE,WAAW;0BACnBjB,WAAW,EAAE,aAAa;0BAC1B9B,eAAe,EAAE,yBAAyB;0BAC1CmB,CAAC,EAAE;wBACL,CAAE;wBAAAlB,QAAA,gBAEFpI,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,WAAW;0BAACrJ,KAAK,EAAC,OAAO;0BAACsJ,UAAU,EAAE,GAAI;0BAAAxB,QAAA,EAAC;wBAE/D;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAY,CAAC,eACb1J,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,OAAO;0BAACrJ,KAAK,EAAC,YAAY;0BAAA8H,QAAA,EAC3CrF,OAAO,CAAC+J;wBAAa;0BAAAvD,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACZ,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACV,CACN,eAED1J,OAAA,CAACnB,KAAK;wBAAC4J,SAAS,EAAE;0BAAEQ,EAAE,EAAE,QAAQ;0BAAEC,EAAE,EAAE;wBAAM,CAAE;wBAACN,OAAO,EAAE,GAAI;wBAAAR,QAAA,GACzDrF,OAAO,CAACgK,eAAe,iBACtB/M,OAAA,CAAC3B,MAAM;0BACLsL,OAAO,EAAC,UAAU;0BAClBI,SAAS,eAAE/J,OAAA,CAACT,QAAQ;4BAAAgK,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE,CAAE;0BACxBM,OAAO,EAAEA,CAAA,KAAMrD,eAAe,CAAC5D,OAAO,CAAC6I,EAAE,EAAE,UAAU,CAAE;0BACvD3D,EAAE,EAAE;4BAAEgC,WAAW,EAAE,SAAS;4BAAE3J,KAAK,EAAE;0BAAU,CAAE;0BAAA8H,QAAA,EAClD;wBAED;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CACT,EAEA3G,OAAO,CAACY,OAAO,KAAK,UAAU,IAAIZ,OAAO,CAACiK,eAAe,iBACxDhN,OAAA,CAAC3B,MAAM;0BACLsL,OAAO,EAAC,UAAU;0BAClBI,SAAS,eAAE/J,OAAA,CAACT,QAAQ;4BAAAgK,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE,CAAE;0BACxBM,OAAO,EAAEA,CAAA,KAAMrD,eAAe,CAAC5D,OAAO,CAAC6I,EAAE,EAAE,SAAS,CAAE;0BACtD3D,EAAE,EAAE;4BAAEgC,WAAW,EAAE,SAAS;4BAAE3J,KAAK,EAAE;0BAAU,CAAE;0BAAA8H,QAAA,EAClD;wBAED;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAQ,CACT;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACI,CAAC;oBAAA,eACR,CAAC,gBAEH1J,OAAA,CAACnB,KAAK;sBAAC+J,OAAO,EAAE,CAAE;sBAAAR,QAAA,gBAChBpI,OAAA,CAACf,WAAW;wBAACmN,SAAS;wBAAC/I,KAAK,EAAE,CAAC,CAAC2H,UAAU,CAACjH,IAAK;wBAAAqE,QAAA,gBAC9CpI,OAAA,CAACd,SAAS;0BAAAkJ,QAAA,EAAC;wBAAiB;0BAAAmB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAW,CAAC,eACxC1J,OAAA,CAACX,MAAM;0BACLkF,KAAK,EAAEK,IAAI,CAACb,IAAK;0BACjBiI,QAAQ,EAAGC,CAAC,IAAK5H,UAAU,CAACpB,MAAM,EAAE,MAAM,EAAEgJ,CAAC,CAACC,MAAM,CAAC3H,KAAK,CAAE;0BAC5DU,IAAI,EAAC,OAAO;0BAAAmD,QAAA,EAEXrH,iBAAiB,CAAC8B,GAAG,CAAEkB,IAAI,iBAC1B/D,OAAA,CAACZ,QAAQ;4BAAYmF,KAAK,EAAER,IAAK;4BAAAqE,QAAA,EAC9B1H,WAAW,CAACqD,IAAI;0BAAC,GADLA,IAAI;4BAAAwF,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAET,CACX;wBAAC;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACI,CAAC,EACRsB,UAAU,CAACjH,IAAI,iBACd/D,OAAA,CAACrB,UAAU;0BAACgL,OAAO,EAAC,SAAS;0BAACrJ,KAAK,EAAC,OAAO;0BAAC2H,EAAE,EAAE;4BAAEuC,EAAE,EAAE;0BAAI,CAAE;0BAAApC,QAAA,EACzD4C,UAAU,CAACjH;wBAAI;0BAAAwF,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACN,CACb;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACU,CAAC,EAEb9E,IAAI,CAACb,IAAI,KAAK,QAAQ,iBACrB/D,OAAA,CAACb,KAAK;wBAAC0M,QAAQ,EAAC,MAAM;wBAAAzD,QAAA,EAAC;sBAEvB;wBAAAmB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CACR,eAED1J,OAAA,CAAChB,SAAS;wBACRqB,KAAK,EAAC,4BAAsB;wBAC5BkE,KAAK,EAAEK,IAAI,CAACZ,MAAO;wBACnBgI,QAAQ,EAAGC,CAAC,IAAK5H,UAAU,CAACpB,MAAM,EAAE,QAAQ,EAAEgJ,CAAC,CAACC,MAAM,CAAC3H,KAAK,CAAE;wBAC9DlB,KAAK,EAAE,CAAC,CAAC2H,UAAU,CAAChH,MAAO;wBAC3BmI,UAAU,EAAEnB,UAAU,CAAChH,MAAO;wBAC9BoI,SAAS;wBACTnH,IAAI,EAAC;sBAAO;wBAAAsE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACb,CAAC,eAEF1J,OAAA,CAAChB,SAAS;wBACRqB,KAAK,EAAC,iCAA2B;wBACjCkE,KAAK,EAAEK,IAAI,CAACX,WAAY;wBACxB+H,QAAQ,EAAGC,CAAC,IAAK5H,UAAU,CAACpB,MAAM,EAAE,aAAa,EAAEgJ,CAAC,CAACC,MAAM,CAAC3H,KAAK,CAAE;wBACnElB,KAAK,EAAE,CAAC,CAAC2H,UAAU,CAAC/G,WAAY;wBAChCkI,UAAU,EAAEnB,UAAU,CAAC/G,WAAY;wBACnCgJ,SAAS;wBACTC,IAAI,EAAE,CAAE;wBACRd,SAAS;wBACTnH,IAAI,EAAC;sBAAO;wBAAAsE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACb,CAAC,EAED9E,IAAI,CAACb,IAAI,KAAK,QAAQ,iBACrB/D,OAAA,CAAChB,SAAS;wBACRqB,KAAK,EAAC,mBAAmB;wBACzB2E,IAAI,EAAC,QAAQ;wBACbT,KAAK,EAAEK,IAAI,CAACV,UAAW;wBACvB8H,QAAQ,EAAGC,CAAC,IAAK5H,UAAU,CAACpB,MAAM,EAAE,YAAY,EAAEgJ,CAAC,CAACC,MAAM,CAAC3H,KAAK,CAAE;wBAClElB,KAAK,EAAE,CAAC,CAAC2H,UAAU,CAAC9G,UAAW;wBAC/BiI,UAAU,EAAEnB,UAAU,CAAC9G,UAAU,IAAI,0GAA2G;wBAChJkI,SAAS;wBACTnH,IAAI,EAAC,OAAO;wBACZoH,UAAU,EAAE;0BAAEC,GAAG,EAAE;wBAAE;sBAAE;wBAAA/C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxB,CACF,eAED1J,OAAA,CAAC3B,MAAM;wBACLsL,OAAO,EAAC,UAAU;wBAClBd,SAAS,EAAC,OAAO;wBACjBkB,SAAS,eAAE/J,OAAA,CAACV,WAAW;0BAAAiK,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAE;wBAC3B0C,SAAS;wBACTnE,EAAE,EAAE;0BAAEgC,WAAW,EAAE,SAAS;0BAAE3J,KAAK,EAAE;wBAAU,CAAE;wBAAA8H,QAAA,GAEhDxD,IAAI,CAACR,OAAO,GAAGQ,IAAI,CAACR,OAAO,CAACmI,IAAI,GAAG,yBAAyB,eAC7DvM,OAAA;0BACEwM,MAAM;0BACNC,MAAM,EAAC,iBAAiB;0BACxBzH,IAAI,EAAC,MAAM;0BACXgH,QAAQ,EAAGC,CAAC,IAAK;4BAAA,IAAAkB,gBAAA;4BACf,MAAMR,IAAI,GAAG,EAAAQ,gBAAA,GAAAlB,CAAC,CAACC,MAAM,CAACU,KAAK,cAAAO,gBAAA,uBAAdA,gBAAA,CAAiB,CAAC,CAAC,KAAI,IAAI;4BACxC9I,UAAU,CAACpB,MAAM,EAAE,SAAS,EAAE0J,IAAI,CAAC;0BACrC;wBAAE;0BAAApD,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACH,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACI,CAAC,EACRsB,UAAU,CAAC5G,OAAO,iBACjBpE,OAAA,CAACrB,UAAU;wBAACgL,OAAO,EAAC,SAAS;wBAACrJ,KAAK,EAAC,OAAO;wBAAC2H,EAAE,EAAE;0BAAEuC,EAAE,EAAE,CAAC;wBAAE,CAAE;wBAAApC,QAAA,EACxD4C,UAAU,CAAC5G;sBAAO;wBAAAmF,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACT,CACb,eAED1J,OAAA,CAAC3B,MAAM;wBACLsL,OAAO,EAAC,WAAW;wBACnBK,OAAO,EAAEA,CAAA,KAAM3E,YAAY,CAACpC,MAAM,CAAE;wBACpC4J,QAAQ,EAAE9B,WAAY;wBACtBhB,SAAS,EAAEgB,WAAW,gBAAG/K,OAAA,CAACxB,gBAAgB;0BAACyG,IAAI,EAAE,EAAG;0BAAC3E,KAAK,EAAC;wBAAS;0BAAAiJ,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAC,gBAAG1J,OAAA,CAACV,WAAW;0BAAAiK,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAE;wBAC1F0C,SAAS;wBACTnE,EAAE,EAAE;0BACFE,eAAe,EAAE,SAAS;0BAC1B,SAAS,EAAE;4BAAEA,eAAe,EAAE;0BAAU;wBAC1C,CAAE;wBAAAC,QAAA,EAED2C,WAAW,GAAG,aAAa,GAAG;sBAAe;wBAAAxB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxC,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CACR;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACU;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV;cAAC,GA5RsBzG,MAAM;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA6R/B,CAAC;YAEX,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAEPjI,OAAO,iBACNzB,OAAA,CAAC5B,GAAG;QAAC6J,EAAE,EAAE;UAAEkD,OAAO,EAAE,MAAM;UAAEC,aAAa,EAAE,QAAQ;UAAE1C,UAAU,EAAE,QAAQ;UAAEJ,EAAE,EAAE;QAAE,CAAE;QAAAF,QAAA,gBACjFpI,OAAA,CAACxB,gBAAgB;UAACyJ,EAAE,EAAE;YAAE3H,KAAK,EAAE,SAAS;YAAEiI,EAAE,EAAE;UAAE;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACrD1J,OAAA,CAACrB,UAAU;UAACgL,OAAO,EAAC,OAAO;UAACrJ,KAAK,EAAC,gBAAgB;UAAA8H,QAAA,EAAC;QAEnD;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEV,CAAC;AAACvI,EAAA,CA7pBID,kBAA4B;EAAA,QACfpB,WAAW,EACDD,YAAY;AAAA;AAAAuN,EAAA,GAFnClM,kBAA4B;AA+pBlC,eAAeA,kBAAkB;AAAC,IAAAkM,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}