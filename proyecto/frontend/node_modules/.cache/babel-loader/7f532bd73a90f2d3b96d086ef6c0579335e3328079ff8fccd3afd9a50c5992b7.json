{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Sistema_Abierto\\\\proyecto\\\\frontend\\\\src\\\\pages\\\\AdminModeloDualPage.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * Página de gestión de Modelo Dual (Administrador)\r\n */\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Box, Button, Card, CardContent, Container, Grid, MenuItem, Select, Stack, Typography, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, CircularProgress, Paper, Divider, Alert, FormControl, InputLabel } from '@mui/material';\nimport { Download, TaskAlt, WarningAmber, ArrowBack, CloudUpload } from '@mui/icons-material';\nimport toast from 'react-hot-toast';\nimport ModeloDualService from '../services/modelo-dual.service';\nimport { useAuthStore } from '../store/authStore';\nimport { useNavigate } from 'react-router-dom';\nimport PageHeader from '../components/PageHeader';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst estatusOptions = [{\n  value: 'TODOS',\n  label: 'Todos'\n}, {\n  value: 'PENDIENTE',\n  label: 'Pendientes'\n}, {\n  value: 'EN_REVISION',\n  label: 'En revisión'\n}, {\n  value: 'APROBADA',\n  label: 'Aprobadas'\n}, {\n  value: 'RECHAZADA',\n  label: 'Rechazadas'\n}];\nconst tipoOptions = [{\n  value: 'TODOS',\n  label: 'Todos los tipos'\n}, {\n  value: 'PSICOLOGICA',\n  label: 'Prueba Psicológica'\n}, {\n  value: 'APTITUDES',\n  label: 'Prueba de Aptitudes'\n}, {\n  value: 'PERSONALIDAD',\n  label: 'Prueba de Personalidad'\n}, {\n  value: 'INTERESES_VOCACIONALES',\n  label: 'Intereses Vocacionales'\n}, {\n  value: 'ORIENTACION_PROFESIONAL',\n  label: 'Orientación Profesional'\n}, {\n  value: 'OTRA',\n  label: 'Otra'\n}];\nconst ESTATUS_CHIP = {\n  PENDIENTE: {\n    label: 'Pendiente',\n    color: 'warning'\n  },\n  EN_REVISION: {\n    label: 'En revisión',\n    color: 'default'\n  },\n  APROBADA: {\n    label: 'Aprobada',\n    color: 'success'\n  },\n  RECHAZADA: {\n    label: 'Rechazada',\n    color: 'error'\n  },\n  VENCIDA: {\n    label: 'Vencida',\n    color: 'error'\n  }\n};\nconst TIPO_LABELS = {\n  PSICOLOGICA: 'Prueba Psicológica',\n  APTITUDES: 'Prueba de Aptitudes',\n  PERSONALIDAD: 'Prueba de Personalidad',\n  INTERESES_VOCACIONALES: 'Intereses Vocacionales',\n  ORIENTACION_PROFESIONAL: 'Orientación Profesional',\n  OTRA: 'Otra'\n};\nconst AdminModeloDualPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuthStore();\n  const [pruebas, setPruebas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [accionando, setAccionando] = useState(null);\n  const [filtroEstatus, setFiltroEstatus] = useState('TODOS');\n  const [filtroTipo, setFiltroTipo] = useState('TODOS');\n  const [busqueda, setBusqueda] = useState('');\n  const [dialogRevision, setDialogRevision] = useState({\n    open: false,\n    aprobado: true,\n    motivoRechazo: '',\n    observaciones: '',\n    archivoFirmado: null\n  });\n  const cargarPruebas = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await ModeloDualService.listar(filtroEstatus === 'TODOS' ? undefined : filtroEstatus, filtroTipo === 'TODOS' ? undefined : filtroTipo);\n      setPruebas(data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'No se pudieron obtener las pruebas');\n    } finally {\n      setLoading(false);\n    }\n  }, [filtroEstatus, filtroTipo]);\n  useEffect(() => {\n    if (user && !['ADMINISTRADOR', 'SUPER_ADMIN', 'PERSONAL_ADMINISTRATIVO'].includes(user.rol)) {\n      navigate('/dashboard');\n      return;\n    }\n    cargarPruebas();\n  }, [cargarPruebas, user, navigate]);\n  const resumen = useMemo(() => {\n    const conteo = {\n      PENDIENTE: 0,\n      EN_REVISION: 0,\n      APROBADA: 0,\n      RECHAZADA: 0,\n      VENCIDA: 0\n    };\n    pruebas.forEach(p => {\n      conteo[p.estatus] += 1;\n    });\n    return conteo;\n  }, [pruebas]);\n\n  // Filtrar pruebas por búsqueda\n  const pruebasFiltradas = useMemo(() => {\n    let filtradas = pruebas;\n    if (busqueda.trim()) {\n      const terminoBusqueda = busqueda.toLowerCase().trim();\n      filtradas = filtradas.filter(prueba => {\n        var _estudiante$usuario$a, _estudiante$usuario$a2;\n        const estudiante = prueba.estudiante;\n        if (!estudiante) return false;\n        const nombreCompleto = `${estudiante.usuario.nombre} ${(_estudiante$usuario$a = estudiante.usuario.apellidoPaterno) !== null && _estudiante$usuario$a !== void 0 ? _estudiante$usuario$a : ''} ${(_estudiante$usuario$a2 = estudiante.usuario.apellidoMaterno) !== null && _estudiante$usuario$a2 !== void 0 ? _estudiante$usuario$a2 : ''}`.toLowerCase();\n        const matricula = estudiante.matricula.toLowerCase();\n        const nombrePrueba = prueba.nombrePrueba.toLowerCase();\n        return nombreCompleto.includes(terminoBusqueda) || matricula.includes(terminoBusqueda) || nombrePrueba.includes(terminoBusqueda);\n      });\n    }\n    return filtradas;\n  }, [pruebas, busqueda]);\n  const handleAbrirDialogRevision = (prueba, aprobado) => {\n    setDialogRevision({\n      open: true,\n      prueba,\n      aprobado,\n      motivoRechazo: '',\n      observaciones: '',\n      archivoFirmado: null\n    });\n  };\n  const handleCerrarDialogRevision = () => {\n    setDialogRevision({\n      open: false,\n      aprobado: true,\n      motivoRechazo: '',\n      observaciones: '',\n      archivoFirmado: null\n    });\n  };\n  const handleRevisar = async () => {\n    if (!dialogRevision.prueba) return;\n    if (!dialogRevision.aprobado && !dialogRevision.motivoRechazo.trim()) {\n      toast.error('Debes indicar el motivo de rechazo');\n      return;\n    }\n    try {\n      setAccionando(dialogRevision.prueba.id);\n      await ModeloDualService.revisarPrueba({\n        id: dialogRevision.prueba.id,\n        aprobado: dialogRevision.aprobado,\n        motivoRechazo: dialogRevision.motivoRechazo || undefined,\n        observaciones: dialogRevision.observaciones || undefined,\n        archivoFirmado: dialogRevision.archivoFirmado || undefined\n      });\n      toast.success(dialogRevision.aprobado ? 'Prueba aprobada correctamente' : 'Prueba rechazada correctamente');\n      handleCerrarDialogRevision();\n      cargarPruebas();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'No fue posible procesar la revisión');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const handleDownload = async (prueba, tipo) => {\n    try {\n      const response = await ModeloDualService.descargarArchivo(prueba.id, tipo);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${prueba.nombrePrueba}-${tipo}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      toast.error('No fue posible descargar el archivo');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: '#f5f5f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Gesti\\xF3n de Pruebas - Modelo Dual\",\n      subtitle: \"Coordinaci\\xF3n de Sistema Abierto \\xB7 Modalidad Mixta\",\n      gradientFrom: \"#008000\",\n      gradientTo: \"#006000\",\n      maxWidth: \"xl\",\n      actions: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"inherit\",\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 24\n        }, this),\n        onClick: () => navigate('/admin/dashboard'),\n        sx: {\n          borderColor: '#FFFFFF',\n          color: '#FFFFFF',\n          '&:hover': {\n            borderColor: '#FFFFFF',\n            backgroundColor: 'rgba(255,255,255,0.1)'\n          }\n        },\n        children: \"Volver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 2.4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"warning.main\",\n              children: resumen.PENDIENTE\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Pendientes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 2.4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"info.main\",\n              children: resumen.EN_REVISION\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"En Revisi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 2.4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"success.main\",\n              children: resumen.APROBADA\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Aprobadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 2.4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              color: \"error.main\",\n              children: resumen.RECHAZADA\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Rechazadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 2.4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 2,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              children: pruebas.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 2,\n          mb: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Buscar\",\n              placeholder: \"Nombre, matr\\xEDcula o prueba...\",\n              value: busqueda,\n              onChange: e => setBusqueda(e.target.value),\n              size: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Estatus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: filtroEstatus,\n                onChange: e => setFiltroEstatus(e.target.value),\n                label: \"Estatus\",\n                children: estatusOptions.map(opt => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: opt.value,\n                  children: opt.label\n                }, opt.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Tipo de Prueba\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: filtroTipo,\n                onChange: e => setFiltroTipo(e.target.value),\n                label: \"Tipo de Prueba\",\n                children: tipoOptions.map(opt => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: opt.value,\n                  children: opt.label\n                }, opt.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 7\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          py: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this) : pruebasFiltradas.length === 0 ? /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 4,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          children: \"No se encontraron pruebas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: pruebasFiltradas.map(prueba => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'start'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Box, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      children: prueba.nombrePrueba\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"text.secondary\",\n                      children: TIPO_LABELS[prueba.tipoPrueba]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: ESTATUS_CHIP[prueba.estatus].label,\n                    color: ESTATUS_CHIP[prueba.estatus].color,\n                    size: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this), prueba.estudiante && /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Estudiante:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 27\n                    }, this), \" \", prueba.estudiante.usuario.nombre, ' ', prueba.estudiante.usuario.apellidoPaterno, \" \", prueba.estudiante.usuario.apellidoMaterno]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Matr\\xEDcula:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 27\n                    }, this), \" \", prueba.estudiante.matricula]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 25\n                  }, this), prueba.estudiante.carrera && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Carrera:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 29\n                    }, this), \" \", prueba.estudiante.carrera.nombre]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this), prueba.descripcion && /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: prueba.descripcion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: \"row\",\n                  spacing: 1,\n                  flexWrap: \"wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    size: \"small\",\n                    startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 36\n                    }, this),\n                    onClick: () => handleDownload(prueba, 'original'),\n                    children: \"Ver Original\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 23\n                  }, this), prueba.estatus === 'PENDIENTE' || prueba.estatus === 'EN_REVISION' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      color: \"success\",\n                      startIcon: /*#__PURE__*/_jsxDEV(TaskAlt, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 426,\n                        columnNumber: 40\n                      }, this),\n                      onClick: () => handleAbrirDialogRevision(prueba, true),\n                      disabled: accionando === prueba.id,\n                      children: \"Aprobar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      color: \"error\",\n                      startIcon: /*#__PURE__*/_jsxDEV(WarningAmber, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 435,\n                        columnNumber: 40\n                      }, this),\n                      onClick: () => handleAbrirDialogRevision(prueba, false),\n                      disabled: accionando === prueba.id,\n                      children: \"Rechazar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true) : null, prueba.estatus === 'APROBADA' && prueba.archivoValidado && /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"small\",\n                    color: \"success\",\n                    startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 38\n                    }, this),\n                    onClick: () => handleDownload(prueba, 'validado'),\n                    children: \"Ver Validado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this), prueba.motivoRechazo && /*#__PURE__*/_jsxDEV(Alert, {\n                  severity: \"error\",\n                  sx: {\n                    mt: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Motivo de rechazo:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 27\n                    }, this), \" \", prueba.motivoRechazo]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)\n        }, prueba.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: dialogRevision.open,\n        onClose: handleCerrarDialogRevision,\n        maxWidth: \"md\",\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: dialogRevision.aprobado ? 'Aprobar Prueba' : 'Rechazar Prueba'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 3,\n            sx: {\n              mt: 1\n            },\n            children: [dialogRevision.prueba && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                color: \"text.secondary\",\n                children: \"Prueba\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                children: dialogRevision.prueba.nombrePrueba\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), !dialogRevision.aprobado && /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Motivo de Rechazo\",\n              fullWidth: true,\n              required: true,\n              multiline: true,\n              rows: 3,\n              value: dialogRevision.motivoRechazo,\n              onChange: e => setDialogRevision(prev => ({\n                ...prev,\n                motivoRechazo: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Observaciones (opcional)\",\n              fullWidth: true,\n              multiline: true,\n              rows: 3,\n              value: dialogRevision.observaciones,\n              onChange: e => setDialogRevision(prev => ({\n                ...prev,\n                observaciones: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 13\n            }, this), dialogRevision.aprobado && /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                component: \"label\",\n                startIcon: /*#__PURE__*/_jsxDEV(CloudUpload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 30\n                }, this),\n                fullWidth: true,\n                sx: {\n                  mb: 1\n                },\n                children: [\"Subir Archivo Firmado (opcional)\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  hidden: true,\n                  accept: \"application/pdf\",\n                  onChange: e => {\n                    var _e$target$files;\n                    const file = ((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null;\n                    setDialogRevision(prev => ({\n                      ...prev,\n                      archivoFirmado: file\n                    }));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), dialogRevision.archivoFirmado && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: [dialogRevision.archivoFirmado.name, \" (\", (dialogRevision.archivoFirmado.size / 1024 / 1024).toFixed(2), \" MB)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCerrarDialogRevision,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: dialogRevision.aprobado ? 'success' : 'error',\n            onClick: handleRevisar,\n            disabled: accionando !== null,\n            startIcon: accionando ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 37\n            }, this) : undefined,\n            children: accionando ? 'Procesando...' : dialogRevision.aprobado ? 'Aprobar' : 'Rechazar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminModeloDualPage, \"eUYEGl+aWw7covBzSQS4m6WGzlg=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = AdminModeloDualPage;\nexport default AdminModeloDualPage;\nvar _c;\n$RefreshReg$(_c, \"AdminModeloDualPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","Box","Button","Card","CardContent","Container","Grid","MenuItem","Select","Stack","Typography","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","CircularProgress","Paper","Divider","Alert","FormControl","InputLabel","Download","TaskAlt","WarningAmber","ArrowBack","CloudUpload","toast","ModeloDualService","useAuthStore","useNavigate","PageHeader","jsxDEV","_jsxDEV","Fragment","_Fragment","estatusOptions","value","label","tipoOptions","ESTATUS_CHIP","PENDIENTE","color","EN_REVISION","APROBADA","RECHAZADA","VENCIDA","TIPO_LABELS","PSICOLOGICA","APTITUDES","PERSONALIDAD","INTERESES_VOCACIONALES","ORIENTACION_PROFESIONAL","OTRA","AdminModeloDualPage","_s","navigate","user","pruebas","setPruebas","loading","setLoading","accionando","setAccionando","filtroEstatus","setFiltroEstatus","filtroTipo","setFiltroTipo","busqueda","setBusqueda","dialogRevision","setDialogRevision","open","aprobado","motivoRechazo","observaciones","archivoFirmado","cargarPruebas","data","listar","undefined","error","_error$response","_error$response$data","response","message","includes","rol","resumen","conteo","forEach","p","estatus","pruebasFiltradas","filtradas","trim","terminoBusqueda","toLowerCase","filter","prueba","_estudiante$usuario$a","_estudiante$usuario$a2","estudiante","nombreCompleto","usuario","nombre","apellidoPaterno","apellidoMaterno","matricula","nombrePrueba","handleAbrirDialogRevision","handleCerrarDialogRevision","handleRevisar","id","revisarPrueba","success","_error$response2","_error$response2$data","handleDownload","tipo","descargarArchivo","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","sx","minHeight","backgroundColor","children","title","subtitle","gradientFrom","gradientTo","maxWidth","actions","variant","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","borderColor","py","container","spacing","mb","item","xs","sm","md","textAlign","length","alignItems","fullWidth","placeholder","onChange","e","target","size","map","opt","display","justifyContent","lg","tipoPrueba","carrera","descripcion","direction","flexWrap","disabled","archivoValidado","severity","mt","onClose","required","multiline","rows","prev","component","type","hidden","accept","_e$target$files","file","files","name","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/pages/AdminModeloDualPage.tsx"],"sourcesContent":["/**\r\n * Página de gestión de Modelo Dual (Administrador)\r\n */\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  Typography,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  CircularProgress,\r\n  Paper,\r\n  Divider,\r\n  Alert,\r\n  FormControl,\r\n  InputLabel,\r\n} from '@mui/material';\r\nimport { Download, TaskAlt, WarningAmber, ArrowBack, Psychology, CloudUpload } from '@mui/icons-material';\r\nimport toast from 'react-hot-toast';\r\nimport ModeloDualService from '../services/modelo-dual.service';\r\nimport { PruebaModeloDual, EstatusPruebaModeloDual, TipoPruebaModeloDual } from '../types/modelo-dual.types';\r\nimport { useAuthStore } from '../store/authStore';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PageHeader from '../components/PageHeader';\r\n\r\ntype FiltroEstatus = 'TODOS' | EstatusPruebaModeloDual;\r\ntype FiltroTipo = 'TODOS' | TipoPruebaModeloDual;\r\n\r\nconst estatusOptions: { value: FiltroEstatus; label: string }[] = [\r\n  { value: 'TODOS', label: 'Todos' },\r\n  { value: 'PENDIENTE', label: 'Pendientes' },\r\n  { value: 'EN_REVISION', label: 'En revisión' },\r\n  { value: 'APROBADA', label: 'Aprobadas' },\r\n  { value: 'RECHAZADA', label: 'Rechazadas' },\r\n];\r\n\r\nconst tipoOptions: { value: FiltroTipo; label: string }[] = [\r\n  { value: 'TODOS', label: 'Todos los tipos' },\r\n  { value: 'PSICOLOGICA', label: 'Prueba Psicológica' },\r\n  { value: 'APTITUDES', label: 'Prueba de Aptitudes' },\r\n  { value: 'PERSONALIDAD', label: 'Prueba de Personalidad' },\r\n  { value: 'INTERESES_VOCACIONALES', label: 'Intereses Vocacionales' },\r\n  { value: 'ORIENTACION_PROFESIONAL', label: 'Orientación Profesional' },\r\n  { value: 'OTRA', label: 'Otra' },\r\n];\r\n\r\nconst ESTATUS_CHIP: Record<EstatusPruebaModeloDual, { label: string; color: 'default' | 'success' | 'warning' | 'error' }> = {\r\n  PENDIENTE: { label: 'Pendiente', color: 'warning' },\r\n  EN_REVISION: { label: 'En revisión', color: 'default' },\r\n  APROBADA: { label: 'Aprobada', color: 'success' },\r\n  RECHAZADA: { label: 'Rechazada', color: 'error' },\r\n  VENCIDA: { label: 'Vencida', color: 'error' },\r\n};\r\n\r\nconst TIPO_LABELS: Record<TipoPruebaModeloDual, string> = {\r\n  PSICOLOGICA: 'Prueba Psicológica',\r\n  APTITUDES: 'Prueba de Aptitudes',\r\n  PERSONALIDAD: 'Prueba de Personalidad',\r\n  INTERESES_VOCACIONALES: 'Intereses Vocacionales',\r\n  ORIENTACION_PROFESIONAL: 'Orientación Profesional',\r\n  OTRA: 'Otra',\r\n};\r\n\r\ninterface DialogRevisionState {\r\n  open: boolean;\r\n  prueba?: PruebaModeloDual;\r\n  aprobado: boolean;\r\n  motivoRechazo: string;\r\n  observaciones: string;\r\n  archivoFirmado: File | null;\r\n}\r\n\r\nconst AdminModeloDualPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuthStore();\r\n  const [pruebas, setPruebas] = useState<PruebaModeloDual[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [accionando, setAccionando] = useState<string | null>(null);\r\n  const [filtroEstatus, setFiltroEstatus] = useState<FiltroEstatus>('TODOS');\r\n  const [filtroTipo, setFiltroTipo] = useState<FiltroTipo>('TODOS');\r\n  const [busqueda, setBusqueda] = useState<string>('');\r\n\r\n  const [dialogRevision, setDialogRevision] = useState<DialogRevisionState>({\r\n    open: false,\r\n    aprobado: true,\r\n    motivoRechazo: '',\r\n    observaciones: '',\r\n    archivoFirmado: null,\r\n  });\r\n\r\n  const cargarPruebas = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await ModeloDualService.listar(\r\n        filtroEstatus === 'TODOS' ? undefined : filtroEstatus,\r\n        filtroTipo === 'TODOS' ? undefined : filtroTipo\r\n      );\r\n      setPruebas(data);\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudieron obtener las pruebas');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filtroEstatus, filtroTipo]);\r\n\r\n  useEffect(() => {\r\n    if (user && !['ADMINISTRADOR', 'SUPER_ADMIN', 'PERSONAL_ADMINISTRATIVO'].includes(user.rol)) {\r\n      navigate('/dashboard');\r\n      return;\r\n    }\r\n    cargarPruebas();\r\n  }, [cargarPruebas, user, navigate]);\r\n\r\n  const resumen = useMemo(() => {\r\n    const conteo: Record<EstatusPruebaModeloDual, number> = {\r\n      PENDIENTE: 0,\r\n      EN_REVISION: 0,\r\n      APROBADA: 0,\r\n      RECHAZADA: 0,\r\n      VENCIDA: 0,\r\n    };\r\n    pruebas.forEach((p) => {\r\n      conteo[p.estatus] += 1;\r\n    });\r\n    return conteo;\r\n  }, [pruebas]);\r\n\r\n  // Filtrar pruebas por búsqueda\r\n  const pruebasFiltradas = useMemo(() => {\r\n    let filtradas = pruebas;\r\n\r\n    if (busqueda.trim()) {\r\n      const terminoBusqueda = busqueda.toLowerCase().trim();\r\n      filtradas = filtradas.filter((prueba) => {\r\n        const estudiante = prueba.estudiante;\r\n        if (!estudiante) return false;\r\n\r\n        const nombreCompleto = `${estudiante.usuario.nombre} ${estudiante.usuario.apellidoPaterno ?? ''} ${estudiante.usuario.apellidoMaterno ?? ''}`.toLowerCase();\r\n        const matricula = estudiante.matricula.toLowerCase();\r\n        const nombrePrueba = prueba.nombrePrueba.toLowerCase();\r\n\r\n        return nombreCompleto.includes(terminoBusqueda) || matricula.includes(terminoBusqueda) || nombrePrueba.includes(terminoBusqueda);\r\n      });\r\n    }\r\n\r\n    return filtradas;\r\n  }, [pruebas, busqueda]);\r\n\r\n  const handleAbrirDialogRevision = (prueba: PruebaModeloDual, aprobado: boolean) => {\r\n    setDialogRevision({\r\n      open: true,\r\n      prueba,\r\n      aprobado,\r\n      motivoRechazo: '',\r\n      observaciones: '',\r\n      archivoFirmado: null,\r\n    });\r\n  };\r\n\r\n  const handleCerrarDialogRevision = () => {\r\n    setDialogRevision({\r\n      open: false,\r\n      aprobado: true,\r\n      motivoRechazo: '',\r\n      observaciones: '',\r\n      archivoFirmado: null,\r\n    });\r\n  };\r\n\r\n  const handleRevisar = async () => {\r\n    if (!dialogRevision.prueba) return;\r\n\r\n    if (!dialogRevision.aprobado && !dialogRevision.motivoRechazo.trim()) {\r\n      toast.error('Debes indicar el motivo de rechazo');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setAccionando(dialogRevision.prueba.id);\r\n      await ModeloDualService.revisarPrueba({\r\n        id: dialogRevision.prueba.id,\r\n        aprobado: dialogRevision.aprobado,\r\n        motivoRechazo: dialogRevision.motivoRechazo || undefined,\r\n        observaciones: dialogRevision.observaciones || undefined,\r\n        archivoFirmado: dialogRevision.archivoFirmado || undefined,\r\n      });\r\n\r\n      toast.success(dialogRevision.aprobado ? 'Prueba aprobada correctamente' : 'Prueba rechazada correctamente');\r\n      handleCerrarDialogRevision();\r\n      cargarPruebas();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No fue posible procesar la revisión');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (prueba: PruebaModeloDual, tipo: 'original' | 'validado') => {\r\n    try {\r\n      const response = await ModeloDualService.descargarArchivo(prueba.id, tipo);\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `${prueba.nombrePrueba}-${tipo}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error: any) {\r\n      toast.error('No fue posible descargar el archivo');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', backgroundColor: '#f5f5f5' }}>\r\n      <PageHeader\r\n        title=\"Gestión de Pruebas - Modelo Dual\"\r\n        subtitle=\"Coordinación de Sistema Abierto · Modalidad Mixta\"\r\n        gradientFrom=\"#008000\"\r\n        gradientTo=\"#006000\"\r\n        maxWidth=\"xl\"\r\n        actions={\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"inherit\"\r\n            startIcon={<ArrowBack />}\r\n            onClick={() => navigate('/admin/dashboard')}\r\n            sx={{\r\n              borderColor: '#FFFFFF',\r\n              color: '#FFFFFF',\r\n              '&:hover': {\r\n                borderColor: '#FFFFFF',\r\n                backgroundColor: 'rgba(255,255,255,0.1)',\r\n              },\r\n            }}\r\n          >\r\n            Volver\r\n          </Button>\r\n        }\r\n      />\r\n      <Container maxWidth=\"xl\" sx={{ py: 4 }}>\r\n\r\n      {/* Resumen */}\r\n      <Grid container spacing={2} sx={{ mb: 3 }}>\r\n        <Grid item xs={12} sm={6} md={2.4}>\r\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n            <Typography variant=\"h4\" color=\"warning.main\">\r\n              {resumen.PENDIENTE}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Pendientes\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={2.4}>\r\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n            <Typography variant=\"h4\" color=\"info.main\">\r\n              {resumen.EN_REVISION}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              En Revisión\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={2.4}>\r\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n            <Typography variant=\"h4\" color=\"success.main\">\r\n              {resumen.APROBADA}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Aprobadas\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={2.4}>\r\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n            <Typography variant=\"h4\" color=\"error.main\">\r\n              {resumen.RECHAZADA}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Rechazadas\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={2.4}>\r\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n            <Typography variant=\"h4\">\r\n              {pruebas.length}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Total\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Filtros */}\r\n      <Paper sx={{ p: 2, mb: 3 }}>\r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          <Grid item xs={12} md={3}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Buscar\"\r\n              placeholder=\"Nombre, matrícula o prueba...\"\r\n              value={busqueda}\r\n              onChange={(e) => setBusqueda(e.target.value)}\r\n              size=\"small\"\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Estatus</InputLabel>\r\n              <Select\r\n                value={filtroEstatus}\r\n                onChange={(e) => setFiltroEstatus(e.target.value as FiltroEstatus)}\r\n                label=\"Estatus\"\r\n              >\r\n                {estatusOptions.map((opt) => (\r\n                  <MenuItem key={opt.value} value={opt.value}>\r\n                    {opt.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Tipo de Prueba</InputLabel>\r\n              <Select\r\n                value={filtroTipo}\r\n                onChange={(e) => setFiltroTipo(e.target.value as FiltroTipo)}\r\n                label=\"Tipo de Prueba\"\r\n              >\r\n                {tipoOptions.map((opt) => (\r\n                  <MenuItem key={opt.value} value={opt.value}>\r\n                    {opt.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n      {loading ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : pruebasFiltradas.length === 0 ? (\r\n        <Paper sx={{ p: 4, textAlign: 'center' }}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\">\r\n            No se encontraron pruebas\r\n          </Typography>\r\n        </Paper>\r\n      ) : (\r\n        <Grid container spacing={3}>\r\n          {pruebasFiltradas.map((prueba) => (\r\n            <Grid item xs={12} md={6} lg={4} key={prueba.id}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Stack spacing={2}>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\r\n                      <Box>\r\n                        <Typography variant=\"h6\">{prueba.nombrePrueba}</Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          {TIPO_LABELS[prueba.tipoPrueba]}\r\n                        </Typography>\r\n                      </Box>\r\n                      <Chip\r\n                        label={ESTATUS_CHIP[prueba.estatus].label}\r\n                        color={ESTATUS_CHIP[prueba.estatus].color}\r\n                        size=\"small\"\r\n                      />\r\n                    </Box>\r\n\r\n                    {prueba.estudiante && (\r\n                      <Box>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          <strong>Estudiante:</strong> {prueba.estudiante.usuario.nombre}{' '}\r\n                          {prueba.estudiante.usuario.apellidoPaterno} {prueba.estudiante.usuario.apellidoMaterno}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          <strong>Matrícula:</strong> {prueba.estudiante.matricula}\r\n                        </Typography>\r\n                        {prueba.estudiante.carrera && (\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            <strong>Carrera:</strong> {prueba.estudiante.carrera.nombre}\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                    )}\r\n\r\n                    {prueba.descripcion && (\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        {prueba.descripcion}\r\n                      </Typography>\r\n                    )}\r\n\r\n                    <Divider />\r\n\r\n                    <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n                      <Button\r\n                        size=\"small\"\r\n                        startIcon={<Download />}\r\n                        onClick={() => handleDownload(prueba, 'original')}\r\n                      >\r\n                        Ver Original\r\n                      </Button>\r\n                      {prueba.estatus === 'PENDIENTE' || prueba.estatus === 'EN_REVISION' ? (\r\n                        <>\r\n                          <Button\r\n                            size=\"small\"\r\n                            color=\"success\"\r\n                            startIcon={<TaskAlt />}\r\n                            onClick={() => handleAbrirDialogRevision(prueba, true)}\r\n                            disabled={accionando === prueba.id}\r\n                          >\r\n                            Aprobar\r\n                          </Button>\r\n                          <Button\r\n                            size=\"small\"\r\n                            color=\"error\"\r\n                            startIcon={<WarningAmber />}\r\n                            onClick={() => handleAbrirDialogRevision(prueba, false)}\r\n                            disabled={accionando === prueba.id}\r\n                          >\r\n                            Rechazar\r\n                          </Button>\r\n                        </>\r\n                      ) : null}\r\n                      {prueba.estatus === 'APROBADA' && prueba.archivoValidado && (\r\n                        <Button\r\n                          size=\"small\"\r\n                          color=\"success\"\r\n                          startIcon={<Download />}\r\n                          onClick={() => handleDownload(prueba, 'validado')}\r\n                        >\r\n                          Ver Validado\r\n                        </Button>\r\n                      )}\r\n                    </Stack>\r\n\r\n                    {prueba.motivoRechazo && (\r\n                      <Alert severity=\"error\" sx={{ mt: 1 }}>\r\n                        <Typography variant=\"body2\">\r\n                          <strong>Motivo de rechazo:</strong> {prueba.motivoRechazo}\r\n                        </Typography>\r\n                      </Alert>\r\n                    )}\r\n                  </Stack>\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n\r\n      {/* Dialog de revisión */}\r\n      <Dialog open={dialogRevision.open} onClose={handleCerrarDialogRevision} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          {dialogRevision.aprobado ? 'Aprobar Prueba' : 'Rechazar Prueba'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={3} sx={{ mt: 1 }}>\r\n            {dialogRevision.prueba && (\r\n              <Box>\r\n                <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                  Prueba\r\n                </Typography>\r\n                <Typography variant=\"body1\">{dialogRevision.prueba.nombrePrueba}</Typography>\r\n              </Box>\r\n            )}\r\n\r\n            {!dialogRevision.aprobado && (\r\n              <TextField\r\n                label=\"Motivo de Rechazo\"\r\n                fullWidth\r\n                required\r\n                multiline\r\n                rows={3}\r\n                value={dialogRevision.motivoRechazo}\r\n                onChange={(e) =>\r\n                  setDialogRevision((prev) => ({ ...prev, motivoRechazo: e.target.value }))\r\n                }\r\n              />\r\n            )}\r\n\r\n            <TextField\r\n              label=\"Observaciones (opcional)\"\r\n              fullWidth\r\n              multiline\r\n              rows={3}\r\n              value={dialogRevision.observaciones}\r\n              onChange={(e) =>\r\n                setDialogRevision((prev) => ({ ...prev, observaciones: e.target.value }))\r\n              }\r\n            />\r\n\r\n            {dialogRevision.aprobado && (\r\n              <Box>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  component=\"label\"\r\n                  startIcon={<CloudUpload />}\r\n                  fullWidth\r\n                  sx={{ mb: 1 }}\r\n                >\r\n                  Subir Archivo Firmado (opcional)\r\n                  <input\r\n                    type=\"file\"\r\n                    hidden\r\n                    accept=\"application/pdf\"\r\n                    onChange={(e) => {\r\n                      const file = e.target.files?.[0] || null;\r\n                      setDialogRevision((prev) => ({ ...prev, archivoFirmado: file }));\r\n                    }}\r\n                  />\r\n                </Button>\r\n                {dialogRevision.archivoFirmado && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {dialogRevision.archivoFirmado.name} ({(dialogRevision.archivoFirmado.size / 1024 / 1024).toFixed(2)} MB)\r\n                  </Typography>\r\n                )}\r\n              </Box>\r\n            )}\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCerrarDialogRevision}>Cancelar</Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color={dialogRevision.aprobado ? 'success' : 'error'}\r\n            onClick={handleRevisar}\r\n            disabled={accionando !== null}\r\n            startIcon={accionando ? <CircularProgress size={20} /> : undefined}\r\n          >\r\n            {accionando ? 'Procesando...' : dialogRevision.aprobado ? 'Aprobar' : 'Rechazar'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminModeloDualPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}