{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Sistema_Abierto\\\\proyecto\\\\frontend\\\\src\\\\pages\\\\AdminDocumentsPage.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * Página de Revisión de Documentos (Admin)\r\n * Ver y aprobar/rechazar documentos de estudiantes\r\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Box, Container, Paper, Typography, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, IconButton, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Tabs, Tab } from '@mui/material';\nimport { School, ArrowBack, CheckCircle, Cancel, Visibility, Logout, Download } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../store/authStore';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const AdminDocumentsPage = () => {\n  _s();\n  var _selectedDoc$document, _selectedDoc$document2;\n  const navigate = useNavigate();\n  const {\n    logout\n  } = useAuthStore();\n  const [documentos, setDocumentos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  const [reviewDialog, setReviewDialog] = useState(false);\n  const [approving, setApproving] = useState(true);\n  const [motivoRechazo, setMotivoRechazo] = useState('');\n  const [tabValue, setTabValue] = useState(0);\n  const [confirmDialog, setConfirmDialog] = useState(false);\n  const [previewDialog, setPreviewDialog] = useState(false);\n  useEffect(() => {\n    loadDocuments();\n  }, []);\n  const loadDocuments = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('accessToken');\n      const response = await axios.get('http://localhost:3001/api/documentos', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setDocumentos(response.data.data);\n    } catch (error) {\n      toast.error('Error al cargar documentos');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReview = async () => {\n    if (!selectedDoc) return;\n    if (!approving && !motivoRechazo.trim()) {\n      toast.error('Debes proporcionar un motivo de rechazo');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('accessToken');\n      await axios.patch(`http://localhost:3001/api/upload/${selectedDoc.id}/review`, {\n        aprobado: approving,\n        motivoRechazo: approving ? undefined : motivoRechazo\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.success(approving ? 'Documento aprobado' : 'Documento rechazado');\n      setReviewDialog(false);\n      setMotivoRechazo('');\n      loadDocuments();\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response$data$;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.error) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.message) || 'Error al revisar documento');\n    }\n  };\n  const openReviewDialog = (doc, approve) => {\n    setSelectedDoc(doc);\n    setApproving(approve);\n    setConfirmDialog(true);\n  };\n  const handleConfirmReview = () => {\n    setConfirmDialog(false);\n    setReviewDialog(true);\n  };\n  const handleViewDocument = async doc => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await axios.get(`http://localhost:3001/api/upload/view/${doc.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        responseType: 'blob'\n      });\n      const blobUrl = window.URL.createObjectURL(response.data);\n      const docWithPreview = {\n        ...doc,\n        previewUrl: blobUrl\n      };\n      setSelectedDoc(docWithPreview);\n      setPreviewDialog(true);\n    } catch (error) {\n      console.error('Error al cargar vista previa:', error);\n      toast.error('No se pudo cargar la vista previa del documento');\n    }\n  };\n  const handleDownloadDocument = async doc => {\n    try {\n      const token = localStorage.getItem('accessToken');\n      const response = await axios.get(`http://localhost:3001/api/upload/download/${doc.id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        responseType: 'blob'\n      });\n      const url = window.URL.createObjectURL(response.data);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${doc.folio}_${doc.tipo}.${doc.mimeType.split('/')[1]}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      toast.success('Documento descargado exitosamente');\n    } catch (error) {\n      console.error('Error al descargar:', error);\n      toast.error('No se pudo descargar el documento');\n    }\n  };\n  const getEstatusColor = estatus => {\n    switch (estatus) {\n      case 'APROBADO':\n        return 'success';\n      case 'RECHAZADO':\n        return 'error';\n      case 'PENDIENTE':\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n  const filteredDocs = documentos.filter(doc => {\n    if (tabValue === 0) return doc.estatus === 'PENDIENTE';\n    if (tabValue === 1) return doc.estatus === 'APROBADO';\n    if (tabValue === 2) return doc.estatus === 'RECHAZADO';\n    return true;\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: '#f5f5f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        background: 'linear-gradient(135deg, #008000 0%, #006000 100%)',\n        color: '#FFFFFF',\n        py: 3,\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"inherit\",\n              onClick: () => navigate('/admin/dashboard'),\n              children: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(School, {\n              sx: {\n                fontSize: 40\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              fontWeight: \"bold\",\n              children: \"Revisi\\xF3n de Documentos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"inherit\",\n            startIcon: /*#__PURE__*/_jsxDEV(Logout, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 26\n            }, this),\n            onClick: handleLogout,\n            sx: {\n              borderColor: '#FFFFFF',\n              color: '#FFFFFF'\n            },\n            children: \"Salir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          mb: 3,\n          borderRadius: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: tabValue,\n          onChange: (e, newValue) => setTabValue(newValue),\n          sx: {\n            '& .MuiTab-root': {\n              color: '#333333'\n            },\n            '& .Mui-selected': {\n              color: '#008000'\n            },\n            '& .MuiTabs-indicator': {\n              backgroundColor: '#008000'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Pendientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Aprobados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Rechazados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Todos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        sx: {\n          borderRadius: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            sx: {\n              backgroundColor: '#008000'\n            },\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold'\n                },\n                children: \"Folio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold'\n                },\n                children: \"Tipo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold'\n                },\n                children: \"Estudiante\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold'\n                },\n                children: \"Matr\\xEDcula\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold'\n                },\n                children: \"Tama\\xF1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold'\n                },\n                children: \"Estatus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#FFFFFF',\n                  fontWeight: 'bold',\n                  textAlign: 'center'\n                },\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: loading ? /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 7,\n                align: \"center\",\n                sx: {\n                  py: 4\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  sx: {\n                    color: '#888888'\n                  },\n                  children: \"Cargando documentos...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this) : filteredDocs.length === 0 ? /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 7,\n                align: \"center\",\n                sx: {\n                  py: 4\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  sx: {\n                    color: '#888888'\n                  },\n                  children: \"No hay documentos en esta categor\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this) : filteredDocs.map(doc => {\n              var _doc$documentosEstudi, _doc$documentosEstudi2, _doc$documentosEstudi3;\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                sx: {\n                  '&:hover': {\n                    backgroundColor: '#f0fff0'\n                  }\n                },\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    fontFamily: 'monospace',\n                    color: '#000000'\n                  },\n                  children: doc.folio\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    color: '#000000'\n                  },\n                  children: doc.tipo.replace(/_/g, ' ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    color: '#000000'\n                  },\n                  children: [(_doc$documentosEstudi = doc.documentosEstudiante[0]) === null || _doc$documentosEstudi === void 0 ? void 0 : _doc$documentosEstudi.estudiante.usuario.nombre, ' ', (_doc$documentosEstudi2 = doc.documentosEstudiante[0]) === null || _doc$documentosEstudi2 === void 0 ? void 0 : _doc$documentosEstudi2.estudiante.usuario.apellidoPaterno]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    color: '#333333'\n                  },\n                  children: ((_doc$documentosEstudi3 = doc.documentosEstudiante[0]) === null || _doc$documentosEstudi3 === void 0 ? void 0 : _doc$documentosEstudi3.estudiante.matricula) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    color: '#333333'\n                  },\n                  children: [(doc.tamanoBytes / 1024 / 1024).toFixed(2), \" MB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Chip, {\n                    label: doc.estatus,\n                    color: getEstatusColor(doc.estatus),\n                    size: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      gap: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => handleViewDocument(doc),\n                      sx: {\n                        color: '#1976d2'\n                      },\n                      title: \"Ver Documento\",\n                      children: /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => handleDownloadDocument(doc),\n                      sx: {\n                        color: '#757575'\n                      },\n                      title: \"Descargar\",\n                      children: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 25\n                    }, this), doc.estatus === 'PENDIENTE' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                        onClick: () => openReviewDialog(doc, true),\n                        sx: {\n                          color: '#008000'\n                        },\n                        title: \"Aprobar\",\n                        children: /*#__PURE__*/_jsxDEV(CheckCircle, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 339,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                        onClick: () => openReviewDialog(doc, false),\n                        sx: {\n                          color: '#CC0000'\n                        },\n                        title: \"Rechazar\",\n                        children: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 346,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)]\n              }, doc.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: reviewDialog,\n      onClose: () => setReviewDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          backgroundColor: approving ? '#008000' : '#CC0000',\n          color: '#FFFFFF'\n        },\n        children: approving ? '✅ Aprobar Documento' : '❌ Rechazar Documento'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          gutterBottom: true,\n          sx: {\n            color: '#000000'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Folio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), \" \", selectedDoc === null || selectedDoc === void 0 ? void 0 : selectedDoc.folio]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          gutterBottom: true,\n          sx: {\n            color: '#000000'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tipo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), \" \", selectedDoc === null || selectedDoc === void 0 ? void 0 : selectedDoc.tipo.replace(/_/g, ' ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          gutterBottom: true,\n          sx: {\n            color: '#000000'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Estudiante:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), ' ', selectedDoc === null || selectedDoc === void 0 ? void 0 : (_selectedDoc$document = selectedDoc.documentosEstudiante[0]) === null || _selectedDoc$document === void 0 ? void 0 : _selectedDoc$document.estudiante.usuario.nombre, ' ', selectedDoc === null || selectedDoc === void 0 ? void 0 : (_selectedDoc$document2 = selectedDoc.documentosEstudiante[0]) === null || _selectedDoc$document2 === void 0 ? void 0 : _selectedDoc$document2.estudiante.usuario.apellidoPaterno]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), !approving && /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Motivo del Rechazo\",\n          multiline: true,\n          rows: 4,\n          value: motivoRechazo,\n          onChange: e => setMotivoRechazo(e.target.value),\n          required: true,\n          sx: {\n            mt: 2\n          },\n          placeholder: \"Ejemplo: El documento est\\xE1 borroso y no se puede leer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          p: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setReviewDialog(false),\n          sx: {\n            color: '#333333'\n          },\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleReview,\n          sx: {\n            backgroundColor: approving ? '#008000' : '#CC0000',\n            '&:hover': {\n              backgroundColor: approving ? '#006000' : '#AA0000'\n            }\n          },\n          children: approving ? 'Aprobar' : 'Rechazar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDocumentsPage, \"g0e8ZfUYwuCvCv+EpTdASuDpbKI=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = AdminDocumentsPage;\nexport default AdminDocumentsPage;\nvar _c;\n$RefreshReg$(_c, \"AdminDocumentsPage\");","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Paper","Typography","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","IconButton","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Tabs","Tab","School","ArrowBack","CheckCircle","Cancel","Visibility","Logout","Download","useNavigate","useAuthStore","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDocumentsPage","_s","_selectedDoc$document","_selectedDoc$document2","navigate","logout","documentos","setDocumentos","loading","setLoading","selectedDoc","setSelectedDoc","reviewDialog","setReviewDialog","approving","setApproving","motivoRechazo","setMotivoRechazo","tabValue","setTabValue","confirmDialog","setConfirmDialog","previewDialog","setPreviewDialog","loadDocuments","token","localStorage","getItem","response","get","headers","Authorization","data","error","handleReview","trim","patch","id","aprobado","undefined","success","_error$response","_error$response$data","_error$response$data$","message","openReviewDialog","doc","approve","handleConfirmReview","handleViewDocument","responseType","blobUrl","window","URL","createObjectURL","docWithPreview","previewUrl","console","handleDownloadDocument","url","link","document","createElement","href","download","folio","tipo","mimeType","split","body","appendChild","click","removeChild","revokeObjectURL","getEstatusColor","estatus","handleLogout","filteredDocs","filter","sx","minHeight","backgroundColor","children","background","color","py","mb","display","justifyContent","alignItems","gap","onClick","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","variant","fontWeight","startIcon","borderColor","borderRadius","value","onChange","e","newValue","label","component","textAlign","colSpan","align","length","map","_doc$documentosEstudi","_doc$documentosEstudi2","_doc$documentosEstudi3","fontFamily","replace","documentosEstudiante","estudiante","usuario","nombre","apellidoPaterno","matricula","tamanoBytes","toFixed","size","title","open","onClose","maxWidth","fullWidth","mt","gutterBottom","multiline","rows","target","required","placeholder","p","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/pages/AdminDocumentsPage.tsx"],"sourcesContent":["/**\r\n * Página de Revisión de Documentos (Admin)\r\n * Ver y aprobar/rechazar documentos de estudiantes\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  IconButton,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Tabs,\r\n  Tab,\r\n} from '@mui/material';\r\nimport {\r\n  School,\r\n  ArrowBack,\r\n  CheckCircle,\r\n  Cancel,\r\n  Visibility,\r\n  Logout,\r\n  Download,\r\n  ViewInAr,\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuthStore } from '../store/authStore';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport ConfirmationDialog from '../components/ConfirmationDialog';\r\n\r\ninterface Documento {\r\n  id: string;\r\n  folio: string;\r\n  tipo: string;\r\n  titulo: string;\r\n  estatus: string;\r\n  tamanoBytes: number;\r\n  mimeType: string;\r\n  createdAt: string;\r\n  documentosEstudiante: Array<{\r\n    estudiante: {\r\n      matricula: string;\r\n      usuario: {\r\n        nombre: string;\r\n        apellidoPaterno: string;\r\n      };\r\n    };\r\n  }>;\r\n}\r\n\r\nexport const AdminDocumentsPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { logout } = useAuthStore();\r\n  const [documentos, setDocumentos] = useState<Documento[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedDoc, setSelectedDoc] = useState<Documento | null>(null);\r\n  const [reviewDialog, setReviewDialog] = useState(false);\r\n  const [approving, setApproving] = useState(true);\r\n  const [motivoRechazo, setMotivoRechazo] = useState('');\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [confirmDialog, setConfirmDialog] = useState(false);\r\n  const [previewDialog, setPreviewDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadDocuments();\r\n  }, []);\r\n\r\n  const loadDocuments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await axios.get('http://localhost:3001/api/documentos', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      setDocumentos(response.data.data);\r\n    } catch (error) {\r\n      toast.error('Error al cargar documentos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReview = async () => {\r\n    if (!selectedDoc) return;\r\n\r\n    if (!approving && !motivoRechazo.trim()) {\r\n      toast.error('Debes proporcionar un motivo de rechazo');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      await axios.patch(\r\n        `http://localhost:3001/api/upload/${selectedDoc.id}/review`,\r\n        {\r\n          aprobado: approving,\r\n          motivoRechazo: approving ? undefined : motivoRechazo,\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      toast.success(approving ? 'Documento aprobado' : 'Documento rechazado');\r\n      setReviewDialog(false);\r\n      setMotivoRechazo('');\r\n      loadDocuments();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.error?.message || 'Error al revisar documento');\r\n    }\r\n  };\r\n\r\n  const openReviewDialog = (doc: Documento, approve: boolean) => {\r\n    setSelectedDoc(doc);\r\n    setApproving(approve);\r\n    setConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirmReview = () => {\r\n    setConfirmDialog(false);\r\n    setReviewDialog(true);\r\n  };\r\n\r\n  const handleViewDocument = async (doc: Documento) => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await axios.get(\r\n        `http://localhost:3001/api/upload/view/${doc.id}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          responseType: 'blob',\r\n        }\r\n      );\r\n\r\n      const blobUrl = window.URL.createObjectURL(response.data);\r\n      const docWithPreview = { ...doc, previewUrl: blobUrl };\r\n      setSelectedDoc(docWithPreview as any);\r\n      setPreviewDialog(true);\r\n    } catch (error: any) {\r\n      console.error('Error al cargar vista previa:', error);\r\n      toast.error('No se pudo cargar la vista previa del documento');\r\n    }\r\n  };\r\n\r\n  const handleDownloadDocument = async (doc: Documento) => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await axios.get(\r\n        `http://localhost:3001/api/upload/download/${doc.id}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          responseType: 'blob',\r\n        }\r\n      );\r\n\r\n      const url = window.URL.createObjectURL(response.data);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `${doc.folio}_${doc.tipo}.${doc.mimeType.split('/')[1]}`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      toast.success('Documento descargado exitosamente');\r\n    } catch (error: any) {\r\n      console.error('Error al descargar:', error);\r\n      toast.error('No se pudo descargar el documento');\r\n    }\r\n  };\r\n\r\n  const getEstatusColor = (estatus: string) => {\r\n    switch (estatus) {\r\n      case 'APROBADO': return 'success';\r\n      case 'RECHAZADO': return 'error';\r\n      case 'PENDIENTE': return 'warning';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  const filteredDocs = documentos.filter((doc) => {\r\n    if (tabValue === 0) return doc.estatus === 'PENDIENTE';\r\n    if (tabValue === 1) return doc.estatus === 'APROBADO';\r\n    if (tabValue === 2) return doc.estatus === 'RECHAZADO';\r\n    return true;\r\n  });\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', backgroundColor: '#f5f5f5' }}>\r\n      {/* Header */}\r\n      <Box\r\n        sx={{\r\n          background: 'linear-gradient(135deg, #008000 0%, #006000 100%)',\r\n          color: '#FFFFFF',\r\n          py: 3,\r\n          mb: 4,\r\n        }}\r\n      >\r\n        <Container>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n              <IconButton color=\"inherit\" onClick={() => navigate('/admin/dashboard')}>\r\n                <ArrowBack />\r\n              </IconButton>\r\n              <School sx={{ fontSize: 40 }} />\r\n              <Typography variant=\"h4\" fontWeight=\"bold\">\r\n                Revisión de Documentos\r\n              </Typography>\r\n            </Box>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              startIcon={<Logout />}\r\n              onClick={handleLogout}\r\n              sx={{ borderColor: '#FFFFFF', color: '#FFFFFF' }}\r\n            >\r\n              Salir\r\n            </Button>\r\n          </Box>\r\n        </Container>\r\n      </Box>\r\n\r\n      <Container>\r\n        {/* Tabs de filtros */}\r\n        <Paper sx={{ mb: 3, borderRadius: 2 }}>\r\n          <Tabs\r\n            value={tabValue}\r\n            onChange={(e, newValue) => setTabValue(newValue)}\r\n            sx={{\r\n              '& .MuiTab-root': { color: '#333333' },\r\n              '& .Mui-selected': { color: '#008000' },\r\n              '& .MuiTabs-indicator': { backgroundColor: '#008000' },\r\n            }}\r\n          >\r\n            <Tab label=\"Pendientes\" />\r\n            <Tab label=\"Aprobados\" />\r\n            <Tab label=\"Rechazados\" />\r\n            <Tab label=\"Todos\" />\r\n          </Tabs>\r\n        </Paper>\r\n\r\n        {/* Tabla de Documentos */}\r\n        <TableContainer component={Paper} sx={{ borderRadius: 2 }}>\r\n          <Table>\r\n            <TableHead sx={{ backgroundColor: '#008000' }}>\r\n              <TableRow>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold' }}>Folio</TableCell>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold' }}>Tipo</TableCell>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold' }}>Estudiante</TableCell>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold' }}>Matrícula</TableCell>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold' }}>Tamaño</TableCell>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold' }}>Estatus</TableCell>\r\n                <TableCell sx={{ color: '#FFFFFF', fontWeight: 'bold', textAlign: 'center' }}>Acciones</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {loading ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={7} align=\"center\" sx={{ py: 4 }}>\r\n                    <Typography sx={{ color: '#888888' }}>Cargando documentos...</Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : filteredDocs.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={7} align=\"center\" sx={{ py: 4 }}>\r\n                    <Typography sx={{ color: '#888888' }}>No hay documentos en esta categoría</Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredDocs.map((doc) => (\r\n                  <TableRow\r\n                    key={doc.id}\r\n                    sx={{\r\n                      '&:hover': {\r\n                        backgroundColor: '#f0fff0',\r\n                      },\r\n                    }}\r\n                  >\r\n                    <TableCell sx={{ fontFamily: 'monospace', color: '#000000' }}>{doc.folio}</TableCell>\r\n                    <TableCell sx={{ color: '#000000' }}>{doc.tipo.replace(/_/g, ' ')}</TableCell>\r\n                    <TableCell sx={{ color: '#000000' }}>\r\n                      {doc.documentosEstudiante[0]?.estudiante.usuario.nombre}{' '}\r\n                      {doc.documentosEstudiante[0]?.estudiante.usuario.apellidoPaterno}\r\n                    </TableCell>\r\n                    <TableCell sx={{ color: '#333333' }}>\r\n                      {doc.documentosEstudiante[0]?.estudiante.matricula || 'N/A'}\r\n                    </TableCell>\r\n                    <TableCell sx={{ color: '#333333' }}>\r\n                      {(doc.tamanoBytes / 1024 / 1024).toFixed(2)} MB\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Chip\r\n                        label={doc.estatus}\r\n                        color={getEstatusColor(doc.estatus) as any}\r\n                        size=\"small\"\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\r\n                        <IconButton\r\n                          onClick={() => handleViewDocument(doc)}\r\n                          sx={{ color: '#1976d2' }}\r\n                          title=\"Ver Documento\"\r\n                        >\r\n                          <Visibility />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={() => handleDownloadDocument(doc)}\r\n                          sx={{ color: '#757575' }}\r\n                          title=\"Descargar\"\r\n                        >\r\n                          <Download />\r\n                        </IconButton>\r\n                        {doc.estatus === 'PENDIENTE' && (\r\n                          <>\r\n                            <IconButton\r\n                              onClick={() => openReviewDialog(doc, true)}\r\n                              sx={{ color: '#008000' }}\r\n                              title=\"Aprobar\"\r\n                            >\r\n                              <CheckCircle />\r\n                            </IconButton>\r\n                            <IconButton\r\n                              onClick={() => openReviewDialog(doc, false)}\r\n                              sx={{ color: '#CC0000' }}\r\n                              title=\"Rechazar\"\r\n                            >\r\n                              <Cancel />\r\n                            </IconButton>\r\n                          </>\r\n                        )}\r\n                      </Box>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Container>\r\n\r\n      {/* Dialog de Revisión */}\r\n      <Dialog open={reviewDialog} onClose={() => setReviewDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle sx={{ backgroundColor: approving ? '#008000' : '#CC0000', color: '#FFFFFF' }}>\r\n          {approving ? '✅ Aprobar Documento' : '❌ Rechazar Documento'}\r\n        </DialogTitle>\r\n        <DialogContent sx={{ mt: 2 }}>\r\n          <Typography variant=\"body1\" gutterBottom sx={{ color: '#000000' }}>\r\n            <strong>Folio:</strong> {selectedDoc?.folio}\r\n          </Typography>\r\n          <Typography variant=\"body1\" gutterBottom sx={{ color: '#000000' }}>\r\n            <strong>Tipo:</strong> {selectedDoc?.tipo.replace(/_/g, ' ')}\r\n          </Typography>\r\n          <Typography variant=\"body1\" gutterBottom sx={{ color: '#000000' }}>\r\n            <strong>Estudiante:</strong>{' '}\r\n            {selectedDoc?.documentosEstudiante[0]?.estudiante.usuario.nombre}{' '}\r\n            {selectedDoc?.documentosEstudiante[0]?.estudiante.usuario.apellidoPaterno}\r\n          </Typography>\r\n\r\n          {!approving && (\r\n            <TextField\r\n              fullWidth\r\n              label=\"Motivo del Rechazo\"\r\n              multiline\r\n              rows={4}\r\n              value={motivoRechazo}\r\n              onChange={(e) => setMotivoRechazo(e.target.value)}\r\n              required\r\n              sx={{ mt: 2 }}\r\n              placeholder=\"Ejemplo: El documento está borroso y no se puede leer\"\r\n            />\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={() => setReviewDialog(false)} sx={{ color: '#333333' }}>\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleReview}\r\n            sx={{\r\n              backgroundColor: approving ? '#008000' : '#CC0000',\r\n              '&:hover': {\r\n                backgroundColor: approving ? '#006000' : '#AA0000',\r\n              },\r\n            }}\r\n          >\r\n            {approving ? 'Aprobar' : 'Rechazar'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminDocumentsPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}