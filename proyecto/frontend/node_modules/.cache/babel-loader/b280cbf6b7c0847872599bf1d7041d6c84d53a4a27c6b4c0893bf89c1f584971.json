{"ast":null,"code":"/**\r\n * Servicio de Créditos Complementarios\r\n */\n\nimport api from './api.service';\nconst resource = '/creditos';\nconst CreditosService = {\n  /**\r\n   * Subir crédito (estudiante)\r\n   */\n  async subirCredito(payload) {\n    const formData = new FormData();\n    if (payload.numero) {\n      formData.append('numero', String(payload.numero));\n    }\n    formData.append('tipo', payload.tipo);\n    formData.append('titulo', payload.titulo);\n    formData.append('descripcion', payload.descripcion);\n    if (payload.horasCurso) {\n      formData.append('horasCurso', String(payload.horasCurso));\n    }\n    formData.append('archivo', payload.archivo);\n    const response = await api.post(resource, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Obtener créditos del estudiante\r\n   */\n  async obtenerMisCreditos() {\n    const response = await api.get(`${resource}/mis`);\n    return response.data.data;\n  },\n  /**\r\n   * Listar créditos para administrador\r\n   */\n  async listar(estatus) {\n    const response = await api.get(resource, {\n      params: estatus ? {\n        estatus\n      } : undefined\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Generar constancia para todos los créditos de un estudiante\r\n   */\n  async generarConstancia(estudianteId, fechaEmision) {\n    const response = await api.post(`${resource}/estudiante/${estudianteId}/generar-acta`, {\n      fechaEmision\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Revisar crédito (validar/rechazar)\r\n   */\n  async revisarCredito(params) {\n    const formData = new FormData();\n    formData.append('aprobado', String(params.aprobado));\n    if (params.motivoRechazo) formData.append('motivoRechazo', params.motivoRechazo);\n    if (params.observaciones) formData.append('observaciones', params.observaciones);\n    if (params.archivoFirmado) {\n      formData.append('archivo', params.archivoFirmado);\n    }\n    const response = await api.patch(`${resource}/${params.id}/revision`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Agregar archivo adicional a un crédito existente (para cursos)\r\n   */\n  async agregarArchivoAdicional(creditoId, horasCurso, archivo) {\n    const formData = new FormData();\n    formData.append('horasCurso', String(horasCurso));\n    formData.append('archivo', archivo);\n    const response = await api.post(`${resource}/${creditoId}/archivo-adicional`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Descargar archivo asociado\r\n   */\n  async descargarArchivo(id, tipo) {\n    const response = await api.get(`${resource}/${id}/archivo`, {\n      params: {\n        tipo\n      },\n      responseType: 'blob'\n    });\n    return response;\n  }\n};\nexport default CreditosService;","map":{"version":3,"names":["api","resource","CreditosService","subirCredito","payload","formData","FormData","numero","append","String","tipo","titulo","descripcion","horasCurso","archivo","response","post","headers","data","obtenerMisCreditos","get","listar","estatus","params","undefined","generarConstancia","estudianteId","fechaEmision","revisarCredito","aprobado","motivoRechazo","observaciones","archivoFirmado","patch","id","agregarArchivoAdicional","creditoId","descargarArchivo","responseType"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/services/creditos.service.ts"],"sourcesContent":["/**\r\n * Servicio de Créditos Complementarios\r\n */\r\n\r\nimport api from './api.service';\r\nimport { EstatusCreditoComplementario } from '../types/creditos.types';\r\n\r\nconst resource = '/creditos';\r\n\r\nconst CreditosService = {\r\n  /**\r\n   * Subir crédito (estudiante)\r\n   */\r\n  async subirCredito(payload: {\r\n    numero?: number; // Para actualizar créditos rechazados\r\n    tipo: 'ACTIVIDADES_EXTRACURRICULARES' | 'CURSOS' | 'TUTORIAS' | 'ACTIVIDADES_CULTURALES';\r\n    titulo: string;\r\n    descripcion: string;\r\n    horasCurso?: number;\r\n    archivo: File;\r\n  }) {\r\n    const formData = new FormData();\r\n    if (payload.numero) {\r\n      formData.append('numero', String(payload.numero));\r\n    }\r\n    formData.append('tipo', payload.tipo);\r\n    formData.append('titulo', payload.titulo);\r\n    formData.append('descripcion', payload.descripcion);\r\n    if (payload.horasCurso) {\r\n      formData.append('horasCurso', String(payload.horasCurso));\r\n    }\r\n    formData.append('archivo', payload.archivo);\r\n\r\n    const response = await api.post(resource, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Obtener créditos del estudiante\r\n   */\r\n  async obtenerMisCreditos() {\r\n    const response = await api.get(`${resource}/mis`);\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Listar créditos para administrador\r\n   */\r\n  async listar(estatus?: EstatusCreditoComplementario) {\r\n    const response = await api.get(resource, {\r\n      params: estatus ? { estatus } : undefined,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Generar constancia para todos los créditos de un estudiante\r\n   */\r\n  async generarConstancia(estudianteId: string, fechaEmision?: string) {\r\n    const response = await api.post(`${resource}/estudiante/${estudianteId}/generar-acta`, {\r\n      fechaEmision,\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Revisar crédito (validar/rechazar)\r\n   */\r\n  async revisarCredito(params: {\r\n    id: string;\r\n    aprobado: boolean;\r\n    motivoRechazo?: string;\r\n    observaciones?: string;\r\n    archivoFirmado?: File;\r\n  }) {\r\n    const formData = new FormData();\r\n    formData.append('aprobado', String(params.aprobado));\r\n    if (params.motivoRechazo) formData.append('motivoRechazo', params.motivoRechazo);\r\n    if (params.observaciones) formData.append('observaciones', params.observaciones);\r\n    if (params.archivoFirmado) {\r\n      formData.append('archivo', params.archivoFirmado);\r\n    }\r\n\r\n    const response = await api.patch(`${resource}/${params.id}/revision`, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Agregar archivo adicional a un crédito existente (para cursos)\r\n   */\r\n  async agregarArchivoAdicional(creditoId: string, horasCurso: number, archivo: File) {\r\n    const formData = new FormData();\r\n    formData.append('horasCurso', String(horasCurso));\r\n    formData.append('archivo', archivo);\r\n\r\n    const response = await api.post(`${resource}/${creditoId}/archivo-adicional`, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Descargar archivo asociado\r\n   */\r\n  async descargarArchivo(id: string, tipo: 'original' | 'generado' | 'firmado') {\r\n    const response = await api.get(`${resource}/${id}/archivo`, {\r\n      params: { tipo },\r\n      responseType: 'blob',\r\n    });\r\n    return response;\r\n  },\r\n};\r\n\r\nexport default CreditosService;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}