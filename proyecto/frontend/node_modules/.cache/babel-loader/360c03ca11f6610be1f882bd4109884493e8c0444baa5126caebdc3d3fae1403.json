{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Sistema_Abierto\\\\proyecto\\\\frontend\\\\src\\\\pages\\\\ChangePasswordPage.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * Página de Cambio de Contraseña Obligatorio\r\n * Se muestra en el primer login\r\n */\n\nimport React, { useState } from 'react';\nimport { Box, Container, Paper, Typography, TextField, Button, InputAdornment, IconButton, Alert, LinearProgress } from '@mui/material';\nimport { Lock, Visibility, VisibilityOff, CheckCircle, Warning } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '../store/authStore';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ChangePasswordPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    logout\n  } = useAuthStore();\n  const [loading, setLoading] = useState(false);\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [formData, setFormData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const [passwordStrength, setPasswordStrength] = useState({\n    length: false,\n    uppercase: false,\n    lowercase: false,\n    number: false\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Verificar fortaleza de contraseña\n    if (name === 'newPassword') {\n      setPasswordStrength({\n        length: value.length >= 8,\n        uppercase: /[A-Z]/.test(value),\n        lowercase: /[a-z]/.test(value),\n        number: /[0-9]/.test(value)\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validaciones\n    if (!formData.currentPassword || !formData.newPassword || !formData.confirmPassword) {\n      toast.error('Todos los campos son requeridos');\n      return;\n    }\n    if (formData.newPassword !== formData.confirmPassword) {\n      toast.error('Las contraseñas no coinciden');\n      return;\n    }\n    if (formData.newPassword.length < 8) {\n      toast.error('La contraseña debe tener al menos 8 caracteres');\n      return;\n    }\n    if (!passwordStrength.length || !passwordStrength.uppercase || !passwordStrength.lowercase || !passwordStrength.number) {\n      toast.error('La contraseña debe cumplir con todos los requisitos de seguridad');\n      return;\n    }\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('accessToken');\n      await axios.post('http://localhost:3001/api/password/change-first-login', {\n        currentPassword: formData.currentPassword,\n        newPassword: formData.newPassword\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.success('¡Contraseña cambiada exitosamente!');\n\n      // Esperar un momento y redirigir\n      setTimeout(() => {\n        if ((user === null || user === void 0 ? void 0 : user.rol) === 'ESTUDIANTE') {\n          navigate('/student/dashboard');\n        } else if ((user === null || user === void 0 ? void 0 : user.rol) === 'PROFESOR') {\n          navigate('/professor/dashboard');\n        } else {\n          navigate('/admin/dashboard');\n        }\n      }, 1500);\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response$data$;\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.error) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.message) || 'Error al cambiar contraseña';\n      toast.error(errorMsg);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n  const allRequirementsMet = passwordStrength.length && passwordStrength.uppercase && passwordStrength.lowercase && passwordStrength.number;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 10,\n        sx: {\n          p: 4,\n          borderRadius: 3,\n          position: 'relative',\n          overflow: 'visible'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'absolute',\n            top: -40,\n            left: '50%',\n            transform: 'translateX(-50%)',\n            width: 80,\n            height: 80,\n            borderRadius: '50%',\n            background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 4px 20px rgba(0,0,0,0.3)'\n          },\n          children: /*#__PURE__*/_jsxDEV(Lock, {\n            sx: {\n              fontSize: 40,\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 5,\n            mb: 3,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            fontWeight: \"bold\",\n            gutterBottom: true,\n            children: \"Cambio de Contrase\\xF1a Obligatorio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Por seguridad, debes cambiar tu contrase\\xF1a temporal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          sx: {\n            mb: 3\n          },\n          icon: /*#__PURE__*/_jsxDEV(Warning, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 58\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Primer inicio de sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), \"Debes crear una contrase\\xF1a segura antes de continuar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            required: true,\n            type: showCurrentPassword ? 'text' : 'password',\n            label: \"Contrase\\xF1a Temporal (Actual)\",\n            name: \"currentPassword\",\n            value: formData.currentPassword,\n            onChange: handleChange,\n            disabled: loading,\n            sx: {\n              mb: 2\n            },\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => setShowCurrentPassword(!showCurrentPassword),\n                  edge: \"end\",\n                  children: showCurrentPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 46\n                  }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 66\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            required: true,\n            type: showNewPassword ? 'text' : 'password',\n            label: \"Nueva Contrase\\xF1a\",\n            name: \"newPassword\",\n            value: formData.newPassword,\n            onChange: handleChange,\n            disabled: loading,\n            sx: {\n              mb: 2\n            },\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => setShowNewPassword(!showNewPassword),\n                  edge: \"end\",\n                  children: showNewPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 42\n                  }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 62\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), formData.newPassword && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 2,\n              p: 2,\n              bgcolor: '#f5f5f5',\n              borderRadius: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              fontWeight: \"bold\",\n              display: \"block\",\n              gutterBottom: true,\n              children: \"Requisitos de seguridad:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  sx: {\n                    fontSize: 16,\n                    color: passwordStrength.length ? 'green' : 'gray'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: passwordStrength.length ? 'green' : 'text.secondary',\n                  children: \"M\\xEDnimo 8 caracteres\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  sx: {\n                    fontSize: 16,\n                    color: passwordStrength.uppercase ? 'green' : 'gray'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: passwordStrength.uppercase ? 'green' : 'text.secondary',\n                  children: \"Al menos una may\\xFAscula (A-Z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  sx: {\n                    fontSize: 16,\n                    color: passwordStrength.lowercase ? 'green' : 'gray'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: passwordStrength.lowercase ? 'green' : 'text.secondary',\n                  children: \"Al menos una min\\xFAscula (a-z)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  sx: {\n                    fontSize: 16,\n                    color: passwordStrength.number ? 'green' : 'gray'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: passwordStrength.number ? 'green' : 'text.secondary',\n                  children: \"Al menos un n\\xFAmero (0-9)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), allRequirementsMet && /*#__PURE__*/_jsxDEV(LinearProgress, {\n              variant: \"determinate\",\n              value: 100,\n              color: \"success\",\n              sx: {\n                mt: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            required: true,\n            type: showConfirmPassword ? 'text' : 'password',\n            label: \"Confirmar Nueva Contrase\\xF1a\",\n            name: \"confirmPassword\",\n            value: formData.confirmPassword,\n            onChange: handleChange,\n            disabled: loading,\n            sx: {\n              mb: 3\n            },\n            error: formData.confirmPassword !== '' && formData.newPassword !== formData.confirmPassword,\n            helperText: formData.confirmPassword !== '' && formData.newPassword !== formData.confirmPassword ? 'Las contraseñas no coinciden' : '',\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: () => setShowConfirmPassword(!showConfirmPassword),\n                  edge: \"end\",\n                  children: showConfirmPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 46\n                  }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 66\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            disabled: loading || !allRequirementsMet || formData.newPassword !== formData.confirmPassword,\n            sx: {\n              mb: 2,\n              py: 1.5,\n              background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\n              '&:hover': {\n                background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)'\n              }\n            },\n            children: loading ? 'Cambiando contraseña...' : 'Cambiar Contraseña'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            variant: \"outlined\",\n            onClick: handleLogout,\n            disabled: loading,\n            sx: {\n              py: 1.5\n            },\n            children: \"Cancelar y Cerrar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3,\n            p: 2,\n            bgcolor: '#e3f2fd',\n            borderRadius: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            display: \"block\",\n            color: \"primary.main\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nota de seguridad:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            display: \"block\",\n            color: \"text.secondary\",\n            children: \"\\u2022 Nunca compartas tu contrase\\xF1a con nadie\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            display: \"block\",\n            color: \"text.secondary\",\n            children: \"\\u2022 Usa una contrase\\xF1a \\xFAnica para esta cuenta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            display: \"block\",\n            color: \"text.secondary\",\n            children: \"\\u2022 Cambia tu contrase\\xF1a peri\\xF3dicamente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n};\n_s(ChangePasswordPage, \"+PQskWp1/tYBz9MAb0QIt8Fe9Ds=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = ChangePasswordPage;\nexport default ChangePasswordPage;\nvar _c;\n$RefreshReg$(_c, \"ChangePasswordPage\");","map":{"version":3,"names":["React","useState","Box","Container","Paper","Typography","TextField","Button","InputAdornment","IconButton","Alert","LinearProgress","Lock","Visibility","VisibilityOff","CheckCircle","Warning","useNavigate","useAuthStore","axios","toast","jsxDEV","_jsxDEV","ChangePasswordPage","_s","navigate","user","logout","loading","setLoading","showCurrentPassword","setShowCurrentPassword","showNewPassword","setShowNewPassword","showConfirmPassword","setShowConfirmPassword","formData","setFormData","currentPassword","newPassword","confirmPassword","passwordStrength","setPasswordStrength","length","uppercase","lowercase","number","handleChange","e","name","value","target","prev","test","handleSubmit","preventDefault","error","token","localStorage","getItem","post","headers","Authorization","success","setTimeout","rol","_error$response","_error$response$data","_error$response$data$","errorMsg","response","data","message","handleLogout","allRequirementsMet","sx","minHeight","background","display","alignItems","justifyContent","padding","children","maxWidth","elevation","p","borderRadius","position","overflow","top","left","transform","width","height","boxShadow","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","mt","mb","textAlign","variant","fontWeight","gutterBottom","severity","icon","onSubmit","fullWidth","required","type","label","onChange","disabled","InputProps","endAdornment","onClick","edge","bgcolor","flexDirection","gap","helperText","py","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/pages/ChangePasswordPage.tsx"],"sourcesContent":["/**\r\n * Página de Cambio de Contraseña Obligatorio\r\n * Se muestra en el primer login\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  InputAdornment,\r\n  IconButton,\r\n  Alert,\r\n  LinearProgress,\r\n} from '@mui/material';\r\nimport {\r\n  Lock,\r\n  Visibility,\r\n  VisibilityOff,\r\n  CheckCircle,\r\n  Warning,\r\n} from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuthStore } from '../store/authStore';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport const ChangePasswordPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { user, logout } = useAuthStore();\r\n  const [loading, setLoading] = useState(false);\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  const [passwordStrength, setPasswordStrength] = useState({\r\n    length: false,\r\n    uppercase: false,\r\n    lowercase: false,\r\n    number: false,\r\n  });\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n\r\n    // Verificar fortaleza de contraseña\r\n    if (name === 'newPassword') {\r\n      setPasswordStrength({\r\n        length: value.length >= 8,\r\n        uppercase: /[A-Z]/.test(value),\r\n        lowercase: /[a-z]/.test(value),\r\n        number: /[0-9]/.test(value),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    // Validaciones\r\n    if (!formData.currentPassword || !formData.newPassword || !formData.confirmPassword) {\r\n      toast.error('Todos los campos son requeridos');\r\n      return;\r\n    }\r\n\r\n    if (formData.newPassword !== formData.confirmPassword) {\r\n      toast.error('Las contraseñas no coinciden');\r\n      return;\r\n    }\r\n\r\n    if (formData.newPassword.length < 8) {\r\n      toast.error('La contraseña debe tener al menos 8 caracteres');\r\n      return;\r\n    }\r\n\r\n    if (!passwordStrength.length || !passwordStrength.uppercase || !passwordStrength.lowercase || !passwordStrength.number) {\r\n      toast.error('La contraseña debe cumplir con todos los requisitos de seguridad');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('accessToken');\r\n\r\n      await axios.post(\r\n        'http://localhost:3001/api/password/change-first-login',\r\n        {\r\n          currentPassword: formData.currentPassword,\r\n          newPassword: formData.newPassword,\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      toast.success('¡Contraseña cambiada exitosamente!');\r\n      \r\n      // Esperar un momento y redirigir\r\n      setTimeout(() => {\r\n        if (user?.rol === 'ESTUDIANTE') {\r\n          navigate('/student/dashboard');\r\n        } else if (user?.rol === 'PROFESOR') {\r\n          navigate('/professor/dashboard');\r\n        } else {\r\n          navigate('/admin/dashboard');\r\n        }\r\n      }, 1500);\r\n    } catch (error: any) {\r\n      const errorMsg = error.response?.data?.error?.message || 'Error al cambiar contraseña';\r\n      toast.error(errorMsg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  const allRequirementsMet = passwordStrength.length && passwordStrength.uppercase && passwordStrength.lowercase && passwordStrength.number;\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        minHeight: '100vh',\r\n        background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: 2,\r\n      }}\r\n    >\r\n      <Container maxWidth=\"sm\">\r\n        <Paper\r\n          elevation={10}\r\n          sx={{\r\n            p: 4,\r\n            borderRadius: 3,\r\n            position: 'relative',\r\n            overflow: 'visible',\r\n          }}\r\n        >\r\n          {/* Icono superior */}\r\n          <Box\r\n            sx={{\r\n              position: 'absolute',\r\n              top: -40,\r\n              left: '50%',\r\n              transform: 'translateX(-50%)',\r\n              width: 80,\r\n              height: 80,\r\n              borderRadius: '50%',\r\n              background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\r\n            }}\r\n          >\r\n            <Lock sx={{ fontSize: 40, color: 'white' }} />\r\n          </Box>\r\n\r\n          {/* Título */}\r\n          <Box sx={{ mt: 5, mb: 3, textAlign: 'center' }}>\r\n            <Typography variant=\"h5\" fontWeight=\"bold\" gutterBottom>\r\n              Cambio de Contraseña Obligatorio\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Por seguridad, debes cambiar tu contraseña temporal\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Alerta informativa */}\r\n          <Alert severity=\"warning\" sx={{ mb: 3 }} icon={<Warning />}>\r\n            <strong>Primer inicio de sesión</strong>\r\n            <br />\r\n            Debes crear una contraseña segura antes de continuar\r\n          </Alert>\r\n\r\n          {/* Formulario */}\r\n          <form onSubmit={handleSubmit}>\r\n            {/* Contraseña actual */}\r\n            <TextField\r\n              fullWidth\r\n              required\r\n              type={showCurrentPassword ? 'text' : 'password'}\r\n              label=\"Contraseña Temporal (Actual)\"\r\n              name=\"currentPassword\"\r\n              value={formData.currentPassword}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n              sx={{ mb: 2 }}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={() => setShowCurrentPassword(!showCurrentPassword)}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showCurrentPassword ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n\r\n            {/* Nueva contraseña */}\r\n            <TextField\r\n              fullWidth\r\n              required\r\n              type={showNewPassword ? 'text' : 'password'}\r\n              label=\"Nueva Contraseña\"\r\n              name=\"newPassword\"\r\n              value={formData.newPassword}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n              sx={{ mb: 2 }}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={() => setShowNewPassword(!showNewPassword)}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showNewPassword ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n\r\n            {/* Requisitos de contraseña */}\r\n            {formData.newPassword && (\r\n              <Box sx={{ mb: 2, p: 2, bgcolor: '#f5f5f5', borderRadius: 1 }}>\r\n                <Typography variant=\"caption\" fontWeight=\"bold\" display=\"block\" gutterBottom>\r\n                  Requisitos de seguridad:\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <CheckCircle sx={{ fontSize: 16, color: passwordStrength.length ? 'green' : 'gray' }} />\r\n                    <Typography variant=\"caption\" color={passwordStrength.length ? 'green' : 'text.secondary'}>\r\n                      Mínimo 8 caracteres\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <CheckCircle sx={{ fontSize: 16, color: passwordStrength.uppercase ? 'green' : 'gray' }} />\r\n                    <Typography variant=\"caption\" color={passwordStrength.uppercase ? 'green' : 'text.secondary'}>\r\n                      Al menos una mayúscula (A-Z)\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <CheckCircle sx={{ fontSize: 16, color: passwordStrength.lowercase ? 'green' : 'gray' }} />\r\n                    <Typography variant=\"caption\" color={passwordStrength.lowercase ? 'green' : 'text.secondary'}>\r\n                      Al menos una minúscula (a-z)\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <CheckCircle sx={{ fontSize: 16, color: passwordStrength.number ? 'green' : 'gray' }} />\r\n                    <Typography variant=\"caption\" color={passwordStrength.number ? 'green' : 'text.secondary'}>\r\n                      Al menos un número (0-9)\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n                {allRequirementsMet && (\r\n                  <LinearProgress variant=\"determinate\" value={100} color=\"success\" sx={{ mt: 1 }} />\r\n                )}\r\n              </Box>\r\n            )}\r\n\r\n            {/* Confirmar contraseña */}\r\n            <TextField\r\n              fullWidth\r\n              required\r\n              type={showConfirmPassword ? 'text' : 'password'}\r\n              label=\"Confirmar Nueva Contraseña\"\r\n              name=\"confirmPassword\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n              sx={{ mb: 3 }}\r\n              error={formData.confirmPassword !== '' && formData.newPassword !== formData.confirmPassword}\r\n              helperText={\r\n                formData.confirmPassword !== '' && formData.newPassword !== formData.confirmPassword\r\n                  ? 'Las contraseñas no coinciden'\r\n                  : ''\r\n              }\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n\r\n            {/* Botones */}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              disabled={loading || !allRequirementsMet || formData.newPassword !== formData.confirmPassword}\r\n              sx={{\r\n                mb: 2,\r\n                py: 1.5,\r\n                background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\r\n                '&:hover': {\r\n                  background: 'linear-gradient(135deg,rgb(6, 99, 63) 0%,rgb(83, 205, 91) 100%)',\r\n                },\r\n              }}\r\n            >\r\n              {loading ? 'Cambiando contraseña...' : 'Cambiar Contraseña'}\r\n            </Button>\r\n\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onClick={handleLogout}\r\n              disabled={loading}\r\n              sx={{ py: 1.5 }}\r\n            >\r\n              Cancelar y Cerrar Sesión\r\n            </Button>\r\n          </form>\r\n\r\n          {/* Nota de seguridad */}\r\n          <Box sx={{ mt: 3, p: 2, bgcolor: '#e3f2fd', borderRadius: 1 }}>\r\n            <Typography variant=\"caption\" display=\"block\" color=\"primary.main\">\r\n              <strong>Nota de seguridad:</strong>\r\n            </Typography>\r\n            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\r\n              • Nunca compartas tu contraseña con nadie\r\n            </Typography>\r\n            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\r\n              • Usa una contraseña única para esta cuenta\r\n            </Typography>\r\n            <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\r\n              • Cambia tu contraseña periódicamente\r\n            </Typography>\r\n          </Box>\r\n        </Paper>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordPage;\r\n\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACEC,GAAG,EACHC,SAAS,EACTC,KAAK,EACLC,UAAU,EACVC,SAAS,EACTC,MAAM,EACNC,cAAc,EACdC,UAAU,EACVC,KAAK,EACLC,cAAc,QACT,eAAe;AACtB,SACEC,IAAI,EACJC,UAAU,EACVC,aAAa,EACbC,WAAW,EACXC,OAAO,QACF,qBAAqB;AAC5B,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,YAAY,QAAQ,oBAAoB;AACjD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,OAAO,MAAMC,kBAA4B,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChD,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAES,IAAI;IAAEC;EAAO,CAAC,GAAGT,YAAY,CAAC,CAAC;EACvC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC6B,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAAC+B,eAAe,EAAEC,kBAAkB,CAAC,GAAGhC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACiC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACmC,QAAQ,EAAEC,WAAW,CAAC,GAAGpC,QAAQ,CAAC;IACvCqC,eAAe,EAAE,EAAE;IACnBC,WAAW,EAAE,EAAE;IACfC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzC,QAAQ,CAAC;IACvD0C,MAAM,EAAE,KAAK;IACbC,SAAS,EAAE,KAAK;IAChBC,SAAS,EAAE,KAAK;IAChBC,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAIC,CAAsC,IAAK;IAC/D,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCd,WAAW,CAAEe,IAAI,KAAM;MACrB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;;IAEH;IACA,IAAID,IAAI,KAAK,aAAa,EAAE;MAC1BP,mBAAmB,CAAC;QAClBC,MAAM,EAAEO,KAAK,CAACP,MAAM,IAAI,CAAC;QACzBC,SAAS,EAAE,OAAO,CAACS,IAAI,CAACH,KAAK,CAAC;QAC9BL,SAAS,EAAE,OAAO,CAACQ,IAAI,CAACH,KAAK,CAAC;QAC9BJ,MAAM,EAAE,OAAO,CAACO,IAAI,CAACH,KAAK;MAC5B,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMI,YAAY,GAAG,MAAON,CAAkB,IAAK;IACjDA,CAAC,CAACO,cAAc,CAAC,CAAC;;IAElB;IACA,IAAI,CAACnB,QAAQ,CAACE,eAAe,IAAI,CAACF,QAAQ,CAACG,WAAW,IAAI,CAACH,QAAQ,CAACI,eAAe,EAAE;MACnFpB,KAAK,CAACoC,KAAK,CAAC,iCAAiC,CAAC;MAC9C;IACF;IAEA,IAAIpB,QAAQ,CAACG,WAAW,KAAKH,QAAQ,CAACI,eAAe,EAAE;MACrDpB,KAAK,CAACoC,KAAK,CAAC,8BAA8B,CAAC;MAC3C;IACF;IAEA,IAAIpB,QAAQ,CAACG,WAAW,CAACI,MAAM,GAAG,CAAC,EAAE;MACnCvB,KAAK,CAACoC,KAAK,CAAC,gDAAgD,CAAC;MAC7D;IACF;IAEA,IAAI,CAACf,gBAAgB,CAACE,MAAM,IAAI,CAACF,gBAAgB,CAACG,SAAS,IAAI,CAACH,gBAAgB,CAACI,SAAS,IAAI,CAACJ,gBAAgB,CAACK,MAAM,EAAE;MACtH1B,KAAK,CAACoC,KAAK,CAAC,kEAAkE,CAAC;MAC/E;IACF;IAEA,IAAI;MACF3B,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM4B,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MAEjD,MAAMxC,KAAK,CAACyC,IAAI,CACd,uDAAuD,EACvD;QACEtB,eAAe,EAAEF,QAAQ,CAACE,eAAe;QACzCC,WAAW,EAAEH,QAAQ,CAACG;MACxB,CAAC,EACD;QAAEsB,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUL,KAAK;QAAG;MAAE,CAClD,CAAC;MAEDrC,KAAK,CAAC2C,OAAO,CAAC,oCAAoC,CAAC;;MAEnD;MACAC,UAAU,CAAC,MAAM;QACf,IAAI,CAAAtC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEuC,GAAG,MAAK,YAAY,EAAE;UAC9BxC,QAAQ,CAAC,oBAAoB,CAAC;QAChC,CAAC,MAAM,IAAI,CAAAC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEuC,GAAG,MAAK,UAAU,EAAE;UACnCxC,QAAQ,CAAC,sBAAsB,CAAC;QAClC,CAAC,MAAM;UACLA,QAAQ,CAAC,kBAAkB,CAAC;QAC9B;MACF,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,OAAO+B,KAAU,EAAE;MAAA,IAAAU,eAAA,EAAAC,oBAAA,EAAAC,qBAAA;MACnB,MAAMC,QAAQ,GAAG,EAAAH,eAAA,GAAAV,KAAK,CAACc,QAAQ,cAAAJ,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBK,IAAI,cAAAJ,oBAAA,wBAAAC,qBAAA,GAApBD,oBAAA,CAAsBX,KAAK,cAAAY,qBAAA,uBAA3BA,qBAAA,CAA6BI,OAAO,KAAI,6BAA6B;MACtFpD,KAAK,CAACoC,KAAK,CAACa,QAAQ,CAAC;IACvB,CAAC,SAAS;MACRxC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM4C,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAM9C,MAAM,CAAC,CAAC;IACdF,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMiD,kBAAkB,GAAGjC,gBAAgB,CAACE,MAAM,IAAIF,gBAAgB,CAACG,SAAS,IAAIH,gBAAgB,CAACI,SAAS,IAAIJ,gBAAgB,CAACK,MAAM;EAEzI,oBACExB,OAAA,CAACpB,GAAG;IACFyE,EAAE,EAAE;MACFC,SAAS,EAAE,OAAO;MAClBC,UAAU,EAAE,iEAAiE;MAC7EC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,OAAO,EAAE;IACX,CAAE;IAAAC,QAAA,eAEF5D,OAAA,CAACnB,SAAS;MAACgF,QAAQ,EAAC,IAAI;MAAAD,QAAA,eACtB5D,OAAA,CAAClB,KAAK;QACJgF,SAAS,EAAE,EAAG;QACdT,EAAE,EAAE;UACFU,CAAC,EAAE,CAAC;UACJC,YAAY,EAAE,CAAC;UACfC,QAAQ,EAAE,UAAU;UACpBC,QAAQ,EAAE;QACZ,CAAE;QAAAN,QAAA,gBAGF5D,OAAA,CAACpB,GAAG;UACFyE,EAAE,EAAE;YACFY,QAAQ,EAAE,UAAU;YACpBE,GAAG,EAAE,CAAC,EAAE;YACRC,IAAI,EAAE,KAAK;YACXC,SAAS,EAAE,kBAAkB;YAC7BC,KAAK,EAAE,EAAE;YACTC,MAAM,EAAE,EAAE;YACVP,YAAY,EAAE,KAAK;YACnBT,UAAU,EAAE,iEAAiE;YAC7EC,OAAO,EAAE,MAAM;YACfC,UAAU,EAAE,QAAQ;YACpBC,cAAc,EAAE,QAAQ;YACxBc,SAAS,EAAE;UACb,CAAE;UAAAZ,QAAA,eAEF5D,OAAA,CAACV,IAAI;YAAC+D,EAAE,EAAE;cAAEoB,QAAQ,EAAE,EAAE;cAAEC,KAAK,EAAE;YAAQ;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,eAGN9E,OAAA,CAACpB,GAAG;UAACyE,EAAE,EAAE;YAAE0B,EAAE,EAAE,CAAC;YAAEC,EAAE,EAAE,CAAC;YAAEC,SAAS,EAAE;UAAS,CAAE;UAAArB,QAAA,gBAC7C5D,OAAA,CAACjB,UAAU;YAACmG,OAAO,EAAC,IAAI;YAACC,UAAU,EAAC,MAAM;YAACC,YAAY;YAAAxB,QAAA,EAAC;UAExD;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACb9E,OAAA,CAACjB,UAAU;YAACmG,OAAO,EAAC,OAAO;YAACR,KAAK,EAAC,gBAAgB;YAAAd,QAAA,EAAC;UAEnD;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eAGN9E,OAAA,CAACZ,KAAK;UAACiG,QAAQ,EAAC,SAAS;UAAChC,EAAE,EAAE;YAAE2B,EAAE,EAAE;UAAE,CAAE;UAACM,IAAI,eAAEtF,OAAA,CAACN,OAAO;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAAAlB,QAAA,gBACzD5D,OAAA;YAAA4D,QAAA,EAAQ;UAAuB;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxC9E,OAAA;YAAA2E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,2DAER;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAGR9E,OAAA;UAAMuF,QAAQ,EAAEvD,YAAa;UAAA4B,QAAA,gBAE3B5D,OAAA,CAAChB,SAAS;YACRwG,SAAS;YACTC,QAAQ;YACRC,IAAI,EAAElF,mBAAmB,GAAG,MAAM,GAAG,UAAW;YAChDmF,KAAK,EAAC,iCAA8B;YACpChE,IAAI,EAAC,iBAAiB;YACtBC,KAAK,EAAEd,QAAQ,CAACE,eAAgB;YAChC4E,QAAQ,EAAEnE,YAAa;YACvBoE,QAAQ,EAAEvF,OAAQ;YAClB+C,EAAE,EAAE;cAAE2B,EAAE,EAAE;YAAE,CAAE;YACdc,UAAU,EAAE;cACVC,YAAY,eACV/F,OAAA,CAACd,cAAc;gBAAC+E,QAAQ,EAAC,KAAK;gBAAAL,QAAA,eAC5B5D,OAAA,CAACb,UAAU;kBACT6G,OAAO,EAAEA,CAAA,KAAMvF,sBAAsB,CAAC,CAACD,mBAAmB,CAAE;kBAC5DyF,IAAI,EAAC,KAAK;kBAAArC,QAAA,EAETpD,mBAAmB,gBAAGR,OAAA,CAACR,aAAa;oBAAAmF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,gBAAG9E,OAAA,CAACT,UAAU;oBAAAoF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC;YAEpB;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGF9E,OAAA,CAAChB,SAAS;YACRwG,SAAS;YACTC,QAAQ;YACRC,IAAI,EAAEhF,eAAe,GAAG,MAAM,GAAG,UAAW;YAC5CiF,KAAK,EAAC,qBAAkB;YACxBhE,IAAI,EAAC,aAAa;YAClBC,KAAK,EAAEd,QAAQ,CAACG,WAAY;YAC5B2E,QAAQ,EAAEnE,YAAa;YACvBoE,QAAQ,EAAEvF,OAAQ;YAClB+C,EAAE,EAAE;cAAE2B,EAAE,EAAE;YAAE,CAAE;YACdc,UAAU,EAAE;cACVC,YAAY,eACV/F,OAAA,CAACd,cAAc;gBAAC+E,QAAQ,EAAC,KAAK;gBAAAL,QAAA,eAC5B5D,OAAA,CAACb,UAAU;kBACT6G,OAAO,EAAEA,CAAA,KAAMrF,kBAAkB,CAAC,CAACD,eAAe,CAAE;kBACpDuF,IAAI,EAAC,KAAK;kBAAArC,QAAA,EAETlD,eAAe,gBAAGV,OAAA,CAACR,aAAa;oBAAAmF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,gBAAG9E,OAAA,CAACT,UAAU;oBAAAoF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC;YAEpB;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAGDhE,QAAQ,CAACG,WAAW,iBACnBjB,OAAA,CAACpB,GAAG;YAACyE,EAAE,EAAE;cAAE2B,EAAE,EAAE,CAAC;cAAEjB,CAAC,EAAE,CAAC;cAAEmC,OAAO,EAAE,SAAS;cAAElC,YAAY,EAAE;YAAE,CAAE;YAAAJ,QAAA,gBAC5D5D,OAAA,CAACjB,UAAU;cAACmG,OAAO,EAAC,SAAS;cAACC,UAAU,EAAC,MAAM;cAAC3B,OAAO,EAAC,OAAO;cAAC4B,YAAY;cAAAxB,QAAA,EAAC;YAE7E;cAAAe,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACb9E,OAAA,CAACpB,GAAG;cAACyE,EAAE,EAAE;gBAAEG,OAAO,EAAE,MAAM;gBAAE2C,aAAa,EAAE,QAAQ;gBAAEC,GAAG,EAAE;cAAI,CAAE;cAAAxC,QAAA,gBAC9D5D,OAAA,CAACpB,GAAG;gBAACyE,EAAE,EAAE;kBAAEG,OAAO,EAAE,MAAM;kBAAEC,UAAU,EAAE,QAAQ;kBAAE2C,GAAG,EAAE;gBAAE,CAAE;gBAAAxC,QAAA,gBACzD5D,OAAA,CAACP,WAAW;kBAAC4D,EAAE,EAAE;oBAAEoB,QAAQ,EAAE,EAAE;oBAAEC,KAAK,EAAEvD,gBAAgB,CAACE,MAAM,GAAG,OAAO,GAAG;kBAAO;gBAAE;kBAAAsD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACxF9E,OAAA,CAACjB,UAAU;kBAACmG,OAAO,EAAC,SAAS;kBAACR,KAAK,EAAEvD,gBAAgB,CAACE,MAAM,GAAG,OAAO,GAAG,gBAAiB;kBAAAuC,QAAA,EAAC;gBAE3F;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC,eACN9E,OAAA,CAACpB,GAAG;gBAACyE,EAAE,EAAE;kBAAEG,OAAO,EAAE,MAAM;kBAAEC,UAAU,EAAE,QAAQ;kBAAE2C,GAAG,EAAE;gBAAE,CAAE;gBAAAxC,QAAA,gBACzD5D,OAAA,CAACP,WAAW;kBAAC4D,EAAE,EAAE;oBAAEoB,QAAQ,EAAE,EAAE;oBAAEC,KAAK,EAAEvD,gBAAgB,CAACG,SAAS,GAAG,OAAO,GAAG;kBAAO;gBAAE;kBAAAqD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC3F9E,OAAA,CAACjB,UAAU;kBAACmG,OAAO,EAAC,SAAS;kBAACR,KAAK,EAAEvD,gBAAgB,CAACG,SAAS,GAAG,OAAO,GAAG,gBAAiB;kBAAAsC,QAAA,EAAC;gBAE9F;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC,eACN9E,OAAA,CAACpB,GAAG;gBAACyE,EAAE,EAAE;kBAAEG,OAAO,EAAE,MAAM;kBAAEC,UAAU,EAAE,QAAQ;kBAAE2C,GAAG,EAAE;gBAAE,CAAE;gBAAAxC,QAAA,gBACzD5D,OAAA,CAACP,WAAW;kBAAC4D,EAAE,EAAE;oBAAEoB,QAAQ,EAAE,EAAE;oBAAEC,KAAK,EAAEvD,gBAAgB,CAACI,SAAS,GAAG,OAAO,GAAG;kBAAO;gBAAE;kBAAAoD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC3F9E,OAAA,CAACjB,UAAU;kBAACmG,OAAO,EAAC,SAAS;kBAACR,KAAK,EAAEvD,gBAAgB,CAACI,SAAS,GAAG,OAAO,GAAG,gBAAiB;kBAAAqC,QAAA,EAAC;gBAE9F;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC,eACN9E,OAAA,CAACpB,GAAG;gBAACyE,EAAE,EAAE;kBAAEG,OAAO,EAAE,MAAM;kBAAEC,UAAU,EAAE,QAAQ;kBAAE2C,GAAG,EAAE;gBAAE,CAAE;gBAAAxC,QAAA,gBACzD5D,OAAA,CAACP,WAAW;kBAAC4D,EAAE,EAAE;oBAAEoB,QAAQ,EAAE,EAAE;oBAAEC,KAAK,EAAEvD,gBAAgB,CAACK,MAAM,GAAG,OAAO,GAAG;kBAAO;gBAAE;kBAAAmD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACxF9E,OAAA,CAACjB,UAAU;kBAACmG,OAAO,EAAC,SAAS;kBAACR,KAAK,EAAEvD,gBAAgB,CAACK,MAAM,GAAG,OAAO,GAAG,gBAAiB;kBAAAoC,QAAA,EAAC;gBAE3F;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EACL1B,kBAAkB,iBACjBpD,OAAA,CAACX,cAAc;cAAC6F,OAAO,EAAC,aAAa;cAACtD,KAAK,EAAE,GAAI;cAAC8C,KAAK,EAAC,SAAS;cAACrB,EAAE,EAAE;gBAAE0B,EAAE,EAAE;cAAE;YAAE;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CACnF;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACN,eAGD9E,OAAA,CAAChB,SAAS;YACRwG,SAAS;YACTC,QAAQ;YACRC,IAAI,EAAE9E,mBAAmB,GAAG,MAAM,GAAG,UAAW;YAChD+E,KAAK,EAAC,+BAA4B;YAClChE,IAAI,EAAC,iBAAiB;YACtBC,KAAK,EAAEd,QAAQ,CAACI,eAAgB;YAChC0E,QAAQ,EAAEnE,YAAa;YACvBoE,QAAQ,EAAEvF,OAAQ;YAClB+C,EAAE,EAAE;cAAE2B,EAAE,EAAE;YAAE,CAAE;YACd9C,KAAK,EAAEpB,QAAQ,CAACI,eAAe,KAAK,EAAE,IAAIJ,QAAQ,CAACG,WAAW,KAAKH,QAAQ,CAACI,eAAgB;YAC5FmF,UAAU,EACRvF,QAAQ,CAACI,eAAe,KAAK,EAAE,IAAIJ,QAAQ,CAACG,WAAW,KAAKH,QAAQ,CAACI,eAAe,GAChF,8BAA8B,GAC9B,EACL;YACD4E,UAAU,EAAE;cACVC,YAAY,eACV/F,OAAA,CAACd,cAAc;gBAAC+E,QAAQ,EAAC,KAAK;gBAAAL,QAAA,eAC5B5D,OAAA,CAACb,UAAU;kBACT6G,OAAO,EAAEA,CAAA,KAAMnF,sBAAsB,CAAC,CAACD,mBAAmB,CAAE;kBAC5DqF,IAAI,EAAC,KAAK;kBAAArC,QAAA,EAEThD,mBAAmB,gBAAGZ,OAAA,CAACR,aAAa;oBAAAmF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,gBAAG9E,OAAA,CAACT,UAAU;oBAAAoF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC;YAEpB;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGF9E,OAAA,CAACf,MAAM;YACLyG,IAAI,EAAC,QAAQ;YACbF,SAAS;YACTN,OAAO,EAAC,WAAW;YACnBW,QAAQ,EAAEvF,OAAO,IAAI,CAAC8C,kBAAkB,IAAItC,QAAQ,CAACG,WAAW,KAAKH,QAAQ,CAACI,eAAgB;YAC9FmC,EAAE,EAAE;cACF2B,EAAE,EAAE,CAAC;cACLsB,EAAE,EAAE,GAAG;cACP/C,UAAU,EAAE,iEAAiE;cAC7E,SAAS,EAAE;gBACTA,UAAU,EAAE;cACd;YACF,CAAE;YAAAK,QAAA,EAEDtD,OAAO,GAAG,yBAAyB,GAAG;UAAoB;YAAAqE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,eAET9E,OAAA,CAACf,MAAM;YACLuG,SAAS;YACTN,OAAO,EAAC,UAAU;YAClBc,OAAO,EAAE7C,YAAa;YACtB0C,QAAQ,EAAEvF,OAAQ;YAClB+C,EAAE,EAAE;cAAEiD,EAAE,EAAE;YAAI,CAAE;YAAA1C,QAAA,EACjB;UAED;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGP9E,OAAA,CAACpB,GAAG;UAACyE,EAAE,EAAE;YAAE0B,EAAE,EAAE,CAAC;YAAEhB,CAAC,EAAE,CAAC;YAAEmC,OAAO,EAAE,SAAS;YAAElC,YAAY,EAAE;UAAE,CAAE;UAAAJ,QAAA,gBAC5D5D,OAAA,CAACjB,UAAU;YAACmG,OAAO,EAAC,SAAS;YAAC1B,OAAO,EAAC,OAAO;YAACkB,KAAK,EAAC,cAAc;YAAAd,QAAA,eAChE5D,OAAA;cAAA4D,QAAA,EAAQ;YAAkB;cAAAe,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,eACb9E,OAAA,CAACjB,UAAU;YAACmG,OAAO,EAAC,SAAS;YAAC1B,OAAO,EAAC,OAAO;YAACkB,KAAK,EAAC,gBAAgB;YAAAd,QAAA,EAAC;UAErE;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACb9E,OAAA,CAACjB,UAAU;YAACmG,OAAO,EAAC,SAAS;YAAC1B,OAAO,EAAC,OAAO;YAACkB,KAAK,EAAC,gBAAgB;YAAAd,QAAA,EAAC;UAErE;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACb9E,OAAA,CAACjB,UAAU;YAACmG,OAAO,EAAC,SAAS;YAAC1B,OAAO,EAAC,OAAO;YAACkB,KAAK,EAAC,gBAAgB;YAAAd,QAAA,EAAC;UAErE;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEV,CAAC;AAAC5E,EAAA,CAzUWD,kBAA4B;EAAA,QACtBN,WAAW,EACHC,YAAY;AAAA;AAAA2G,EAAA,GAF1BtG,kBAA4B;AA2UzC,eAAeA,kBAAkB;AAAC,IAAAsG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}