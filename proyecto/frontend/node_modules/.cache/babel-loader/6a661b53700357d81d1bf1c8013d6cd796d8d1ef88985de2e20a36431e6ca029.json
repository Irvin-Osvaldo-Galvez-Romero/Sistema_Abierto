{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Sistema_Abierto\\\\proyecto\\\\frontend\\\\src\\\\pages\\\\AdminCreditsPage.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * Página de gestión de Créditos Complementarios (Administrador)\r\n */\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Box, Button, Card, CardContent, Container, Grid, Stack, Typography, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, CircularProgress, Paper, Divider, Alert } from '@mui/material';\nimport { Download, PictureAsPdf, TaskAlt, WarningAmber, ArrowBack, Visibility } from '@mui/icons-material';\nimport toast from 'react-hot-toast';\nimport CreditosService from '../services/creditos.service';\nimport { useAuthStore } from '../store/authStore';\nimport { useNavigate } from 'react-router-dom';\nimport PageHeader from '../components/PageHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst estatusOptions = [{\n  value: 'TODOS',\n  label: 'Todos'\n}, {\n  value: 'PENDIENTE',\n  label: 'Pendientes'\n}, {\n  value: 'EN_REVISION',\n  label: 'En revisión'\n}, {\n  value: 'VALIDADO',\n  label: 'Validados'\n}, {\n  value: 'RECHAZADO',\n  label: 'Rechazados'\n}];\nconst ESTATUS_CHIP = {\n  PENDIENTE: {\n    label: 'Pendiente',\n    color: 'warning'\n  },\n  EN_REVISION: {\n    label: 'En revisión',\n    color: 'default'\n  },\n  VALIDADO: {\n    label: 'Validado',\n    color: 'success'\n  },\n  RECHAZADO: {\n    label: 'Rechazado',\n    color: 'error'\n  }\n};\nconst AdminCreditsPage = () => {\n  _s();\n  var _dialogValidar$observ;\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuthStore();\n  const [creditos, setCreditos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [accionando, setAccionando] = useState(null);\n  const [filtro, setFiltro] = useState('TODOS');\n  const [dialogValidar, setDialogValidar] = useState({\n    open: false\n  });\n  const [dialogRechazo, setDialogRechazo] = useState({\n    open: false,\n    motivo: ''\n  });\n  const [previewDialog, setPreviewDialog] = useState({\n    open: false,\n    url: null\n  });\n  const cargarCreditos = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await CreditosService.listar(filtro === 'TODOS' ? undefined : filtro);\n      setCreditos(data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'No se pudieron obtener los créditos');\n    } finally {\n      setLoading(false);\n    }\n  }, [filtro]);\n  useEffect(() => {\n    if (user && !['ADMINISTRADOR', 'SUPER_ADMIN', 'PERSONAL_ADMINISTRATIVO'].includes(user.rol)) {\n      navigate('/dashboard');\n      return;\n    }\n    cargarCreditos();\n  }, [cargarCreditos, user, navigate]);\n  const resumen = useMemo(() => {\n    const conteo = {\n      PENDIENTE: 0,\n      EN_REVISION: 0,\n      VALIDADO: 0,\n      RECHAZADO: 0\n    };\n    creditos.flat().forEach(c => {\n      conteo[c.estatus] += 1;\n    });\n    return conteo;\n  }, [creditos]);\n  const handleDownload = async (id, tipo) => {\n    try {\n      const response = await CreditosService.descargarArchivo(id, tipo);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${tipo}-${Date.now()}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      toast.error('No fue posible descargar el archivo solicitado');\n    }\n  };\n  const handleGenerarConstancia = async estudianteId => {\n    try {\n      setAccionando(estudianteId);\n      await CreditosService.generarConstancia(estudianteId);\n      toast.success('Constancia generada para todos los créditos del estudiante');\n      cargarCreditos();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'No se pudo generar la constancia');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const handleValidar = async () => {\n    if (!dialogValidar.credito) {\n      toast.error('No se seleccionó un crédito');\n      return;\n    }\n    try {\n      setAccionando(dialogValidar.credito.id);\n      await CreditosService.revisarCredito({\n        id: dialogValidar.credito.id,\n        aprobado: true,\n        observaciones: dialogValidar.observaciones,\n        archivoFirmado: dialogValidar.archivo || undefined // Archivo opcional\n      });\n      toast.success(`Crédito ${dialogValidar.credito.numero} validado correctamente`);\n      setDialogValidar({\n        open: false\n      });\n      cargarCreditos();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'No se pudo validar el crédito');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const handleRechazar = async () => {\n    if (!dialogRechazo.credito) return;\n    if (!dialogRechazo.motivo.trim()) {\n      toast.error('Debes indicar el motivo de rechazo');\n      return;\n    }\n    try {\n      setAccionando(dialogRechazo.credito.id);\n      await CreditosService.revisarCredito({\n        id: dialogRechazo.credito.id,\n        aprobado: false,\n        motivoRechazo: dialogRechazo.motivo.trim()\n      });\n      toast.success(`Crédito ${dialogRechazo.credito.numero} rechazado`);\n      setDialogRechazo({\n        open: false,\n        motivo: ''\n      });\n      cargarCreditos();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'No se pudo rechazar el crédito');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const logoUrl = `${process.env.PUBLIC_URL}/logo-coordinacion.png`;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: '#f5f7f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Validaci\\xF3n de Cr\\xE9ditos Complementarios\",\n      subtitle: \"Coord. de Sistema Abierto \\xB7 Modalidad Mixta\",\n      gradientFrom: \"#004d40\",\n      gradientTo: \"#009e60\",\n      maxWidth: \"xl\",\n      actions: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"inherit\",\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 26\n          }, this),\n          onClick: () => navigate('/admin/dashboard'),\n          sx: {\n            borderColor: '#FFFFFF',\n            color: '#FFFFFF',\n            '&:hover': {\n              borderColor: '#FFFFFF',\n              backgroundColor: 'rgba(255,255,255,0.1)'\n            }\n          },\n          children: \"Regresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      sx: {\n        pb: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: {\n            xs: 3,\n            md: 4\n          },\n          borderRadius: 3,\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              fontWeight: 600,\n              sx: {\n                color: '#006000',\n                mb: 1\n              },\n              children: \"Panel de seguimiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              color: \"text.secondary\",\n              children: \"Gestiona los cr\\xE9ditos complementarios enviados por los estudiantes. Puedes generar la constancia, adjuntar el documento firmado y comunicar el resultado a la coordinaci\\xF3n acad\\xE9mica.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #f59e0b',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"Pendientes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.PENDIENTE\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #6366f1',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"En revisi\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.EN_REVISION\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #16a34a',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"Validados\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.VALIDADO\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #ef4444',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"Rechazados\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.RECHAZADO\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 1,\n        sx: {\n          borderRadius: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            px: {\n              xs: 3,\n              md: 4\n            },\n            py: 3,\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            fontWeight: 600,\n            children: [\"Cr\\xE9ditos registrados (\", creditos.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              flexGrow: 1,\n              ml: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this) : creditos.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 10,\n            backgroundColor: 'white',\n            borderRadius: 3,\n            mx: {\n              xs: 2,\n              md: 4\n            },\n            mb: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(PictureAsPdf, {\n            sx: {\n              fontSize: 64,\n              color: '#cbd5f5',\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"text.secondary\",\n            children: \"No hay cr\\xE9ditos en este estado.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 4,\n          sx: {\n            px: {\n              xs: 2,\n              md: 4\n            },\n            pb: 4\n          },\n          children: creditos.map((grupoCreditos, index) => {\n            var _primerCredito$estudi, _estudiante$usuario$a, _estudiante$usuario$a2, _estudiante$matricula, _estudiante$carrera$n, _estudiante$carrera;\n            if (grupoCreditos.length === 0) return null;\n            const primerCredito = grupoCreditos[0];\n            const estudiante = primerCredito.estudiante;\n            const estudianteId = (_primerCredito$estudi = primerCredito.estudiante) === null || _primerCredito$estudi === void 0 ? void 0 : _primerCredito$estudi.id;\n            const nombreCompleto = estudiante ? `${estudiante.usuario.nombre} ${(_estudiante$usuario$a = estudiante.usuario.apellidoPaterno) !== null && _estudiante$usuario$a !== void 0 ? _estudiante$usuario$a : ''} ${(_estudiante$usuario$a2 = estudiante.usuario.apellidoMaterno) !== null && _estudiante$usuario$a2 !== void 0 ? _estudiante$usuario$a2 : ''}`.replace(/\\s+/g, ' ').trim() : 'Sin información';\n            const tieneConstanciaGenerada = grupoCreditos.some(c => c.archivoValidacionGenerada);\n            const todosValidados = grupoCreditos.every(c => c.estatus === 'VALIDADO');\n            return /*#__PURE__*/_jsxDEV(Paper, {\n              elevation: 2,\n              sx: {\n                p: 3,\n                borderRadius: 3\n              },\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                spacing: 3,\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    backgroundColor: '#f8fafc',\n                    p: 2,\n                    borderRadius: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    fontWeight: \"bold\",\n                    gutterBottom: true,\n                    children: nombreCompleto\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [\"Matr\\xEDcula: \", (_estudiante$matricula = estudiante === null || estudiante === void 0 ? void 0 : estudiante.matricula) !== null && _estudiante$matricula !== void 0 ? _estudiante$matricula : '---']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [\"Carrera: \", (_estudiante$carrera$n = estudiante === null || estudiante === void 0 ? void 0 : (_estudiante$carrera = estudiante.carrera) === null || _estudiante$carrera === void 0 ? void 0 : _estudiante$carrera.nombre) !== null && _estudiante$carrera$n !== void 0 ? _estudiante$carrera$n : '---']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    sx: {\n                      mt: 1\n                    },\n                    children: [\"Cr\\xE9ditos registrados: \", grupoCreditos.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), estudianteId && /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    startIcon: accionando === estudianteId ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                      size: 18,\n                      color: \"inherit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 68\n                    }, this) : /*#__PURE__*/_jsxDEV(TaskAlt, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 117\n                    }, this),\n                    disabled: accionando === estudianteId || todosValidados,\n                    onClick: () => handleGenerarConstancia(estudianteId),\n                    sx: {\n                      backgroundColor: '#008000',\n                      '&:hover': {\n                        backgroundColor: '#006000'\n                      }\n                    },\n                    children: tieneConstanciaGenerada ? 'Regenerar constancia' : 'Generar constancia'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this), tieneConstanciaGenerada && primerCredito.archivoValidacionGenerada && /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"outlined\",\n                    startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 40\n                    }, this),\n                    onClick: () => handleDownload(primerCredito.id, 'generado'),\n                    sx: {\n                      ml: 2\n                    },\n                    children: \"Descargar constancia generada\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: grupoCreditos.map(credito => /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(Card, {\n                      sx: {\n                        borderRadius: 2,\n                        border: '1px solid #e2e8f0'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(CardContent, {\n                        children: /*#__PURE__*/_jsxDEV(Stack, {\n                          spacing: 2,\n                          children: [/*#__PURE__*/_jsxDEV(Box, {\n                            sx: {\n                              display: 'flex',\n                              justifyContent: 'space-between',\n                              alignItems: 'center'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"subtitle1\",\n                              fontWeight: \"bold\",\n                              children: credito.titulo\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 362,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                              label: ESTATUS_CHIP[credito.estatus].label,\n                              color: ESTATUS_CHIP[credito.estatus].color,\n                              size: \"small\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 365,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 361,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"body2\",\n                            color: \"text.secondary\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Tipo:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 373,\n                              columnNumber: 35\n                            }, this), \" \", credito.tipo.replace(/_/g, ' ')]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 372,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"body2\",\n                            color: \"text.secondary\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Descripci\\xF3n:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 376,\n                              columnNumber: 35\n                            }, this), \" \", credito.descripcion]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 375,\n                            columnNumber: 33\n                          }, this), credito.tipo === 'CURSOS' && /*#__PURE__*/_jsxDEV(Box, {\n                            sx: {\n                              p: 1.5,\n                              borderRadius: 1,\n                              backgroundColor: '#f5f5f5'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"body2\",\n                              color: \"text.secondary\",\n                              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: \"Horas del archivo original:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 381,\n                                columnNumber: 39\n                              }, this), \" \", credito.horasCurso || 0]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 380,\n                              columnNumber: 37\n                            }, this), credito.archivosAdicionales && credito.archivosAdicionales.length > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"body2\",\n                              color: \"text.secondary\",\n                              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: \"Archivos adicionales:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 385,\n                                columnNumber: 41\n                              }, this), \" \", credito.archivosAdicionales.length]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 384,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"body2\",\n                              fontWeight: \"bold\",\n                              color: \"primary\",\n                              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: \"Total de horas:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 389,\n                                columnNumber: 39\n                              }, this), \" \", credito.horasTotales || credito.horasCurso || 0, \" / 60\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 388,\n                              columnNumber: 37\n                            }, this), credito.archivoCombinado && /*#__PURE__*/_jsxDEV(Alert, {\n                              severity: \"info\",\n                              sx: {\n                                mt: 1\n                              },\n                              children: \"Este cr\\xE9dito tiene un PDF combinado con todos los archivos (solo visible para administradores).\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 392,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 379,\n                            columnNumber: 35\n                          }, this), credito.motivoRechazo && /*#__PURE__*/_jsxDEV(Box, {\n                            sx: {\n                              backgroundColor: '#fef2f2',\n                              p: 1.5,\n                              borderRadius: 1,\n                              border: '1px solid #fecaca'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"caption\",\n                              color: \"error\",\n                              fontWeight: \"bold\",\n                              children: \"Motivo de rechazo:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 401,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                              variant: \"body2\",\n                              color: \"error\",\n                              children: credito.motivoRechazo\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 404,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 400,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                            direction: \"row\",\n                            spacing: 1,\n                            flexWrap: \"wrap\",\n                            children: [/*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outlined\",\n                              size: \"small\",\n                              startIcon: /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 414,\n                                columnNumber: 48\n                              }, this),\n                              onClick: async () => {\n                                try {\n                                  const response = await CreditosService.descargarArchivo(credito.id, 'original');\n                                  // Crear Blob con el tipo MIME correcto para PDF\n                                  const blob = new Blob([response.data], {\n                                    type: 'application/pdf'\n                                  });\n                                  const url = window.URL.createObjectURL(blob);\n                                  setPreviewDialog({\n                                    open: true,\n                                    url\n                                  });\n                                } catch (error) {\n                                  toast.error('No se pudo cargar el archivo para previsualización');\n                                }\n                              },\n                              children: \"Previsualizar\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 411,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outlined\",\n                              size: \"small\",\n                              startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 432,\n                                columnNumber: 48\n                              }, this),\n                              onClick: () => handleDownload(credito.id, 'original'),\n                              children: credito.archivoCombinado ? 'Ver PDF combinado' : 'Ver evidencia'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 429,\n                              columnNumber: 35\n                            }, this), credito.archivoValidado && /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outlined\",\n                              size: \"small\",\n                              color: \"success\",\n                              startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 443,\n                                columnNumber: 50\n                              }, this),\n                              onClick: () => handleDownload(credito.id, 'firmado'),\n                              children: \"Constancia firmada\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 439,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"contained\",\n                              size: \"small\",\n                              color: \"success\",\n                              startIcon: /*#__PURE__*/_jsxDEV(TaskAlt, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 454,\n                                columnNumber: 48\n                              }, this),\n                              onClick: () => setDialogValidar({\n                                open: true,\n                                credito\n                              }),\n                              children: \"Validar\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 450,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Button, {\n                              variant: \"outlined\",\n                              size: \"small\",\n                              color: \"error\",\n                              startIcon: /*#__PURE__*/_jsxDEV(WarningAmber, {}, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 464,\n                                columnNumber: 48\n                              }, this),\n                              onClick: () => setDialogRechazo({\n                                open: true,\n                                credito,\n                                motivo: ''\n                              }),\n                              children: \"Rechazar\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 460,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 410,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 360,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this)\n                  }, credito.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)\n            }, estudianteId || index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: dialogValidar.open,\n      onClose: () => setDialogValidar({\n        open: false\n      }),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Validar cr\\xE9dito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2,\n          py: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"El cr\\xE9dito ser\\xE1 marcado como validado. Opcionalmente puedes adjuntar la constancia firmada y agregar observaciones.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          component: \"label\",\n          startIcon: /*#__PURE__*/_jsxDEV(PictureAsPdf, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 24\n          }, this),\n          children: [\"Seleccionar PDF firmado (opcional)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            hidden: true,\n            type: \"file\",\n            accept: \"application/pdf\",\n            onChange: event => setDialogValidar(prev => ({\n              ...prev,\n              archivo: event.target.files ? event.target.files[0] : null\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), dialogValidar.archivo && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [\"Archivo seleccionado: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: dialogValidar.archivo.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Observaciones (opcional)\",\n          multiline: true,\n          minRows: 3,\n          value: (_dialogValidar$observ = dialogValidar.observaciones) !== null && _dialogValidar$observ !== void 0 ? _dialogValidar$observ : '',\n          onChange: event => setDialogValidar(prev => ({\n            ...prev,\n            observaciones: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setDialogValidar({\n            open: false\n          }),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"success\",\n          onClick: handleValidar,\n          children: \"Validar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: dialogRechazo.open,\n      onClose: () => setDialogRechazo({\n        open: false,\n        motivo: ''\n      }),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Rechazar cr\\xE9dito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2,\n          py: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"Describe el motivo del rechazo que recibir\\xE1 el estudiante.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Motivo de rechazo\",\n          multiline: true,\n          minRows: 3,\n          value: dialogRechazo.motivo,\n          onChange: event => setDialogRechazo(prev => ({\n            ...prev,\n            motivo: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setDialogRechazo({\n            open: false,\n            motivo: ''\n          }),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"error\",\n          onClick: handleRechazar,\n          children: \"Rechazar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: previewDialog.open,\n      onClose: () => {\n        if (previewDialog.url) {\n          window.URL.revokeObjectURL(previewDialog.url);\n        }\n        setPreviewDialog({\n          open: false,\n          url: null\n        });\n      },\n      maxWidth: \"lg\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          height: '90vh'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Previsualizaci\\xF3n del Documento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              if (previewDialog.url) {\n                window.URL.revokeObjectURL(previewDialog.url);\n              }\n              setPreviewDialog({\n                open: false,\n                url: null\n              });\n            },\n            children: \"Cerrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          p: 0,\n          height: 'calc(100% - 64px)',\n          position: 'relative',\n          overflow: 'hidden'\n        },\n        children: previewDialog.url && /*#__PURE__*/_jsxDEV(Box, {\n          component: \"embed\",\n          src: `${previewDialog.url}#toolbar=1&navpanes=1&scrollbar=1`,\n          type: \"application/pdf\",\n          sx: {\n            width: '100%',\n            height: '100%',\n            minHeight: '600px',\n            border: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminCreditsPage, \"mtI9NGQQRdVGDcjF4YkgV/vJ8BA=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = AdminCreditsPage;\nexport default AdminCreditsPage;\nvar _c;\n$RefreshReg$(_c, \"AdminCreditsPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","Box","Button","Card","CardContent","Container","Grid","Stack","Typography","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","CircularProgress","Paper","Divider","Alert","Download","PictureAsPdf","TaskAlt","WarningAmber","ArrowBack","Visibility","toast","CreditosService","useAuthStore","useNavigate","PageHeader","jsxDEV","_jsxDEV","estatusOptions","value","label","ESTATUS_CHIP","PENDIENTE","color","EN_REVISION","VALIDADO","RECHAZADO","AdminCreditsPage","_s","_dialogValidar$observ","navigate","user","creditos","setCreditos","loading","setLoading","accionando","setAccionando","filtro","setFiltro","dialogValidar","setDialogValidar","open","dialogRechazo","setDialogRechazo","motivo","previewDialog","setPreviewDialog","url","cargarCreditos","data","listar","undefined","error","_error$response","_error$response$data","response","message","includes","rol","resumen","conteo","flat","forEach","c","estatus","handleDownload","id","tipo","descargarArchivo","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","Date","now","body","appendChild","click","removeChild","revokeObjectURL","handleGenerarConstancia","estudianteId","generarConstancia","success","_error$response2","_error$response2$data","handleValidar","credito","revisarCredito","aprobado","observaciones","archivoFirmado","archivo","numero","_error$response3","_error$response3$data","handleRechazar","trim","motivoRechazo","_error$response4","_error$response4$data","logoUrl","process","env","PUBLIC_URL","sx","minHeight","backgroundColor","children","title","subtitle","gradientFrom","gradientTo","maxWidth","actions","direction","spacing","variant","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","borderColor","pb","elevation","p","xs","md","borderRadius","mb","fontWeight","container","item","borderLeft","px","py","display","justifyContent","alignItems","length","flexGrow","ml","height","textAlign","mx","fontSize","map","grupoCreditos","index","_primerCredito$estudi","_estudiante$usuario$a","_estudiante$usuario$a2","_estudiante$matricula","_estudiante$carrera$n","_estudiante$carrera","primerCredito","estudiante","nombreCompleto","usuario","nombre","apellidoPaterno","apellidoMaterno","replace","tieneConstanciaGenerada","some","archivoValidacionGenerada","todosValidados","every","gutterBottom","matricula","carrera","mt","size","disabled","border","titulo","descripcion","horasCurso","archivosAdicionales","horasTotales","archivoCombinado","severity","flexWrap","blob","type","archivoValidado","onClose","fullWidth","flexDirection","gap","component","hidden","accept","onChange","event","prev","target","files","name","multiline","minRows","PaperProps","position","overflow","src","width","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/pages/AdminCreditsPage.tsx"],"sourcesContent":["/**\r\n * Página de gestión de Créditos Complementarios (Administrador)\r\n */\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  Typography,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  CircularProgress,\r\n  Paper,\r\n  Divider,\r\n  Alert,\r\n} from '@mui/material';\r\nimport { Download, PictureAsPdf, TaskAlt, WarningAmber, ArrowBack, Visibility } from '@mui/icons-material';\r\nimport toast from 'react-hot-toast';\r\nimport CreditosService from '../services/creditos.service';\r\nimport { CreditoComplementario, EstatusCreditoComplementario } from '../types/creditos.types';\r\nimport { useAuthStore } from '../store/authStore';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PageHeader from '../components/PageHeader';\r\n\r\ntype FiltroEstatus = 'TODOS' | EstatusCreditoComplementario;\r\n\r\nconst estatusOptions: { value: FiltroEstatus; label: string }[] = [\r\n  { value: 'TODOS', label: 'Todos' },\r\n  { value: 'PENDIENTE', label: 'Pendientes' },\r\n  { value: 'EN_REVISION', label: 'En revisión' },\r\n  { value: 'VALIDADO', label: 'Validados' },\r\n  { value: 'RECHAZADO', label: 'Rechazados' },\r\n];\r\n\r\nconst ESTATUS_CHIP: Record<EstatusCreditoComplementario, { label: string; color: 'default' | 'success' | 'warning' | 'error' }> = {\r\n  PENDIENTE: { label: 'Pendiente', color: 'warning' },\r\n  EN_REVISION: { label: 'En revisión', color: 'default' },\r\n  VALIDADO: { label: 'Validado', color: 'success' },\r\n  RECHAZADO: { label: 'Rechazado', color: 'error' },\r\n};\r\n\r\ninterface DialogValidarState {\r\n  open: boolean;\r\n  credito?: CreditoComplementario;\r\n  archivo?: File | null;\r\n  observaciones?: string;\r\n}\r\n\r\ninterface DialogRechazoState {\r\n  open: boolean;\r\n  credito?: CreditoComplementario;\r\n  motivo: string;\r\n}\r\n\r\nconst AdminCreditsPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuthStore();\r\n  const [creditos, setCreditos] = useState<CreditoComplementario[][]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [accionando, setAccionando] = useState<string | null>(null);\r\n  const [filtro, setFiltro] = useState<FiltroEstatus>('TODOS');\r\n\r\n  const [dialogValidar, setDialogValidar] = useState<DialogValidarState>({ open: false });\r\n  const [dialogRechazo, setDialogRechazo] = useState<DialogRechazoState>({ open: false, motivo: '' });\r\n  const [previewDialog, setPreviewDialog] = useState<{ open: boolean; url: string | null }>({ open: false, url: null });\r\n\r\n  const cargarCreditos = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await CreditosService.listar(filtro === 'TODOS' ? undefined : filtro);\r\n      setCreditos(data);\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudieron obtener los créditos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filtro]);\r\n\r\n  useEffect(() => {\r\n    if (user && !['ADMINISTRADOR', 'SUPER_ADMIN', 'PERSONAL_ADMINISTRATIVO'].includes(user.rol)) {\r\n      navigate('/dashboard');\r\n      return;\r\n    }\r\n    cargarCreditos();\r\n  }, [cargarCreditos, user, navigate]);\r\n\r\n  const resumen = useMemo(() => {\r\n    const conteo: Record<EstatusCreditoComplementario, number> = {\r\n      PENDIENTE: 0,\r\n      EN_REVISION: 0,\r\n      VALIDADO: 0,\r\n      RECHAZADO: 0,\r\n    };\r\n    creditos.flat().forEach((c) => {\r\n      conteo[c.estatus] += 1;\r\n    });\r\n    return conteo;\r\n  }, [creditos]);\r\n\r\n  const handleDownload = async (id: string, tipo: 'original' | 'generado' | 'firmado') => {\r\n    try {\r\n      const response = await CreditosService.descargarArchivo(id, tipo);\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `${tipo}-${Date.now()}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error: any) {\r\n      toast.error('No fue posible descargar el archivo solicitado');\r\n    }\r\n  };\r\n\r\n  const handleGenerarConstancia = async (estudianteId: string) => {\r\n    try {\r\n      setAccionando(estudianteId);\r\n      await CreditosService.generarConstancia(estudianteId);\r\n      toast.success('Constancia generada para todos los créditos del estudiante');\r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudo generar la constancia');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const handleValidar = async () => {\r\n    if (!dialogValidar.credito) {\r\n      toast.error('No se seleccionó un crédito');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setAccionando(dialogValidar.credito.id);\r\n      await CreditosService.revisarCredito({\r\n        id: dialogValidar.credito.id,\r\n        aprobado: true,\r\n        observaciones: dialogValidar.observaciones,\r\n        archivoFirmado: dialogValidar.archivo || undefined, // Archivo opcional\r\n      });\r\n      toast.success(`Crédito ${dialogValidar.credito.numero} validado correctamente`);\r\n      setDialogValidar({ open: false });\r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudo validar el crédito');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const handleRechazar = async () => {\r\n    if (!dialogRechazo.credito) return;\r\n    if (!dialogRechazo.motivo.trim()) {\r\n      toast.error('Debes indicar el motivo de rechazo');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setAccionando(dialogRechazo.credito.id);\r\n      await CreditosService.revisarCredito({\r\n        id: dialogRechazo.credito.id,\r\n        aprobado: false,\r\n        motivoRechazo: dialogRechazo.motivo.trim(),\r\n      });\r\n      toast.success(`Crédito ${dialogRechazo.credito.numero} rechazado`);\r\n      setDialogRechazo({ open: false, motivo: '' });\r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudo rechazar el crédito');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const logoUrl = `${process.env.PUBLIC_URL}/logo-coordinacion.png`;\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', backgroundColor: '#f5f7f5' }}>\r\n      <PageHeader\r\n        title=\"Validación de Créditos Complementarios\"\r\n        subtitle=\"Coord. de Sistema Abierto · Modalidad Mixta\"\r\n        gradientFrom=\"#004d40\"\r\n        gradientTo=\"#009e60\"\r\n        maxWidth=\"xl\"\r\n        actions={\r\n          <Stack direction=\"row\" spacing={2}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              startIcon={<ArrowBack />}\r\n              onClick={() => navigate('/admin/dashboard')}\r\n              sx={{\r\n                borderColor: '#FFFFFF',\r\n                color: '#FFFFFF',\r\n                '&:hover': {\r\n                  borderColor: '#FFFFFF',\r\n                  backgroundColor: 'rgba(255,255,255,0.1)',\r\n                },\r\n              }}\r\n            >\r\n              Regresar\r\n            </Button>\r\n          </Stack>\r\n        }\r\n      />\r\n\r\n      <Container maxWidth=\"xl\" sx={{ pb: 6 }}>\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            p: { xs: 3, md: 4 },\r\n            borderRadius: 3,\r\n            mb: 4,\r\n          }}\r\n        >\r\n          <Stack spacing={3}>\r\n            <Box>\r\n              <Typography variant=\"h5\" fontWeight={600} sx={{ color: '#006000', mb: 1 }}>\r\n                Panel de seguimiento\r\n              </Typography>\r\n              <Typography variant=\"body1\" color=\"text.secondary\">\r\n                Gestiona los créditos complementarios enviados por los estudiantes. Puedes generar la constancia, adjuntar el documento firmado\r\n                y comunicar el resultado a la coordinación académica.\r\n              </Typography>\r\n            </Box>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #f59e0b', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">Pendientes</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.PENDIENTE}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #6366f1', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">En revisión</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.EN_REVISION}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #16a34a', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">Validados</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.VALIDADO}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #ef4444', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">Rechazados</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.RECHAZADO}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n          </Stack>\r\n        </Paper>\r\n\r\n        <Paper elevation={1} sx={{ borderRadius: 3 }}>\r\n          <Box sx={{ px: { xs: 3, md: 4 }, py: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\" fontWeight={600}>\r\n              Créditos registrados ({creditos.length})\r\n            </Typography>\r\n            <Divider sx={{ flexGrow: 1, ml: 3 }} />\r\n          </Box>\r\n\r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: 300 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : creditos.length === 0 ? (\r\n          <Box sx={{ textAlign: 'center', py: 10, backgroundColor: 'white', borderRadius: 3, mx: { xs: 2, md: 4 }, mb: 4 }}>\r\n            <PictureAsPdf sx={{ fontSize: 64, color: '#cbd5f5', mb: 2 }} />\r\n            <Typography variant=\"h6\" color=\"text.secondary\">\r\n              No hay créditos en este estado.\r\n            </Typography>\r\n          </Box>\r\n        ) : (\r\n          <Stack spacing={4} sx={{ px: { xs: 2, md: 4 }, pb: 4 }}>\r\n            {creditos.map((grupoCreditos, index) => {\r\n              if (grupoCreditos.length === 0) return null;\r\n\r\n              const primerCredito = grupoCreditos[0];\r\n              const estudiante = primerCredito.estudiante;\r\n              const estudianteId = primerCredito.estudiante?.id;\r\n              const nombreCompleto = estudiante\r\n                ? `${estudiante.usuario.nombre} ${estudiante.usuario.apellidoPaterno ?? ''} ${estudiante.usuario.apellidoMaterno ?? ''}`.replace(/\\s+/g, ' ').trim()\r\n                : 'Sin información';\r\n\r\n              const tieneConstanciaGenerada = grupoCreditos.some((c) => c.archivoValidacionGenerada);\r\n              const todosValidados = grupoCreditos.every((c) => c.estatus === 'VALIDADO');\r\n\r\n              return (\r\n                <Paper key={estudianteId || index} elevation={2} sx={{ p: 3, borderRadius: 3 }}>\r\n                  <Stack spacing={3}>\r\n                    {/* Información del estudiante */}\r\n                    <Box sx={{ backgroundColor: '#f8fafc', p: 2, borderRadius: 2 }}>\r\n                      <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                        {nombreCompleto}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Matrícula: {estudiante?.matricula ?? '---'}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Carrera: {estudiante?.carrera?.nombre ?? '---'}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                        Créditos registrados: {grupoCreditos.length}\r\n                      </Typography>\r\n                    </Box>\r\n\r\n                    {/* Botón para generar constancia (una sola por estudiante) */}\r\n                    {estudianteId && (\r\n                      <Box>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          startIcon={accionando === estudianteId ? <CircularProgress size={18} color=\"inherit\" /> : <TaskAlt />}\r\n                          disabled={accionando === estudianteId || todosValidados}\r\n                          onClick={() => handleGenerarConstancia(estudianteId)}\r\n                          sx={{ backgroundColor: '#008000', '&:hover': { backgroundColor: '#006000' } }}\r\n                        >\r\n                          {tieneConstanciaGenerada ? 'Regenerar constancia' : 'Generar constancia'}\r\n                        </Button>\r\n                        {tieneConstanciaGenerada && primerCredito.archivoValidacionGenerada && (\r\n                          <Button\r\n                            variant=\"outlined\"\r\n                            startIcon={<Download />}\r\n                            onClick={() => handleDownload(primerCredito.id, 'generado')}\r\n                            sx={{ ml: 2 }}\r\n                          >\r\n                            Descargar constancia generada\r\n                          </Button>\r\n                        )}\r\n                      </Box>\r\n                    )}\r\n\r\n                    {/* Lista de créditos del estudiante */}\r\n                    <Grid container spacing={2}>\r\n                      {grupoCreditos.map((credito) => (\r\n                        <Grid item xs={12} md={6} key={credito.id}>\r\n                          <Card sx={{ borderRadius: 2, border: '1px solid #e2e8f0' }}>\r\n                            <CardContent>\r\n                              <Stack spacing={2}>\r\n                                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                  <Typography variant=\"subtitle1\" fontWeight=\"bold\">\r\n                                    {credito.titulo}\r\n                                  </Typography>\r\n                                  <Chip\r\n                                    label={ESTATUS_CHIP[credito.estatus].label}\r\n                                    color={ESTATUS_CHIP[credito.estatus].color}\r\n                                    size=\"small\"\r\n                                  />\r\n                                </Box>\r\n\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                  <strong>Tipo:</strong> {credito.tipo.replace(/_/g, ' ')}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                  <strong>Descripción:</strong> {credito.descripcion}\r\n                                </Typography>\r\n                                {credito.tipo === 'CURSOS' && (\r\n                                  <Box sx={{ p: 1.5, borderRadius: 1, backgroundColor: '#f5f5f5' }}>\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                      <strong>Horas del archivo original:</strong> {credito.horasCurso || 0}\r\n                                    </Typography>\r\n                                    {credito.archivosAdicionales && credito.archivosAdicionales.length > 0 && (\r\n                                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                        <strong>Archivos adicionales:</strong> {credito.archivosAdicionales.length}\r\n                                      </Typography>\r\n                                    )}\r\n                                    <Typography variant=\"body2\" fontWeight=\"bold\" color=\"primary\">\r\n                                      <strong>Total de horas:</strong> {credito.horasTotales || credito.horasCurso || 0} / 60\r\n                                    </Typography>\r\n                                    {credito.archivoCombinado && (\r\n                                      <Alert severity=\"info\" sx={{ mt: 1 }}>\r\n                                        Este crédito tiene un PDF combinado con todos los archivos (solo visible para administradores).\r\n                                      </Alert>\r\n                                    )}\r\n                                  </Box>\r\n                                )}\r\n\r\n                                {credito.motivoRechazo && (\r\n                                  <Box sx={{ backgroundColor: '#fef2f2', p: 1.5, borderRadius: 1, border: '1px solid #fecaca' }}>\r\n                                    <Typography variant=\"caption\" color=\"error\" fontWeight=\"bold\">\r\n                                      Motivo de rechazo:\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"error\">\r\n                                      {credito.motivoRechazo}\r\n                                    </Typography>\r\n                                  </Box>\r\n                                )}\r\n\r\n                                <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n                                  <Button\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    startIcon={<Visibility />}\r\n                                    onClick={async () => {\r\n                                      try {\r\n                                        const response = await CreditosService.descargarArchivo(credito.id, 'original');\r\n                                        // Crear Blob con el tipo MIME correcto para PDF\r\n                                        const blob = new Blob([response.data], { type: 'application/pdf' });\r\n                                        const url = window.URL.createObjectURL(blob);\r\n                                        setPreviewDialog({ open: true, url });\r\n                                      } catch (error: any) {\r\n                                        toast.error('No se pudo cargar el archivo para previsualización');\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    Previsualizar\r\n                                  </Button>\r\n                                  <Button\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    startIcon={<Download />}\r\n                                    onClick={() => handleDownload(credito.id, 'original')}\r\n                                  >\r\n                                    {credito.archivoCombinado ? 'Ver PDF combinado' : 'Ver evidencia'}\r\n                                  </Button>\r\n\r\n                                  {credito.archivoValidado && (\r\n                                    <Button\r\n                                      variant=\"outlined\"\r\n                                      size=\"small\"\r\n                                      color=\"success\"\r\n                                      startIcon={<Download />}\r\n                                      onClick={() => handleDownload(credito.id, 'firmado')}\r\n                                    >\r\n                                      Constancia firmada\r\n                                    </Button>\r\n                                  )}\r\n\r\n                                  <Button\r\n                                    variant=\"contained\"\r\n                                    size=\"small\"\r\n                                    color=\"success\"\r\n                                    startIcon={<TaskAlt />}\r\n                                    onClick={() => setDialogValidar({ open: true, credito })}\r\n                                  >\r\n                                    Validar\r\n                                  </Button>\r\n\r\n                                  <Button\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    color=\"error\"\r\n                                    startIcon={<WarningAmber />}\r\n                                    onClick={() => setDialogRechazo({ open: true, credito, motivo: '' })}\r\n                                  >\r\n                                    Rechazar\r\n                                  </Button>\r\n                                </Stack>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid>\r\n                      ))}\r\n                    </Grid>\r\n                  </Stack>\r\n                </Paper>\r\n              );\r\n            })}\r\n          </Stack>\r\n        )}\r\n        </Paper>\r\n      </Container>\r\n\r\n      {/* Dialogo validar */}\r\n      <Dialog\r\n        open={dialogValidar.open}\r\n        onClose={() => setDialogValidar({ open: false })}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Validar crédito</DialogTitle>\r\n        <DialogContent sx={{ display: 'flex', flexDirection: 'column', gap: 2, py: 2 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            El crédito será marcado como validado. Opcionalmente puedes adjuntar la constancia firmada y agregar observaciones.\r\n          </Typography>\r\n          <Button\r\n            variant=\"outlined\"\r\n            component=\"label\"\r\n            startIcon={<PictureAsPdf />}\r\n          >\r\n            Seleccionar PDF firmado (opcional)\r\n            <input\r\n              hidden\r\n              type=\"file\"\r\n              accept=\"application/pdf\"\r\n              onChange={(event) =>\r\n                setDialogValidar((prev) => ({\r\n                  ...prev,\r\n                  archivo: event.target.files ? event.target.files[0] : null,\r\n                }))\r\n              }\r\n            />\r\n          </Button>\r\n          {dialogValidar.archivo && (\r\n            <Typography variant=\"body2\">\r\n              Archivo seleccionado: <strong>{dialogValidar.archivo.name}</strong>\r\n            </Typography>\r\n          )}\r\n          <TextField\r\n            label=\"Observaciones (opcional)\"\r\n            multiline\r\n            minRows={3}\r\n            value={dialogValidar.observaciones ?? ''}\r\n            onChange={(event) =>\r\n              setDialogValidar((prev) => ({\r\n                ...prev,\r\n                observaciones: event.target.value,\r\n              }))\r\n            }\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDialogValidar({ open: false })}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"success\" onClick={handleValidar}>\r\n            Validar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialogo rechazo */}\r\n      <Dialog\r\n        open={dialogRechazo.open}\r\n        onClose={() => setDialogRechazo({ open: false, motivo: '' })}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Rechazar crédito</DialogTitle>\r\n        <DialogContent sx={{ display: 'flex', flexDirection: 'column', gap: 2, py: 2 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Describe el motivo del rechazo que recibirá el estudiante.\r\n          </Typography>\r\n          <TextField\r\n            label=\"Motivo de rechazo\"\r\n            multiline\r\n            minRows={3}\r\n            value={dialogRechazo.motivo}\r\n            onChange={(event) =>\r\n              setDialogRechazo((prev) => ({\r\n                ...prev,\r\n                motivo: event.target.value,\r\n              }))\r\n            }\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDialogRechazo({ open: false, motivo: '' })}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"error\" onClick={handleRechazar}>\r\n            Rechazar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialogo de previsualización */}\r\n      <Dialog\r\n        open={previewDialog.open}\r\n        onClose={() => {\r\n          if (previewDialog.url) {\r\n            window.URL.revokeObjectURL(previewDialog.url);\r\n          }\r\n          setPreviewDialog({ open: false, url: null });\r\n        }}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { height: '90vh' },\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\">Previsualización del Documento</Typography>\r\n            <Button \r\n              onClick={() => {\r\n                if (previewDialog.url) {\r\n                  window.URL.revokeObjectURL(previewDialog.url);\r\n                }\r\n                setPreviewDialog({ open: false, url: null });\r\n              }}\r\n            >\r\n              Cerrar\r\n            </Button>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent sx={{ p: 0, height: 'calc(100% - 64px)', position: 'relative', overflow: 'hidden' }}>\r\n          {previewDialog.url && (\r\n            <Box\r\n              component=\"embed\"\r\n              src={`${previewDialog.url}#toolbar=1&navpanes=1&scrollbar=1`}\r\n              type=\"application/pdf\"\r\n              sx={{\r\n                width: '100%',\r\n                height: '100%',\r\n                minHeight: '600px',\r\n                border: 'none',\r\n              }}\r\n            />\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminCreditsPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}