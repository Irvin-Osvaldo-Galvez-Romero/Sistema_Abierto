{"ast":null,"code":"/**\r\n * Servicio de Modelo Dual\r\n */\n\nimport api from './api.service';\nconst resource = '/modelo-dual';\nconst ModeloDualService = {\n  /**\r\n   * Subir prueba psicológica (estudiante)\r\n   */\n  async subirPrueba(payload) {\n    const formData = new FormData();\n    formData.append('tipoPrueba', payload.tipoPrueba);\n    formData.append('nombrePrueba', payload.nombrePrueba);\n    if (payload.descripcion) formData.append('descripcion', payload.descripcion);\n    if (payload.fechaAplicacion) formData.append('fechaAplicacion', payload.fechaAplicacion);\n    if (payload.fechaVencimiento) formData.append('fechaVencimiento', payload.fechaVencimiento);\n    if (payload.resultado) formData.append('resultado', payload.resultado);\n    if (payload.puntuacion !== undefined) formData.append('puntuacion', String(payload.puntuacion));\n    if (payload.interpretacion) formData.append('interpretacion', payload.interpretacion);\n    if (payload.recomendaciones) formData.append('recomendaciones', payload.recomendaciones);\n    formData.append('archivo', payload.archivo);\n    const response = await api.post(resource, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Obtener pruebas del estudiante\r\n   */\n  async obtenerMisPruebas() {\n    const response = await api.get(`${resource}/mis`);\n    return response.data.data;\n  },\n  /**\r\n   * Listar pruebas para administrador\r\n   */\n  async listar(estatus, tipoPrueba) {\n    const params = {};\n    if (estatus) params.estatus = estatus;\n    if (tipoPrueba) params.tipoPrueba = tipoPrueba;\n    const response = await api.get(resource, {\n      params\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Revisar prueba (validar/rechazar)\r\n   */\n  async revisarPrueba(params) {\n    const formData = new FormData();\n    formData.append('aprobado', String(params.aprobado));\n    if (params.motivoRechazo) formData.append('motivoRechazo', params.motivoRechazo);\n    if (params.observaciones) formData.append('observaciones', params.observaciones);\n    if (params.archivoFirmado) {\n      formData.append('archivo', params.archivoFirmado);\n    }\n    const response = await api.patch(`${resource}/${params.id}/revision`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data.data;\n  },\n  /**\r\n   * Descargar archivo asociado\r\n   */\n  async descargarArchivo(id, tipo) {\n    const response = await api.get(`${resource}/${id}/archivo`, {\n      params: {\n        tipo\n      },\n      responseType: 'blob'\n    });\n    return response;\n  }\n};\nexport default ModeloDualService;","map":{"version":3,"names":["api","resource","ModeloDualService","subirPrueba","payload","formData","FormData","append","tipoPrueba","nombrePrueba","descripcion","fechaAplicacion","fechaVencimiento","resultado","puntuacion","undefined","String","interpretacion","recomendaciones","archivo","response","post","headers","data","obtenerMisPruebas","get","listar","estatus","params","revisarPrueba","aprobado","motivoRechazo","observaciones","archivoFirmado","patch","id","descargarArchivo","tipo","responseType"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/services/modelo-dual.service.ts"],"sourcesContent":["/**\r\n * Servicio de Modelo Dual\r\n */\r\n\r\nimport api from './api.service';\r\nimport { EstatusPruebaModeloDual, TipoPruebaModeloDual } from '../types/modelo-dual.types';\r\n\r\nconst resource = '/modelo-dual';\r\n\r\nconst ModeloDualService = {\r\n  /**\r\n   * Subir prueba psicológica (estudiante)\r\n   */\r\n  async subirPrueba(payload: {\r\n    tipoPrueba: TipoPruebaModeloDual;\r\n    nombrePrueba: string;\r\n    descripcion?: string;\r\n    fechaAplicacion?: string;\r\n    fechaVencimiento?: string;\r\n    resultado?: string;\r\n    puntuacion?: number;\r\n    interpretacion?: string;\r\n    recomendaciones?: string;\r\n    archivo: File;\r\n  }) {\r\n    const formData = new FormData();\r\n    formData.append('tipoPrueba', payload.tipoPrueba);\r\n    formData.append('nombrePrueba', payload.nombrePrueba);\r\n    if (payload.descripcion) formData.append('descripcion', payload.descripcion);\r\n    if (payload.fechaAplicacion) formData.append('fechaAplicacion', payload.fechaAplicacion);\r\n    if (payload.fechaVencimiento) formData.append('fechaVencimiento', payload.fechaVencimiento);\r\n    if (payload.resultado) formData.append('resultado', payload.resultado);\r\n    if (payload.puntuacion !== undefined) formData.append('puntuacion', String(payload.puntuacion));\r\n    if (payload.interpretacion) formData.append('interpretacion', payload.interpretacion);\r\n    if (payload.recomendaciones) formData.append('recomendaciones', payload.recomendaciones);\r\n    formData.append('archivo', payload.archivo);\r\n\r\n    const response = await api.post(resource, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Obtener pruebas del estudiante\r\n   */\r\n  async obtenerMisPruebas() {\r\n    const response = await api.get(`${resource}/mis`);\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Listar pruebas para administrador\r\n   */\r\n  async listar(estatus?: EstatusPruebaModeloDual, tipoPrueba?: TipoPruebaModeloDual) {\r\n    const params: any = {};\r\n    if (estatus) params.estatus = estatus;\r\n    if (tipoPrueba) params.tipoPrueba = tipoPrueba;\r\n\r\n    const response = await api.get(resource, { params });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Revisar prueba (validar/rechazar)\r\n   */\r\n  async revisarPrueba(params: {\r\n    id: string;\r\n    aprobado: boolean;\r\n    motivoRechazo?: string;\r\n    observaciones?: string;\r\n    archivoFirmado?: File;\r\n  }) {\r\n    const formData = new FormData();\r\n    formData.append('aprobado', String(params.aprobado));\r\n    if (params.motivoRechazo) formData.append('motivoRechazo', params.motivoRechazo);\r\n    if (params.observaciones) formData.append('observaciones', params.observaciones);\r\n    if (params.archivoFirmado) {\r\n      formData.append('archivo', params.archivoFirmado);\r\n    }\r\n\r\n    const response = await api.patch(`${resource}/${params.id}/revision`, formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n    return response.data.data;\r\n  },\r\n\r\n  /**\r\n   * Descargar archivo asociado\r\n   */\r\n  async descargarArchivo(id: string, tipo: 'original' | 'validado') {\r\n    const response = await api.get(`${resource}/${id}/archivo`, {\r\n      params: { tipo },\r\n      responseType: 'blob',\r\n    });\r\n    return response;\r\n  },\r\n};\r\n\r\nexport default ModeloDualService;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}