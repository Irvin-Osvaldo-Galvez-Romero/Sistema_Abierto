{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\Sistema_Abierto\\\\proyecto\\\\frontend\\\\src\\\\pages\\\\AdminCreditsPage.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * Página de gestión de Créditos Complementarios (Administrador)\r\n */\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Box, Button, Card, CardContent, Container, Grid, MenuItem, Select, Stack, Typography, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, CircularProgress, Paper, Alert, InputAdornment } from '@mui/material';\nimport { Download, PictureAsPdf, TaskAlt, WarningAmber, ArrowBack, Visibility, Search } from '@mui/icons-material';\nimport toast from 'react-hot-toast';\nimport CreditosService from '../services/creditos.service';\nimport { useAuthStore } from '../store/authStore';\nimport { useNavigate } from 'react-router-dom';\nimport PageHeader from '../components/PageHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst estatusOptions = [{\n  value: 'TODOS',\n  label: 'Todos'\n}, {\n  value: 'PENDIENTE',\n  label: 'Pendientes'\n}, {\n  value: 'EN_REVISION',\n  label: 'En revisión'\n}, {\n  value: 'VALIDADO',\n  label: 'Validados'\n}, {\n  value: 'RECHAZADO',\n  label: 'Rechazados'\n}];\nconst ESTATUS_CHIP = {\n  PENDIENTE: {\n    label: 'Pendiente',\n    color: 'warning'\n  },\n  EN_REVISION: {\n    label: 'En revisión',\n    color: 'default'\n  },\n  VALIDADO: {\n    label: 'Validado',\n    color: 'success'\n  },\n  RECHAZADO: {\n    label: 'Rechazado',\n    color: 'error'\n  }\n};\nconst AdminCreditsPage = () => {\n  _s();\n  var _dialogValidar$observ;\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuthStore();\n  const [creditos, setCreditos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [accionando, setAccionando] = useState(null);\n  const [filtro, setFiltro] = useState('TODOS');\n  const [busqueda, setBusqueda] = useState('');\n  const [dialogValidar, setDialogValidar] = useState({\n    open: false\n  });\n  const [dialogRechazo, setDialogRechazo] = useState({\n    open: false,\n    motivo: ''\n  });\n  const [previewDialog, setPreviewDialog] = useState({\n    open: false,\n    url: null\n  });\n  const cargarCreditos = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await CreditosService.listar(filtro === 'TODOS' ? undefined : filtro);\n      setCreditos(data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'No se pudieron obtener los créditos');\n    } finally {\n      setLoading(false);\n    }\n  }, [filtro]);\n  useEffect(() => {\n    if (user && !['ADMINISTRADOR', 'SUPER_ADMIN', 'PERSONAL_ADMINISTRATIVO'].includes(user.rol)) {\n      navigate('/dashboard');\n      return;\n    }\n    cargarCreditos();\n  }, [cargarCreditos, user, navigate]);\n  const resumen = useMemo(() => {\n    const conteo = {\n      PENDIENTE: 0,\n      EN_REVISION: 0,\n      VALIDADO: 0,\n      RECHAZADO: 0\n    };\n    creditos.flat().forEach(c => {\n      conteo[c.estatus] += 1;\n    });\n    return conteo;\n  }, [creditos]);\n\n  // Filtrar créditos por búsqueda (nombre o matrícula)\n  const creditosFiltrados = useMemo(() => {\n    if (!busqueda.trim()) {\n      return creditos;\n    }\n    const terminoBusqueda = busqueda.toLowerCase().trim();\n    return creditos.filter(grupoEstudiante => {\n      var _estudiante$usuario$a, _estudiante$usuario$a2;\n      if (grupoEstudiante.length === 0) return false;\n      const estudiante = grupoEstudiante[0].estudiante;\n      if (!estudiante) return false;\n      const nombreCompleto = `${estudiante.usuario.nombre} ${(_estudiante$usuario$a = estudiante.usuario.apellidoPaterno) !== null && _estudiante$usuario$a !== void 0 ? _estudiante$usuario$a : ''} ${(_estudiante$usuario$a2 = estudiante.usuario.apellidoMaterno) !== null && _estudiante$usuario$a2 !== void 0 ? _estudiante$usuario$a2 : ''}`.toLowerCase();\n      const matricula = estudiante.matricula.toLowerCase();\n      return nombreCompleto.includes(terminoBusqueda) || matricula.includes(terminoBusqueda);\n    });\n  }, [creditos, busqueda]);\n\n  // Clasificar créditos por tipo (agrupados por estudiante dentro de cada tipo)\n  const creditosPorTipo = useMemo(() => {\n    const tipos = {\n      CURSOS: [],\n      ACTIVIDADES_EXTRACURRICULARES: [],\n      TUTORIAS: [],\n      ACTIVIDADES_CULTURALES: []\n    };\n\n    // Iterar sobre los grupos de estudiantes filtrados\n    creditosFiltrados.forEach(grupoEstudiante => {\n      // Crear un mapa de tipos para este estudiante\n      const creditosPorTipoEstudiante = {\n        CURSOS: [],\n        ACTIVIDADES_EXTRACURRICULARES: [],\n        TUTORIAS: [],\n        ACTIVIDADES_CULTURALES: []\n      };\n\n      // Separar créditos del estudiante por tipo\n      grupoEstudiante.forEach(credito => {\n        if (creditosPorTipoEstudiante[credito.tipo]) {\n          creditosPorTipoEstudiante[credito.tipo].push(credito);\n        }\n      });\n\n      // Agregar grupos no vacíos a cada tipo\n      Object.keys(tipos).forEach(tipo => {\n        if (creditosPorTipoEstudiante[tipo].length > 0) {\n          tipos[tipo].push(creditosPorTipoEstudiante[tipo]);\n        }\n      });\n    });\n    return tipos;\n  }, [creditosFiltrados]);\n  const TIPO_LABELS = {\n    CURSOS: 'Cursos',\n    ACTIVIDADES_EXTRACURRICULARES: 'Actividades Extracurriculares',\n    TUTORIAS: 'Tutorías',\n    ACTIVIDADES_CULTURALES: 'Actividades Culturales'\n  };\n  const TIPO_COLORS = {\n    CURSOS: '#1976d2',\n    ACTIVIDADES_EXTRACURRICULARES: '#ed6c02',\n    TUTORIAS: '#9c27b0',\n    ACTIVIDADES_CULTURALES: '#2e7d32'\n  };\n  const handleDownload = async (id, tipo) => {\n    try {\n      const response = await CreditosService.descargarArchivo(id, tipo);\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${tipo}-${Date.now()}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      toast.error('No fue posible descargar el archivo solicitado');\n    }\n  };\n  const handleGenerarConstancia = async estudianteId => {\n    try {\n      setAccionando(estudianteId);\n      await CreditosService.generarConstancia(estudianteId);\n      toast.success('Constancia generada para todos los créditos del estudiante');\n      cargarCreditos();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'No se pudo generar la constancia');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const handleValidar = async () => {\n    if (!dialogValidar.credito) {\n      toast.error('No se seleccionó un crédito');\n      return;\n    }\n    try {\n      setAccionando(dialogValidar.credito.id);\n      await CreditosService.revisarCredito({\n        id: dialogValidar.credito.id,\n        aprobado: true,\n        observaciones: dialogValidar.observaciones,\n        archivoFirmado: dialogValidar.archivo || undefined // Archivo opcional\n      });\n      toast.success(`Crédito ${dialogValidar.credito.numero} validado correctamente`);\n      setDialogValidar({\n        open: false\n      });\n      cargarCreditos();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'No se pudo validar el crédito');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const handleRechazar = async () => {\n    if (!dialogRechazo.credito) return;\n    if (!dialogRechazo.motivo.trim()) {\n      toast.error('Debes indicar el motivo de rechazo');\n      return;\n    }\n    try {\n      setAccionando(dialogRechazo.credito.id);\n      await CreditosService.revisarCredito({\n        id: dialogRechazo.credito.id,\n        aprobado: false,\n        motivoRechazo: dialogRechazo.motivo.trim()\n      });\n      toast.success(`Crédito ${dialogRechazo.credito.numero} rechazado`);\n      setDialogRechazo({\n        open: false,\n        motivo: ''\n      });\n      cargarCreditos();\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'No se pudo rechazar el crédito');\n    } finally {\n      setAccionando(null);\n    }\n  };\n  const logoUrl = `${process.env.PUBLIC_URL}/logo-coordinacion.png`;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      backgroundColor: '#f5f7f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Validaci\\xF3n de Cr\\xE9ditos Complementarios\",\n      subtitle: \"Coord. de Sistema Abierto \\xB7 Modalidad Mixta\",\n      gradientFrom: \"#004d40\",\n      gradientTo: \"#009e60\",\n      maxWidth: \"xl\",\n      actions: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"inherit\",\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 26\n          }, this),\n          onClick: () => navigate('/admin/dashboard'),\n          sx: {\n            borderColor: '#FFFFFF',\n            color: '#FFFFFF',\n            '&:hover': {\n              borderColor: '#FFFFFF',\n              backgroundColor: 'rgba(255,255,255,0.1)'\n            }\n          },\n          children: \"Regresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      sx: {\n        pb: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: {\n            xs: 3,\n            md: 4\n          },\n          borderRadius: 3,\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              fontWeight: 600,\n              sx: {\n                color: '#006000',\n                mb: 1\n              },\n              children: \"Panel de seguimiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              color: \"text.secondary\",\n              children: \"Gestiona los cr\\xE9ditos complementarios enviados por los estudiantes. Puedes generar la constancia, adjuntar el documento firmado y comunicar el resultado a la coordinaci\\xF3n acad\\xE9mica.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #f59e0b',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"Pendientes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.PENDIENTE\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #6366f1',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"En revisi\\xF3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.EN_REVISION\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #16a34a',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"Validados\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.VALIDADO\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  borderLeft: '4px solid #ef4444',\n                  borderRadius: 3\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"Rechazados\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    fontWeight: \"bold\",\n                    children: resumen.RECHAZADO\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 1,\n        sx: {\n          borderRadius: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            px: {\n              xs: 3,\n              md: 4\n            },\n            py: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              mb: 2,\n              flexWrap: 'wrap',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              fontWeight: 600,\n              children: [\"Cr\\xE9ditos registrados (\", creditosFiltrados.flat().length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: filtro,\n              onChange: e => setFiltro(e.target.value),\n              size: \"small\",\n              sx: {\n                minWidth: 120\n              },\n              children: estatusOptions.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: option.value,\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            placeholder: \"Buscar por nombre o matr\\xEDcula...\",\n            value: busqueda,\n            onChange: e => setBusqueda(e.target.value),\n            size: \"small\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 19\n              }, this)\n            },\n            sx: {\n              maxWidth: 400\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this) : creditos.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 10,\n            backgroundColor: 'white',\n            borderRadius: 3,\n            mx: {\n              xs: 2,\n              md: 4\n            },\n            mb: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(PictureAsPdf, {\n            sx: {\n              fontSize: 64,\n              color: '#cbd5f5',\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"text.secondary\",\n            children: \"No hay cr\\xE9ditos en este estado.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 4,\n          sx: {\n            px: {\n              xs: 2,\n              md: 4\n            },\n            pb: 4\n          },\n          children: Object.keys(creditosPorTipo).map(tipo => {\n            const gruposPorTipo = creditosPorTipo[tipo];\n            if (gruposPorTipo.length === 0) return null;\n            return /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Paper, {\n                elevation: 1,\n                sx: {\n                  mb: 3,\n                  p: 2,\n                  backgroundColor: TIPO_COLORS[tipo],\n                  color: 'white'\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  fontWeight: \"bold\",\n                  children: [TIPO_LABELS[tipo], \" (\", gruposPorTipo.flat().length, \" cr\\xE9dito\", gruposPorTipo.flat().length !== 1 ? 's' : '', \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                spacing: 3,\n                children: gruposPorTipo.map((grupoCreditos, index) => {\n                  var _primerCredito$estudi, _estudiante$usuario$a3, _estudiante$usuario$a4, _estudiante$matricula, _estudiante$carrera$n, _estudiante$carrera;\n                  if (grupoCreditos.length === 0) return null;\n                  const primerCredito = grupoCreditos[0];\n                  const estudiante = primerCredito.estudiante;\n                  const estudianteId = (_primerCredito$estudi = primerCredito.estudiante) === null || _primerCredito$estudi === void 0 ? void 0 : _primerCredito$estudi.id;\n                  const nombreCompleto = estudiante ? `${estudiante.usuario.nombre} ${(_estudiante$usuario$a3 = estudiante.usuario.apellidoPaterno) !== null && _estudiante$usuario$a3 !== void 0 ? _estudiante$usuario$a3 : ''} ${(_estudiante$usuario$a4 = estudiante.usuario.apellidoMaterno) !== null && _estudiante$usuario$a4 !== void 0 ? _estudiante$usuario$a4 : ''}`.replace(/\\s+/g, ' ').trim() : 'Sin información';\n                  const tieneConstanciaGenerada = grupoCreditos.some(c => c.archivoValidacionGenerada);\n                  const todosValidados = grupoCreditos.every(c => c.estatus === 'VALIDADO');\n                  return /*#__PURE__*/_jsxDEV(Paper, {\n                    elevation: 2,\n                    sx: {\n                      p: 3,\n                      borderRadius: 3\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Stack, {\n                      spacing: 3,\n                      children: [/*#__PURE__*/_jsxDEV(Box, {\n                        sx: {\n                          backgroundColor: '#f8fafc',\n                          p: 2,\n                          borderRadius: 2\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"h6\",\n                          fontWeight: \"bold\",\n                          gutterBottom: true,\n                          children: nombreCompleto\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 428,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          color: \"text.secondary\",\n                          children: [\"Matr\\xEDcula: \", (_estudiante$matricula = estudiante === null || estudiante === void 0 ? void 0 : estudiante.matricula) !== null && _estudiante$matricula !== void 0 ? _estudiante$matricula : '---']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 431,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          color: \"text.secondary\",\n                          children: [\"Carrera: \", (_estudiante$carrera$n = estudiante === null || estudiante === void 0 ? void 0 : (_estudiante$carrera = estudiante.carrera) === null || _estudiante$carrera === void 0 ? void 0 : _estudiante$carrera.nombre) !== null && _estudiante$carrera$n !== void 0 ? _estudiante$carrera$n : '---']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 434,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                          variant: \"body2\",\n                          color: \"text.secondary\",\n                          sx: {\n                            mt: 1\n                          },\n                          children: [\"Cr\\xE9ditos registrados: \", grupoCreditos.length]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 437,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 427,\n                        columnNumber: 21\n                      }, this), estudianteId && /*#__PURE__*/_jsxDEV(Box, {\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"contained\",\n                          startIcon: accionando === estudianteId ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                            size: 18,\n                            color: \"inherit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 447,\n                            columnNumber: 68\n                          }, this) : /*#__PURE__*/_jsxDEV(TaskAlt, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 447,\n                            columnNumber: 117\n                          }, this),\n                          disabled: accionando === estudianteId || todosValidados,\n                          onClick: () => handleGenerarConstancia(estudianteId),\n                          sx: {\n                            backgroundColor: '#008000',\n                            '&:hover': {\n                              backgroundColor: '#006000'\n                            }\n                          },\n                          children: tieneConstanciaGenerada ? 'Regenerar constancia' : 'Generar constancia'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 445,\n                          columnNumber: 25\n                        }, this), tieneConstanciaGenerada && primerCredito.archivoValidacionGenerada && /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"outlined\",\n                          startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 457,\n                            columnNumber: 40\n                          }, this),\n                          onClick: () => handleDownload(primerCredito.id, 'generado'),\n                          sx: {\n                            ml: 2\n                          },\n                          children: \"Descargar constancia generada\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 455,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 444,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                        container: true,\n                        spacing: 2,\n                        children: grupoCreditos.map(credito => /*#__PURE__*/_jsxDEV(Grid, {\n                          item: true,\n                          xs: 12,\n                          md: 6,\n                          children: /*#__PURE__*/_jsxDEV(Card, {\n                            sx: {\n                              borderRadius: 2,\n                              border: '1px solid #e2e8f0'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(CardContent, {\n                              children: /*#__PURE__*/_jsxDEV(Stack, {\n                                spacing: 2,\n                                children: [/*#__PURE__*/_jsxDEV(Box, {\n                                  sx: {\n                                    display: 'flex',\n                                    justifyContent: 'space-between',\n                                    alignItems: 'center'\n                                  },\n                                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                                    variant: \"subtitle1\",\n                                    fontWeight: \"bold\",\n                                    children: credito.titulo\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 475,\n                                    columnNumber: 35\n                                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                                    label: ESTATUS_CHIP[credito.estatus].label,\n                                    color: ESTATUS_CHIP[credito.estatus].color,\n                                    size: \"small\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 478,\n                                    columnNumber: 35\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 474,\n                                  columnNumber: 33\n                                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                                  variant: \"body2\",\n                                  color: \"text.secondary\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                    children: \"Tipo:\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 486,\n                                    columnNumber: 35\n                                  }, this), \" \", credito.tipo.replace(/_/g, ' ')]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 485,\n                                  columnNumber: 33\n                                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                                  variant: \"body2\",\n                                  color: \"text.secondary\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                    children: \"Descripci\\xF3n:\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 489,\n                                    columnNumber: 35\n                                  }, this), \" \", credito.descripcion]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 488,\n                                  columnNumber: 33\n                                }, this), credito.tipo === 'CURSOS' && /*#__PURE__*/_jsxDEV(Box, {\n                                  sx: {\n                                    p: 1.5,\n                                    borderRadius: 1,\n                                    backgroundColor: '#f5f5f5'\n                                  },\n                                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                                    variant: \"body2\",\n                                    color: \"text.secondary\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                      children: \"Horas del archivo original:\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 494,\n                                      columnNumber: 39\n                                    }, this), \" \", credito.horasCurso || 0]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 493,\n                                    columnNumber: 37\n                                  }, this), credito.archivosAdicionales && credito.archivosAdicionales.length > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n                                    variant: \"body2\",\n                                    color: \"text.secondary\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                      children: \"Archivos adicionales:\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 498,\n                                      columnNumber: 41\n                                    }, this), \" \", credito.archivosAdicionales.length]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 497,\n                                    columnNumber: 39\n                                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                                    variant: \"body2\",\n                                    fontWeight: \"bold\",\n                                    color: \"primary\",\n                                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                      children: \"Total de horas:\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 502,\n                                      columnNumber: 39\n                                    }, this), \" \", credito.horasTotales || credito.horasCurso || 0, \" / 60\"]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 501,\n                                    columnNumber: 37\n                                  }, this), credito.archivoCombinado && /*#__PURE__*/_jsxDEV(Alert, {\n                                    severity: \"info\",\n                                    sx: {\n                                      mt: 1\n                                    },\n                                    children: \"Este cr\\xE9dito tiene un PDF combinado con todos los archivos (solo visible para administradores).\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 505,\n                                    columnNumber: 39\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 492,\n                                  columnNumber: 35\n                                }, this), credito.motivoRechazo && /*#__PURE__*/_jsxDEV(Box, {\n                                  sx: {\n                                    backgroundColor: '#fef2f2',\n                                    p: 1.5,\n                                    borderRadius: 1,\n                                    border: '1px solid #fecaca'\n                                  },\n                                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                                    variant: \"caption\",\n                                    color: \"error\",\n                                    fontWeight: \"bold\",\n                                    children: \"Motivo de rechazo:\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 514,\n                                    columnNumber: 37\n                                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                                    variant: \"body2\",\n                                    color: \"error\",\n                                    children: credito.motivoRechazo\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 517,\n                                    columnNumber: 37\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 513,\n                                  columnNumber: 35\n                                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                                  direction: \"row\",\n                                  spacing: 1,\n                                  flexWrap: \"wrap\",\n                                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                                    variant: \"outlined\",\n                                    size: \"small\",\n                                    startIcon: /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 527,\n                                      columnNumber: 48\n                                    }, this),\n                                    onClick: async () => {\n                                      try {\n                                        const response = await CreditosService.descargarArchivo(credito.id, 'original');\n                                        // Crear Blob con el tipo MIME correcto para PDF\n                                        const blob = new Blob([response.data], {\n                                          type: 'application/pdf'\n                                        });\n                                        const url = window.URL.createObjectURL(blob);\n                                        setPreviewDialog({\n                                          open: true,\n                                          url\n                                        });\n                                      } catch (error) {\n                                        toast.error('No se pudo cargar el archivo para previsualización');\n                                      }\n                                    },\n                                    children: \"Previsualizar\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 524,\n                                    columnNumber: 35\n                                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                    variant: \"outlined\",\n                                    size: \"small\",\n                                    startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 545,\n                                      columnNumber: 48\n                                    }, this),\n                                    onClick: () => handleDownload(credito.id, 'original'),\n                                    children: credito.archivoCombinado ? 'Ver PDF combinado' : 'Ver evidencia'\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 542,\n                                    columnNumber: 35\n                                  }, this), credito.archivoValidado && /*#__PURE__*/_jsxDEV(Button, {\n                                    variant: \"outlined\",\n                                    size: \"small\",\n                                    color: \"success\",\n                                    startIcon: /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 556,\n                                      columnNumber: 50\n                                    }, this),\n                                    onClick: () => handleDownload(credito.id, 'firmado'),\n                                    children: \"Constancia firmada\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 552,\n                                    columnNumber: 37\n                                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                    variant: \"contained\",\n                                    size: \"small\",\n                                    color: \"success\",\n                                    startIcon: /*#__PURE__*/_jsxDEV(TaskAlt, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 567,\n                                      columnNumber: 48\n                                    }, this),\n                                    onClick: () => setDialogValidar({\n                                      open: true,\n                                      credito\n                                    }),\n                                    children: \"Validar\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 563,\n                                    columnNumber: 35\n                                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                    variant: \"outlined\",\n                                    size: \"small\",\n                                    color: \"error\",\n                                    startIcon: /*#__PURE__*/_jsxDEV(WarningAmber, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 577,\n                                      columnNumber: 48\n                                    }, this),\n                                    onClick: () => setDialogRechazo({\n                                      open: true,\n                                      credito,\n                                      motivo: ''\n                                    }),\n                                    children: \"Rechazar\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 573,\n                                    columnNumber: 35\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 523,\n                                  columnNumber: 33\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 473,\n                                columnNumber: 31\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 472,\n                              columnNumber: 29\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 471,\n                            columnNumber: 27\n                          }, this)\n                        }, credito.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 470,\n                          columnNumber: 25\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 468,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 19\n                    }, this)\n                  }, estudianteId || index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 17\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)]\n            }, tipo, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: dialogValidar.open,\n      onClose: () => setDialogValidar({\n        open: false\n      }),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Validar cr\\xE9dito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2,\n          py: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"El cr\\xE9dito ser\\xE1 marcado como validado. Opcionalmente puedes adjuntar la constancia firmada y agregar observaciones.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          component: \"label\",\n          startIcon: /*#__PURE__*/_jsxDEV(PictureAsPdf, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 24\n          }, this),\n          children: [\"Seleccionar PDF firmado (opcional)\", /*#__PURE__*/_jsxDEV(\"input\", {\n            hidden: true,\n            type: \"file\",\n            accept: \"application/pdf\",\n            onChange: event => setDialogValidar(prev => ({\n              ...prev,\n              archivo: event.target.files ? event.target.files[0] : null\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this), dialogValidar.archivo && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [\"Archivo seleccionado: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: dialogValidar.archivo.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Observaciones (opcional)\",\n          multiline: true,\n          minRows: 3,\n          value: (_dialogValidar$observ = dialogValidar.observaciones) !== null && _dialogValidar$observ !== void 0 ? _dialogValidar$observ : '',\n          onChange: event => setDialogValidar(prev => ({\n            ...prev,\n            observaciones: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setDialogValidar({\n            open: false\n          }),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"success\",\n          onClick: handleValidar,\n          children: \"Validar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: dialogRechazo.open,\n      onClose: () => setDialogRechazo({\n        open: false,\n        motivo: ''\n      }),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Rechazar cr\\xE9dito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2,\n          py: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"Describe el motivo del rechazo que recibir\\xE1 el estudiante.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Motivo de rechazo\",\n          multiline: true,\n          minRows: 3,\n          value: dialogRechazo.motivo,\n          onChange: event => setDialogRechazo(prev => ({\n            ...prev,\n            motivo: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setDialogRechazo({\n            open: false,\n            motivo: ''\n          }),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"error\",\n          onClick: handleRechazar,\n          children: \"Rechazar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: previewDialog.open,\n      onClose: () => {\n        if (previewDialog.url) {\n          window.URL.revokeObjectURL(previewDialog.url);\n        }\n        setPreviewDialog({\n          open: false,\n          url: null\n        });\n      },\n      maxWidth: \"lg\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          height: '90vh'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: \"Previsualizaci\\xF3n del Documento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              if (previewDialog.url) {\n                window.URL.revokeObjectURL(previewDialog.url);\n              }\n              setPreviewDialog({\n                open: false,\n                url: null\n              });\n            },\n            children: \"Cerrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          p: 0,\n          height: 'calc(100% - 64px)',\n          position: 'relative',\n          overflow: 'hidden'\n        },\n        children: previewDialog.url && /*#__PURE__*/_jsxDEV(Box, {\n          component: \"embed\",\n          src: `${previewDialog.url}#toolbar=1&navpanes=1&scrollbar=1`,\n          type: \"application/pdf\",\n          sx: {\n            width: '100%',\n            height: '100%',\n            minHeight: '600px',\n            border: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 692,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 263,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminCreditsPage, \"/LEBt4OJNQSRBahtFX06CRDt/jU=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = AdminCreditsPage;\nexport default AdminCreditsPage;\nvar _c;\n$RefreshReg$(_c, \"AdminCreditsPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","Box","Button","Card","CardContent","Container","Grid","MenuItem","Select","Stack","Typography","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","CircularProgress","Paper","Alert","InputAdornment","Download","PictureAsPdf","TaskAlt","WarningAmber","ArrowBack","Visibility","Search","toast","CreditosService","useAuthStore","useNavigate","PageHeader","jsxDEV","_jsxDEV","estatusOptions","value","label","ESTATUS_CHIP","PENDIENTE","color","EN_REVISION","VALIDADO","RECHAZADO","AdminCreditsPage","_s","_dialogValidar$observ","navigate","user","creditos","setCreditos","loading","setLoading","accionando","setAccionando","filtro","setFiltro","busqueda","setBusqueda","dialogValidar","setDialogValidar","open","dialogRechazo","setDialogRechazo","motivo","previewDialog","setPreviewDialog","url","cargarCreditos","data","listar","undefined","error","_error$response","_error$response$data","response","message","includes","rol","resumen","conteo","flat","forEach","c","estatus","creditosFiltrados","trim","terminoBusqueda","toLowerCase","filter","grupoEstudiante","_estudiante$usuario$a","_estudiante$usuario$a2","length","estudiante","nombreCompleto","usuario","nombre","apellidoPaterno","apellidoMaterno","matricula","creditosPorTipo","tipos","CURSOS","ACTIVIDADES_EXTRACURRICULARES","TUTORIAS","ACTIVIDADES_CULTURALES","creditosPorTipoEstudiante","credito","tipo","push","Object","keys","TIPO_LABELS","TIPO_COLORS","handleDownload","id","descargarArchivo","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","Date","now","body","appendChild","click","removeChild","revokeObjectURL","handleGenerarConstancia","estudianteId","generarConstancia","success","_error$response2","_error$response2$data","handleValidar","revisarCredito","aprobado","observaciones","archivoFirmado","archivo","numero","_error$response3","_error$response3$data","handleRechazar","motivoRechazo","_error$response4","_error$response4$data","logoUrl","process","env","PUBLIC_URL","sx","minHeight","backgroundColor","children","title","subtitle","gradientFrom","gradientTo","maxWidth","actions","direction","spacing","variant","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","borderColor","pb","elevation","p","xs","md","borderRadius","mb","fontWeight","container","item","borderLeft","px","py","display","justifyContent","alignItems","flexWrap","gap","onChange","e","target","size","minWidth","map","option","fullWidth","placeholder","InputProps","startAdornment","position","height","textAlign","mx","fontSize","gruposPorTipo","grupoCreditos","index","_primerCredito$estudi","_estudiante$usuario$a3","_estudiante$usuario$a4","_estudiante$matricula","_estudiante$carrera$n","_estudiante$carrera","primerCredito","replace","tieneConstanciaGenerada","some","archivoValidacionGenerada","todosValidados","every","gutterBottom","carrera","mt","disabled","ml","border","titulo","descripcion","horasCurso","archivosAdicionales","horasTotales","archivoCombinado","severity","blob","type","archivoValidado","onClose","flexDirection","component","hidden","accept","event","prev","files","name","multiline","minRows","PaperProps","overflow","src","width","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/GitHub/Sistema_Abierto/proyecto/frontend/src/pages/AdminCreditsPage.tsx"],"sourcesContent":["/**\r\n * Página de gestión de Créditos Complementarios (Administrador)\r\n */\r\n\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  Typography,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  CircularProgress,\r\n  Paper,\r\n  Divider,\r\n  Alert,\r\n  InputAdornment,\r\n} from '@mui/material';\r\nimport { Download, PictureAsPdf, TaskAlt, WarningAmber, ArrowBack, Visibility, Search } from '@mui/icons-material';\r\nimport toast from 'react-hot-toast';\r\nimport CreditosService from '../services/creditos.service';\r\nimport { CreditoComplementario, EstatusCreditoComplementario } from '../types/creditos.types';\r\nimport { useAuthStore } from '../store/authStore';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PageHeader from '../components/PageHeader';\r\n\r\ntype FiltroEstatus = 'TODOS' | EstatusCreditoComplementario;\r\n\r\nconst estatusOptions: { value: FiltroEstatus; label: string }[] = [\r\n  { value: 'TODOS', label: 'Todos' },\r\n  { value: 'PENDIENTE', label: 'Pendientes' },\r\n  { value: 'EN_REVISION', label: 'En revisión' },\r\n  { value: 'VALIDADO', label: 'Validados' },\r\n  { value: 'RECHAZADO', label: 'Rechazados' },\r\n];\r\n\r\nconst ESTATUS_CHIP: Record<EstatusCreditoComplementario, { label: string; color: 'default' | 'success' | 'warning' | 'error' }> = {\r\n  PENDIENTE: { label: 'Pendiente', color: 'warning' },\r\n  EN_REVISION: { label: 'En revisión', color: 'default' },\r\n  VALIDADO: { label: 'Validado', color: 'success' },\r\n  RECHAZADO: { label: 'Rechazado', color: 'error' },\r\n};\r\n\r\ninterface DialogValidarState {\r\n  open: boolean;\r\n  credito?: CreditoComplementario;\r\n  archivo?: File | null;\r\n  observaciones?: string;\r\n}\r\n\r\ninterface DialogRechazoState {\r\n  open: boolean;\r\n  credito?: CreditoComplementario;\r\n  motivo: string;\r\n}\r\n\r\nconst AdminCreditsPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuthStore();\r\n  const [creditos, setCreditos] = useState<CreditoComplementario[][]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [accionando, setAccionando] = useState<string | null>(null);\r\n  const [filtro, setFiltro] = useState<FiltroEstatus>('TODOS');\r\n  const [busqueda, setBusqueda] = useState<string>('');\r\n\r\n  const [dialogValidar, setDialogValidar] = useState<DialogValidarState>({ open: false });\r\n  const [dialogRechazo, setDialogRechazo] = useState<DialogRechazoState>({ open: false, motivo: '' });\r\n  const [previewDialog, setPreviewDialog] = useState<{ open: boolean; url: string | null }>({ open: false, url: null });\r\n\r\n  const cargarCreditos = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await CreditosService.listar(filtro === 'TODOS' ? undefined : filtro);\r\n      setCreditos(data);\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudieron obtener los créditos');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [filtro]);\r\n\r\n  useEffect(() => {\r\n    if (user && !['ADMINISTRADOR', 'SUPER_ADMIN', 'PERSONAL_ADMINISTRATIVO'].includes(user.rol)) {\r\n      navigate('/dashboard');\r\n      return;\r\n    }\r\n    cargarCreditos();\r\n  }, [cargarCreditos, user, navigate]);\r\n\r\n  const resumen = useMemo(() => {\r\n    const conteo: Record<EstatusCreditoComplementario, number> = {\r\n      PENDIENTE: 0,\r\n      EN_REVISION: 0,\r\n      VALIDADO: 0,\r\n      RECHAZADO: 0,\r\n    };\r\n    creditos.flat().forEach((c) => {\r\n      conteo[c.estatus] += 1;\r\n    });\r\n    return conteo;\r\n  }, [creditos]);\r\n\r\n  // Filtrar créditos por búsqueda (nombre o matrícula)\r\n  const creditosFiltrados = useMemo(() => {\r\n    if (!busqueda.trim()) {\r\n      return creditos;\r\n    }\r\n\r\n    const terminoBusqueda = busqueda.toLowerCase().trim();\r\n    return creditos.filter((grupoEstudiante) => {\r\n      if (grupoEstudiante.length === 0) return false;\r\n      const estudiante = grupoEstudiante[0].estudiante;\r\n      if (!estudiante) return false;\r\n\r\n      const nombreCompleto = `${estudiante.usuario.nombre} ${estudiante.usuario.apellidoPaterno ?? ''} ${estudiante.usuario.apellidoMaterno ?? ''}`.toLowerCase();\r\n      const matricula = estudiante.matricula.toLowerCase();\r\n\r\n      return nombreCompleto.includes(terminoBusqueda) || matricula.includes(terminoBusqueda);\r\n    });\r\n  }, [creditos, busqueda]);\r\n\r\n  // Clasificar créditos por tipo (agrupados por estudiante dentro de cada tipo)\r\n  const creditosPorTipo = useMemo(() => {\r\n    const tipos: Record<string, CreditoComplementario[][]> = {\r\n      CURSOS: [],\r\n      ACTIVIDADES_EXTRACURRICULARES: [],\r\n      TUTORIAS: [],\r\n      ACTIVIDADES_CULTURALES: [],\r\n    };\r\n\r\n    // Iterar sobre los grupos de estudiantes filtrados\r\n    creditosFiltrados.forEach((grupoEstudiante) => {\r\n      // Crear un mapa de tipos para este estudiante\r\n      const creditosPorTipoEstudiante: Record<string, CreditoComplementario[]> = {\r\n        CURSOS: [],\r\n        ACTIVIDADES_EXTRACURRICULARES: [],\r\n        TUTORIAS: [],\r\n        ACTIVIDADES_CULTURALES: [],\r\n      };\r\n\r\n      // Separar créditos del estudiante por tipo\r\n      grupoEstudiante.forEach((credito) => {\r\n        if (creditosPorTipoEstudiante[credito.tipo]) {\r\n          creditosPorTipoEstudiante[credito.tipo].push(credito);\r\n        }\r\n      });\r\n\r\n      // Agregar grupos no vacíos a cada tipo\r\n      Object.keys(tipos).forEach((tipo) => {\r\n        if (creditosPorTipoEstudiante[tipo].length > 0) {\r\n          tipos[tipo].push(creditosPorTipoEstudiante[tipo]);\r\n        }\r\n      });\r\n    });\r\n\r\n    return tipos;\r\n  }, [creditosFiltrados]);\r\n\r\n  const TIPO_LABELS: Record<string, string> = {\r\n    CURSOS: 'Cursos',\r\n    ACTIVIDADES_EXTRACURRICULARES: 'Actividades Extracurriculares',\r\n    TUTORIAS: 'Tutorías',\r\n    ACTIVIDADES_CULTURALES: 'Actividades Culturales',\r\n  };\r\n\r\n  const TIPO_COLORS: Record<string, string> = {\r\n    CURSOS: '#1976d2',\r\n    ACTIVIDADES_EXTRACURRICULARES: '#ed6c02',\r\n    TUTORIAS: '#9c27b0',\r\n    ACTIVIDADES_CULTURALES: '#2e7d32',\r\n  };\r\n\r\n  const handleDownload = async (id: string, tipo: 'original' | 'generado' | 'firmado') => {\r\n    try {\r\n      const response = await CreditosService.descargarArchivo(id, tipo);\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `${tipo}-${Date.now()}.pdf`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n    } catch (error: any) {\r\n      toast.error('No fue posible descargar el archivo solicitado');\r\n    }\r\n  };\r\n\r\n  const handleGenerarConstancia = async (estudianteId: string) => {\r\n    try {\r\n      setAccionando(estudianteId);\r\n      await CreditosService.generarConstancia(estudianteId);\r\n      toast.success('Constancia generada para todos los créditos del estudiante');\r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudo generar la constancia');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const handleValidar = async () => {\r\n    if (!dialogValidar.credito) {\r\n      toast.error('No se seleccionó un crédito');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setAccionando(dialogValidar.credito.id);\r\n      await CreditosService.revisarCredito({\r\n        id: dialogValidar.credito.id,\r\n        aprobado: true,\r\n        observaciones: dialogValidar.observaciones,\r\n        archivoFirmado: dialogValidar.archivo || undefined, // Archivo opcional\r\n      });\r\n      toast.success(`Crédito ${dialogValidar.credito.numero} validado correctamente`);\r\n      setDialogValidar({ open: false });\r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudo validar el crédito');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const handleRechazar = async () => {\r\n    if (!dialogRechazo.credito) return;\r\n    if (!dialogRechazo.motivo.trim()) {\r\n      toast.error('Debes indicar el motivo de rechazo');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setAccionando(dialogRechazo.credito.id);\r\n      await CreditosService.revisarCredito({\r\n        id: dialogRechazo.credito.id,\r\n        aprobado: false,\r\n        motivoRechazo: dialogRechazo.motivo.trim(),\r\n      });\r\n      toast.success(`Crédito ${dialogRechazo.credito.numero} rechazado`);\r\n      setDialogRechazo({ open: false, motivo: '' });\r\n      cargarCreditos();\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.message || 'No se pudo rechazar el crédito');\r\n    } finally {\r\n      setAccionando(null);\r\n    }\r\n  };\r\n\r\n  const logoUrl = `${process.env.PUBLIC_URL}/logo-coordinacion.png`;\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', backgroundColor: '#f5f7f5' }}>\r\n      <PageHeader\r\n        title=\"Validación de Créditos Complementarios\"\r\n        subtitle=\"Coord. de Sistema Abierto · Modalidad Mixta\"\r\n        gradientFrom=\"#004d40\"\r\n        gradientTo=\"#009e60\"\r\n        maxWidth=\"xl\"\r\n        actions={\r\n          <Stack direction=\"row\" spacing={2}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              startIcon={<ArrowBack />}\r\n              onClick={() => navigate('/admin/dashboard')}\r\n              sx={{\r\n                borderColor: '#FFFFFF',\r\n                color: '#FFFFFF',\r\n                '&:hover': {\r\n                  borderColor: '#FFFFFF',\r\n                  backgroundColor: 'rgba(255,255,255,0.1)',\r\n                },\r\n              }}\r\n            >\r\n              Regresar\r\n            </Button>\r\n          </Stack>\r\n        }\r\n      />\r\n\r\n      <Container maxWidth=\"xl\" sx={{ pb: 6 }}>\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            p: { xs: 3, md: 4 },\r\n            borderRadius: 3,\r\n            mb: 4,\r\n          }}\r\n        >\r\n          <Stack spacing={3}>\r\n            <Box>\r\n              <Typography variant=\"h5\" fontWeight={600} sx={{ color: '#006000', mb: 1 }}>\r\n                Panel de seguimiento\r\n              </Typography>\r\n              <Typography variant=\"body1\" color=\"text.secondary\">\r\n                Gestiona los créditos complementarios enviados por los estudiantes. Puedes generar la constancia, adjuntar el documento firmado\r\n                y comunicar el resultado a la coordinación académica.\r\n              </Typography>\r\n            </Box>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #f59e0b', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">Pendientes</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.PENDIENTE}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #6366f1', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">En revisión</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.EN_REVISION}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #16a34a', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">Validados</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.VALIDADO}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={6} md={3}>\r\n                <Card sx={{ borderLeft: '4px solid #ef4444', borderRadius: 3 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">Rechazados</Typography>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">{resumen.RECHAZADO}</Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n          </Stack>\r\n        </Paper>\r\n\r\n        <Paper elevation={1} sx={{ borderRadius: 3 }}>\r\n          <Box sx={{ px: { xs: 3, md: 4 }, py: 3 }}>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2, flexWrap: 'wrap', gap: 2 }}>\r\n              <Typography variant=\"h6\" fontWeight={600}>\r\n                Créditos registrados ({creditosFiltrados.flat().length})\r\n              </Typography>\r\n              <Select\r\n                value={filtro}\r\n                onChange={(e) => setFiltro(e.target.value as FiltroEstatus)}\r\n                size=\"small\"\r\n                sx={{ minWidth: 120 }}\r\n              >\r\n                {estatusOptions.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </Box>\r\n            <TextField\r\n              fullWidth\r\n              placeholder=\"Buscar por nombre o matrícula...\"\r\n              value={busqueda}\r\n              onChange={(e) => setBusqueda(e.target.value)}\r\n              size=\"small\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Search />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              sx={{ maxWidth: 400 }}\r\n            />\r\n          </Box>\r\n\r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: 300 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : creditos.length === 0 ? (\r\n          <Box sx={{ textAlign: 'center', py: 10, backgroundColor: 'white', borderRadius: 3, mx: { xs: 2, md: 4 }, mb: 4 }}>\r\n            <PictureAsPdf sx={{ fontSize: 64, color: '#cbd5f5', mb: 2 }} />\r\n            <Typography variant=\"h6\" color=\"text.secondary\">\r\n              No hay créditos en este estado.\r\n            </Typography>\r\n          </Box>\r\n        ) : (\r\n          <Stack spacing={4} sx={{ px: { xs: 2, md: 4 }, pb: 4 }}>\r\n            {Object.keys(creditosPorTipo).map((tipo) => {\r\n              const gruposPorTipo = creditosPorTipo[tipo];\r\n              if (gruposPorTipo.length === 0) return null;\r\n\r\n              return (\r\n                <Box key={tipo}>\r\n                  <Paper elevation={1} sx={{ mb: 3, p: 2, backgroundColor: TIPO_COLORS[tipo], color: 'white' }}>\r\n                    <Typography variant=\"h5\" fontWeight=\"bold\">\r\n                      {TIPO_LABELS[tipo]} ({gruposPorTipo.flat().length} crédito{gruposPorTipo.flat().length !== 1 ? 's' : ''})\r\n                    </Typography>\r\n                  </Paper>\r\n\r\n                  <Stack spacing={3}>\r\n                    {gruposPorTipo.map((grupoCreditos, index) => {\r\n              if (grupoCreditos.length === 0) return null;\r\n\r\n              const primerCredito = grupoCreditos[0];\r\n              const estudiante = primerCredito.estudiante;\r\n              const estudianteId = primerCredito.estudiante?.id;\r\n              const nombreCompleto = estudiante\r\n                ? `${estudiante.usuario.nombre} ${estudiante.usuario.apellidoPaterno ?? ''} ${estudiante.usuario.apellidoMaterno ?? ''}`.replace(/\\s+/g, ' ').trim()\r\n                : 'Sin información';\r\n\r\n              const tieneConstanciaGenerada = grupoCreditos.some((c) => c.archivoValidacionGenerada);\r\n              const todosValidados = grupoCreditos.every((c) => c.estatus === 'VALIDADO');\r\n\r\n              return (\r\n                <Paper key={estudianteId || index} elevation={2} sx={{ p: 3, borderRadius: 3 }}>\r\n                  <Stack spacing={3}>\r\n                    {/* Información del estudiante */}\r\n                    <Box sx={{ backgroundColor: '#f8fafc', p: 2, borderRadius: 2 }}>\r\n                      <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                        {nombreCompleto}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Matrícula: {estudiante?.matricula ?? '---'}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Carrera: {estudiante?.carrera?.nombre ?? '---'}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                        Créditos registrados: {grupoCreditos.length}\r\n                      </Typography>\r\n                    </Box>\r\n\r\n                    {/* Botón para generar constancia (una sola por estudiante) */}\r\n                    {estudianteId && (\r\n                      <Box>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          startIcon={accionando === estudianteId ? <CircularProgress size={18} color=\"inherit\" /> : <TaskAlt />}\r\n                          disabled={accionando === estudianteId || todosValidados}\r\n                          onClick={() => handleGenerarConstancia(estudianteId)}\r\n                          sx={{ backgroundColor: '#008000', '&:hover': { backgroundColor: '#006000' } }}\r\n                        >\r\n                          {tieneConstanciaGenerada ? 'Regenerar constancia' : 'Generar constancia'}\r\n                        </Button>\r\n                        {tieneConstanciaGenerada && primerCredito.archivoValidacionGenerada && (\r\n                          <Button\r\n                            variant=\"outlined\"\r\n                            startIcon={<Download />}\r\n                            onClick={() => handleDownload(primerCredito.id, 'generado')}\r\n                            sx={{ ml: 2 }}\r\n                          >\r\n                            Descargar constancia generada\r\n                          </Button>\r\n                        )}\r\n                      </Box>\r\n                    )}\r\n\r\n                    {/* Lista de créditos del estudiante */}\r\n                    <Grid container spacing={2}>\r\n                      {grupoCreditos.map((credito) => (\r\n                        <Grid item xs={12} md={6} key={credito.id}>\r\n                          <Card sx={{ borderRadius: 2, border: '1px solid #e2e8f0' }}>\r\n                            <CardContent>\r\n                              <Stack spacing={2}>\r\n                                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                  <Typography variant=\"subtitle1\" fontWeight=\"bold\">\r\n                                    {credito.titulo}\r\n                                  </Typography>\r\n                                  <Chip\r\n                                    label={ESTATUS_CHIP[credito.estatus].label}\r\n                                    color={ESTATUS_CHIP[credito.estatus].color}\r\n                                    size=\"small\"\r\n                                  />\r\n                                </Box>\r\n\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                  <strong>Tipo:</strong> {credito.tipo.replace(/_/g, ' ')}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                  <strong>Descripción:</strong> {credito.descripcion}\r\n                                </Typography>\r\n                                {credito.tipo === 'CURSOS' && (\r\n                                  <Box sx={{ p: 1.5, borderRadius: 1, backgroundColor: '#f5f5f5' }}>\r\n                                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                      <strong>Horas del archivo original:</strong> {credito.horasCurso || 0}\r\n                                    </Typography>\r\n                                    {credito.archivosAdicionales && credito.archivosAdicionales.length > 0 && (\r\n                                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                        <strong>Archivos adicionales:</strong> {credito.archivosAdicionales.length}\r\n                                      </Typography>\r\n                                    )}\r\n                                    <Typography variant=\"body2\" fontWeight=\"bold\" color=\"primary\">\r\n                                      <strong>Total de horas:</strong> {credito.horasTotales || credito.horasCurso || 0} / 60\r\n                                    </Typography>\r\n                                    {credito.archivoCombinado && (\r\n                                      <Alert severity=\"info\" sx={{ mt: 1 }}>\r\n                                        Este crédito tiene un PDF combinado con todos los archivos (solo visible para administradores).\r\n                                      </Alert>\r\n                                    )}\r\n                                  </Box>\r\n                                )}\r\n\r\n                                {credito.motivoRechazo && (\r\n                                  <Box sx={{ backgroundColor: '#fef2f2', p: 1.5, borderRadius: 1, border: '1px solid #fecaca' }}>\r\n                                    <Typography variant=\"caption\" color=\"error\" fontWeight=\"bold\">\r\n                                      Motivo de rechazo:\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" color=\"error\">\r\n                                      {credito.motivoRechazo}\r\n                                    </Typography>\r\n                                  </Box>\r\n                                )}\r\n\r\n                                <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n                                  <Button\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    startIcon={<Visibility />}\r\n                                    onClick={async () => {\r\n                                      try {\r\n                                        const response = await CreditosService.descargarArchivo(credito.id, 'original');\r\n                                        // Crear Blob con el tipo MIME correcto para PDF\r\n                                        const blob = new Blob([response.data], { type: 'application/pdf' });\r\n                                        const url = window.URL.createObjectURL(blob);\r\n                                        setPreviewDialog({ open: true, url });\r\n                                      } catch (error: any) {\r\n                                        toast.error('No se pudo cargar el archivo para previsualización');\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    Previsualizar\r\n                                  </Button>\r\n                                  <Button\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    startIcon={<Download />}\r\n                                    onClick={() => handleDownload(credito.id, 'original')}\r\n                                  >\r\n                                    {credito.archivoCombinado ? 'Ver PDF combinado' : 'Ver evidencia'}\r\n                                  </Button>\r\n\r\n                                  {credito.archivoValidado && (\r\n                                    <Button\r\n                                      variant=\"outlined\"\r\n                                      size=\"small\"\r\n                                      color=\"success\"\r\n                                      startIcon={<Download />}\r\n                                      onClick={() => handleDownload(credito.id, 'firmado')}\r\n                                    >\r\n                                      Constancia firmada\r\n                                    </Button>\r\n                                  )}\r\n\r\n                                  <Button\r\n                                    variant=\"contained\"\r\n                                    size=\"small\"\r\n                                    color=\"success\"\r\n                                    startIcon={<TaskAlt />}\r\n                                    onClick={() => setDialogValidar({ open: true, credito })}\r\n                                  >\r\n                                    Validar\r\n                                  </Button>\r\n\r\n                                  <Button\r\n                                    variant=\"outlined\"\r\n                                    size=\"small\"\r\n                                    color=\"error\"\r\n                                    startIcon={<WarningAmber />}\r\n                                    onClick={() => setDialogRechazo({ open: true, credito, motivo: '' })}\r\n                                  >\r\n                                    Rechazar\r\n                                  </Button>\r\n                                </Stack>\r\n                              </Stack>\r\n                            </CardContent>\r\n                          </Card>\r\n                        </Grid>\r\n                      ))}\r\n                    </Grid>\r\n                  </Stack>\r\n                </Paper>\r\n              );\r\n            })}\r\n                  </Stack>\r\n                </Box>\r\n              );\r\n            })}\r\n          </Stack>\r\n        )}\r\n        </Paper>\r\n      </Container>\r\n\r\n      {/* Dialogo validar */}\r\n      <Dialog\r\n        open={dialogValidar.open}\r\n        onClose={() => setDialogValidar({ open: false })}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Validar crédito</DialogTitle>\r\n        <DialogContent sx={{ display: 'flex', flexDirection: 'column', gap: 2, py: 2 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            El crédito será marcado como validado. Opcionalmente puedes adjuntar la constancia firmada y agregar observaciones.\r\n          </Typography>\r\n          <Button\r\n            variant=\"outlined\"\r\n            component=\"label\"\r\n            startIcon={<PictureAsPdf />}\r\n          >\r\n            Seleccionar PDF firmado (opcional)\r\n            <input\r\n              hidden\r\n              type=\"file\"\r\n              accept=\"application/pdf\"\r\n              onChange={(event) =>\r\n                setDialogValidar((prev) => ({\r\n                  ...prev,\r\n                  archivo: event.target.files ? event.target.files[0] : null,\r\n                }))\r\n              }\r\n            />\r\n          </Button>\r\n          {dialogValidar.archivo && (\r\n            <Typography variant=\"body2\">\r\n              Archivo seleccionado: <strong>{dialogValidar.archivo.name}</strong>\r\n            </Typography>\r\n          )}\r\n          <TextField\r\n            label=\"Observaciones (opcional)\"\r\n            multiline\r\n            minRows={3}\r\n            value={dialogValidar.observaciones ?? ''}\r\n            onChange={(event) =>\r\n              setDialogValidar((prev) => ({\r\n                ...prev,\r\n                observaciones: event.target.value,\r\n              }))\r\n            }\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDialogValidar({ open: false })}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"success\" onClick={handleValidar}>\r\n            Validar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialogo rechazo */}\r\n      <Dialog\r\n        open={dialogRechazo.open}\r\n        onClose={() => setDialogRechazo({ open: false, motivo: '' })}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>Rechazar crédito</DialogTitle>\r\n        <DialogContent sx={{ display: 'flex', flexDirection: 'column', gap: 2, py: 2 }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Describe el motivo del rechazo que recibirá el estudiante.\r\n          </Typography>\r\n          <TextField\r\n            label=\"Motivo de rechazo\"\r\n            multiline\r\n            minRows={3}\r\n            value={dialogRechazo.motivo}\r\n            onChange={(event) =>\r\n              setDialogRechazo((prev) => ({\r\n                ...prev,\r\n                motivo: event.target.value,\r\n              }))\r\n            }\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDialogRechazo({ open: false, motivo: '' })}>Cancelar</Button>\r\n          <Button variant=\"contained\" color=\"error\" onClick={handleRechazar}>\r\n            Rechazar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialogo de previsualización */}\r\n      <Dialog\r\n        open={previewDialog.open}\r\n        onClose={() => {\r\n          if (previewDialog.url) {\r\n            window.URL.revokeObjectURL(previewDialog.url);\r\n          }\r\n          setPreviewDialog({ open: false, url: null });\r\n        }}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { height: '90vh' },\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <Typography variant=\"h6\">Previsualización del Documento</Typography>\r\n            <Button \r\n              onClick={() => {\r\n                if (previewDialog.url) {\r\n                  window.URL.revokeObjectURL(previewDialog.url);\r\n                }\r\n                setPreviewDialog({ open: false, url: null });\r\n              }}\r\n            >\r\n              Cerrar\r\n            </Button>\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent sx={{ p: 0, height: 'calc(100% - 64px)', position: 'relative', overflow: 'hidden' }}>\r\n          {previewDialog.url && (\r\n            <Box\r\n              component=\"embed\"\r\n              src={`${previewDialog.url}#toolbar=1&navpanes=1&scrollbar=1`}\r\n              type=\"application/pdf\"\r\n              sx={{\r\n                width: '100%',\r\n                height: '100%',\r\n                minHeight: '600px',\r\n                border: 'none',\r\n              }}\r\n            />\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminCreditsPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}